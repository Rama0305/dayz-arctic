// Project: DayZ Indonesia
// INCLUDS //
#include <a_samp>
// #include <a_mysql>


#undef MAX_PLAYERS
#define MAX_PLAYERS 500
#include <crashdetect>
#include <streamer>
#include <zcmd>
#include <sscanf2>
#include <dof2>
#include <FCNPC>
#include <YSF>
#include <colandreas>
#include <gzs>
#include <core>
#include <float>
#include <sampvoice>
#include <Editar>
#include <a_http>
#include <mapandreas>


// new DB:AO_DB;

// include
#include "./Modules/Defines.pwn"
#include "./Modules/Enum.pwn"
#include "./Modules/Variables.pwn"
#include "./Modules/stock.pwn"
#include "./Modules/Textdraw.pwn"
// #include "./Modules/mysql.pwn"
















#include "./Modules/Command/Command.pwn"






// ant cheaters //
#include <AntiSpam>		//Anti chat spam- Rogue
#include <AFkill>	    //fake kill
#include <anti-cheat>	//teleporte e airbreak
#include <AntiJC>		//Anti jetpack cheats- Rogue
#include <rAGM>			//Anti godmode -Rogue
#include <rAgc>			//Anti gun cheats -Rogue
#include <rAsc>			//Anti speed cheats- Rogue
#pragma disablerecursion
#pragma warning disable 213







main()
{
	CREDITOS();
}



static const sAnimList[][50] =
{
    {"AIRPORT"},
    {"ATTRACTORS"},
    {"BAR"},
    {"BASEBALL"},
    {"FIRE_VICTIM"},
    {"BEACH"},
    {"BENCH_PRESS"},
    {"GIRLFRIEND_INJECTION"},
    {"BICYCLE"},
    {"MOTORBIKE"},
    {"BIKE_JUMP"},
    {"BIKES"},
    {"QUADBIKE"},
    {"BIKE_DRAGONBALL"},
    {"BMX"},
    {"BOMBER"},
    {"BOXING"},
    {"BASKETBALL"},
    {"FRIEND"},
    {"BUS"},
    {"CAMERA"},
    {"CAR"},
    {"CARRY"},
    {"CAR_CHAT"},
    {"CASINO"},
    {"CHAINSAW"},
    {"HELICOPTER"},
    {"CLOTHES"},
    {"COACH"},
    {"COLT45"},
    {"COP_AMBIENT"},
    {"COP_DRAGONBALL"},
    {"CRACK"},
    {"HOUSE"},
    {"DAM_JUMP"},
    {"DANCING"},
    {"DEALER"},
    {"DILDO"},
    {"DODGE"},
    {"BULLDOZER"},
    {"DRIVEBYS"},
    {"FAT"},
    {"FIGHT_B"},
    {"FIGHT_C"},
    {"FIGHT_D"},
    {"FIGHT_E"},
    {"FINALE"},
    {"FINALE2"},
    {"FLAME"},
    {"FLOWERS"},
    {"FOOD"},
    {"FREE_WEIGHTS"},
    {"GANGS"},
    {"GANG_HANDS"},
    {"GHETTO_DRAGONBALL"},
    {"GOGGLES"},
    {"GRAFFITI"},
    {"GRAVEYARD"},
    {"GRENADE"},
    {"GYMNASIUM"},
    {"HAIRCUTS"},
    {"HEIST9"},
    {"INTERIOR_HOUSE"},
    {"INTERIOR_OFFICE"},
    {"INTERIOR_SHOP"},
    {"JUST_BUSINESS"},
    {"KART"},
    {"KISSING"},
    {"KNIFE"},
    {"LAP_DANCE1"},
    {"LAP_DANCE2"},
    {"LAP_DANCE3"},
    {"LOWRIDER"},
    {"MISSION_CHASE"},
    {"MISSION_END"},
    {"MEDIC"},
    {"MISC"},
    {"MOUNTAIN_BIKE"},
    {"MUSCULAR"},
    {"NEVADA"},
    {"ONLOOKERS"},
    {"BETTING_SHOP"},
    {"PARACHUTE"},
    {"PARK"},
    {"PAUL_AND_MAC"},
    {"PEDESTRIAN"},
    {"PLAYER_DRIVEBYS"},
    {"PLAYER_IDLES"},
    {"POLICE"},
    {"POOL"},
    {"POOR"},
    {"PYTHON"},
    {"QUAD"},
    {"QUAD_DRAGONBALL"},
    {"RAPPING"},
    {"RIFLE"},
    {"RIOT"},
    {"BANK_ROBBERY"},
    {"ROCKET"},
    {"RUSTLER"},
    {"RYDER"},
    {"SCRATCHING"},
    {"SHAMAL"},
    {"SHOP"},
    {"SHOTGUN"},
    {"SILENCED"},
    {"SKATE"},
    {"SMOKING"},
    {"SNIPER"},
    {"SPRAY_CAN"},
    {"STRIP"},
    {"SUNBATHE"},
    {"SWAT"},
    {"SWEET"},
    {"SWIM"},
    {"SWORD"},
    {"TANK"},
    {"TATTOOS"},
    {"TEC"},
    {"TRAIN"},
    {"TRUCK"},
    {"UZI"},
    {"VAN"},
    {"VENDING"},
    {"VORTEX"},
    {"WAYFARER"},
    {"WEAPONS"},
    {"WUZI"},
    {"WORK"},
    {"GFUNK"},
    {"RUNNINGMAN"},
    {"SAMP"}
};




msa(cor, mens[])
{
	new cont;
	for(new i; i<MAX_PLAYERS; i++)
	{
	    if(Online(i))
	    {
	        if(AdminPlayer(i) > 0)
	        {
	            if(ModoAdmin[i] == 1)
	            {
	                cont++;
	            	SendClientMessage(i, cor, mens);
	            }
	        }
	    }
	}
	return cont;
}

public OnPlayerSpamChat(playerid)
{
	if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
	format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected SPAM!", playerid, Nome(playerid));
	msa(0xFA8072ff, Test_String);
	print(Test_String);
	format(Test_String, sizeof(Test_String),  "[ANT CHEATER] You have been kicked for suspected SPAM!", playerid, Nome(playerid));
	ms(playerid, 4, Test_String);
	kikar(playerid);
	return 1;
}

public OnPlayerFakeKill(playerid, spoofedid, spoofedreason, faketype)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Fake Kill!", playerid, Nome(playerid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Fake Kill!", playerid, Nome(playerid));
    ms(playerid, 4, Test_String);
    kikar(playerid);
    return 1;
}

public OnPlayerHackTeleport(playerid, Float:distance)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Teleport!", playerid, Nome(playerid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Teleport!", playerid, Nome(playerid));
    ms(playerid, 4, Test_String);
    kikar(playerid);
    return 1;
}

public OnPlayerAirbreak(playerid)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Airbreak!", playerid, Nome(playerid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Airbreak!", playerid, Nome(playerid));
    ms(playerid, 4, Test_String);
    kikar(playerid);
    return 1;
}

public OnPlayerJetpackCheat(playerid)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected JetPack Hack!", playerid, Nome(playerid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected JetPack Hack!", playerid, Nome(playerid));
    ms(playerid, 4, Test_String);
    kikar(playerid);
    return 1;
}

public OnPlayerGodmode(playerid, gmtype)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    if(gmtype == 0) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) Suspected of using PLAYER GOD MODE %d!", playerid, Nome(playerid));
    if(gmtype == 1) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) Suspected of using GOD MODE %d!", playerid, Nome(playerid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    return 1;
}


public OnPlayerGunCheat(playerid, weaponid, ammo, hacktype)
{
    if(IsPlayerNPC(playerid)) return 1;
    new Test_String[200];
    if(hacktype == 1) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Weapon Hack: %s.", playerid, Nome(playerid), nome_arma(weaponid));
    if(hacktype == 2) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Ammo Hack: %s [%d].", playerid, Nome(playerid), nome_arma(weaponid), ammo);
    if(hacktype == 3) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) has been kicked for suspected Unlimited Ammo: %s [%d].", playerid, Nome(playerid), nome_arma(weaponid), ammo);
    if(hacktype == 4) format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) suspected of using Rapid Fire: %s.", playerid, Nome(playerid), nome_arma(weaponid));
    msa(0xFA8072ff, Test_String);
    print(Test_String);
    if(hacktype == 1) format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Weapon Hack: %s.", playerid, Nome(playerid), nome_arma(weaponid));
    if(hacktype == 2) format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Ammo Hack: %s [%d].", playerid, Nome(playerid), nome_arma(weaponid), ammo);
    if(hacktype == 3) format(Test_String, sizeof(Test_String), "[ANT CHEATER] You have been kicked for suspected Unlimited Ammo: %s [%d].", playerid, Nome(playerid), nome_arma(weaponid), ammo);
    if(hacktype != 4)
    {
        ms(playerid, 4, Test_String);
        kikar(playerid);
    }
    return 1;
}

public OnPlayerSpeedCheat(playerid, speedtype)
{
    if(IsPlayerNPC(playerid)) return 1;
    if(Online(playerid))
    {
        new Test_String[200];
        format(Test_String, sizeof(Test_String), "[ANT CHEATER] ID %d (%s) suspected of Speed Cheats!", playerid, Nome(playerid));
        msa(0xFA8072ff, Test_String);
        print(Test_String);
    }
    return 1;
}


public OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
    if(IsPlayerNPC(playerid)) return 0;

    new weaponsdata[13][2];
    if(pickupid == pickup_paraquedas)
    {
        for (new i = 0; i <= 12; i++) GetPlayerWeaponData(playerid, i, weaponsdata[i][0], weaponsdata[i][1]);
        if(weaponsdata[11][0] == 0 || weaponsdata[11][1] == 0)
        {
            GivePlayerWeapon(playerid, 46, 1);
            SetPlayerArmedWeapon(playerid, 46);
            ms(playerid, 1, "You have already taken the parachute, now you can jump from the plane.");
        }
    }

    if(pickupid == pickup_sair_aviao)
    {
        ACInfo[playerid][acAirbreakTime] = gettime() + 5;
        ACInfo[playerid][acImmunity] = gettime() + 5;
        for (new i = 0; i <= 12; i++) GetPlayerWeaponData(playerid, i, weaponsdata[i][0], weaponsdata[i][1]);
        // if(weaponsdata[11][0] == 0 || weaponsdata[11][1] == 0) return ms(playerid, 0, "Kamu belum ambil parasut!");
        new rand = random(sizeof pos_aleatoria);
        SetPVarInt(playerid, "ignorar_gelo", 1);
        SetPlayerPos(playerid, pos_aleatoria[rand][0], pos_aleatoria[rand][1], pos_aleatoria[rand][2]);
        SetPlayerFacingAngle(playerid, pos_aleatoria[rand][3]);
        SetPlayerInterior(playerid, 0);
        SetPlayerVirtualWorld(playerid, 0);
        ms(playerid, 1, "You left the safe zone!");
    }

    return 1;
}


public FCNPC_OnSpawn(npcid)
{
	new i = ID_Zombie[npcid];
	if(i != -1)
	{
        if(Zombie[i][z_Existe] == 1)
        {
            setar_info_zombie(i);
            if(Zombie[i][z_Arma] != 0) FCNPC_SetWeapon(npcid, Zombie[i][z_Arma]);
            if(Zombie[i][z_Municao] != 0)FCNPC_SetAmmo(npcid, Zombie[i][z_Municao]);
            if(Zombie[i][z_Capacete] != 0) Setar_Capacete(npcid, Zombie[i][z_Capacete], 100);
            if(Zombie[i][z_Colete] != 0) Setar_Colete(npcid, Zombie[i][z_Colete], 100);
            if(Zombie[i][z_Mascara] != 0) Setar_Mascara(npcid, 100);
            KillTimer_(Zombie[i][z_Timer]);
            FCNPC_SetFightingStyle(npcid, 5);
            FCNPC_SetHealth(npcid, Zombie[i][z_Vida]);
            FCNPC_SetSkin(npcid, Zombie[i][z_Skin]);
			Zombie_(i, 0);
        }
    }
    SetPlayerColor(npcid, 0x000000ff);
	return 1;
}

public FCNPC_OnDeath(npcid, killerid, reason)
{
	new i = ID_Zombie[npcid];
	if(i != -1)
	{
		if(Zombie[i][z_Spawn] != -555)
		{
		    new sss[150];
		    new Float:p[3];
			FCNPC_GetPosition(npcid, p[0], p[1], p[2]);
		    PegarFrente(p[0], p[1], random(360), random(5)*0.3);
	  		criar_item(67, p[0], p[1], p[2], 7+random(10), FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[67][item_Tipo], 5*60);

		    if(killerid >= 0 && killerid < MAX_PLAYERS)
			{
			    if(Online(killerid))
			    {
			        if(Modo[killerid] == 1)
			        {
			            pInfo[killerid][pZombies] ++;
			            pInfo[killerid][pXPH] += 5;
						format(sss, 150, "Kamu membunuh zombie dengan menggunakan %s.", nome_arma(reason));
						ms(killerid, 3, sss);
						ms(killerid, 3, "Kamu mendapat 5 XP, peralatan zombie sudah dijatuhkan.");

						if(pInfo[killerid][pClasse] == 3)
						{
						    FCNPC_GetPosition(npcid, p[0], p[1], p[2]);
						    PegarFrente(p[0], p[1], random(360), random(5)*0.3);
							criar_item(65, p[0], p[1], p[2], 10, FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[65][item_Tipo], 5*60);
						}
			        }
			    }
			}

			if(Mascara[npcid] != 0)
			{
				PegarFrente(p[0], p[1], random(360), random(5)*0.3);
				criar_item(4, p[0], p[1], p[2], 1, FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[4][item_Tipo], 5*60);
			}

	        if(Zombie[i][z_Colete] != 0)
			{
				PegarFrente(p[0], p[1], random(360), random(5)*0.3);
				criar_item(12+Zombie[i][z_Colete], p[0], p[1], p[2], 1, FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[12+Zombie[i][z_Colete]][item_Tipo], 5*60);
			}

	        if(Zombie[i][z_Capacete] != 0)
			{
				PegarFrente(p[0], p[1], random(360), random(5)*0.3);
				criar_item(15+Zombie[i][z_Capacete], p[0], p[1], p[2], 1, FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[15+Zombie[i][z_Capacete]][item_Tipo], 5*60);
			}

			if(Zombie[i][z_Arma] != 0)
			{
				PegarFrente(p[0], p[1], random(360), random(5)*0.3);
				criar_item(arma_id(Zombie[i][z_Arma]), p[0], p[1], p[2], 1, FCNPC_GetVirtualWorld(npcid), FCNPC_GetInterior(npcid), Itens[arma_id(Zombie[i][z_Arma])][item_Tipo], 5*60);
			}

	        FCNPC_SetVirtualWorld(npcid, 99999);
	        FCNPC_GetPosition(npcid, p[0], p[1], p[2]);
	        Zombie[i][z_Spawn] = -555;
	        Zombie[i][z_Actor] = CreateDynamicActor(Zombie[i][z_Skin], p[0], p[1], p[2], Zombie[i][z_A], 0, 0, 0, 0, -1, STREAMER_ACTOR_SD, -1, 0);
			return 1;
		}
	}
	return 1;
}

// ketika game mulai
public OnGameModeInit()
{
	// // mysql connection
	// new MySQLOpt: option_id = mysql_init_options();
	// mysql_set_option(option_id, AUTO_RECONNECT, true);
	// g_SQL = mysql_connect(MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD, MYSQL_DATABASE, option_id);
	// if (g_SQL == MYSQL_INVALID_HANDLE || mysql_errno(g_SQL) != 0)
	// {
	// 	print("MySQL connection failed. Server is shutting down.");
	// 	return 1;
	// }
	// print("MySQL connection is successful.");
	// if((AO_DB = db_open("allbuildings.db")) == DB:0) print("All Buildings - Loading Failed (Database Could Not Be Opened).");
	// else print("All Buildings - Loading Loaded (Database Opened).");
	// mysql_tquery(g_SQL, "SELECT * FROM `whitelist`", "LoadWhitlist");

    // funcoes do game //
    servidor_ligado = 0;
    etapa = 0;
    ManualVehicleEngineAndLights();
    DisableInteriorEnterExits();
    ShowNameTags(0);
    EnableStuntBonusForAll(0);
    UsePlayerPedAnims();
    ShowPlayerMarkers(0);
    SetGameModeText("Arctic Dayz");
    SendRconCommand( "Bahasa Indonesia" );
	AddPlayerClass(0, 657.4556,-540.1187,16.3359, 269.1425, 0, 0, 0, 0, 0, 0);


    // zerando id dos zombies //
    for(new z; z<MAX_PLAYERS; z++) ID_Zombie[z] = -1;

    // GZ preta do gps //
    GZ_PRETA = GZ_CriarGz(0, 0, 6500, 6500, 0, 0x000000ff);

    // criando canais //
    for(new can; can<sizeof Radios; can++) Radios[can][r_Canal] = SvCreateGStream ( 0xffff00ff , Radios[can][r_Nome]);

	// veiculo do tutorial //
	carro_tutorial = CreateVehicle(422, -1076.7863, -1638.4641, 76.2488, 144.7200, 1, 3, 30);
	CARRO_DE_FERRO_VELHO[carro_tutorial] = -1;
	UpdateVehicleDamageStatus(carro_tutorial, 1, encode_doors(2, 2, 2, 2), 0, encode_tires(1,1,1,1));
	SetVehicleHealth(carro_tutorial, 300);
	SetVehicleVirtualWorld(carro_tutorial, 999);
	Info_Veiculo[carro_tutorial] = -1;

	CreateDynamicObject(19570, 1342.54663, -1623.01941, 12.58036,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(19882, 1342.37634, -1623.25220, 12.59708,   0.00000, 0.00000, 22.32000, 999);
	CreateDynamicObject(19835, 1342.17297, -1623.16833, 12.68318,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(11740, 1342.12915, -1623.49341, 12.61409,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(2880, 1342.29297, -1623.79944, 12.58060,   -25.83400, -90.00000, 0.00000, 999);
	CreateDynamicObject(19574, 1342.28577, -1623.35498, 12.62101,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(19575, 1342.35657, -1623.49463, 12.62100,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(19576, 1342.46777, -1623.43701, 12.60760,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(19636, 1342.46228, -1622.61890, 12.58180,   0.00000, 0.00000, 90.00000, 999);
	CreateDynamicObject(19637, 1341.62463, -1623.24841, 12.58180,   0.00000, 0.00000, 155.70000, 999);
	CreateDynamicObject(19638, 1341.80847, -1622.77502, 12.74740,   0.00000, 0.00000, 129.17999, 999);
	CreateDynamicObject(1796, -70.07918, -1139.84070, 0.09763,   0.00000, 0.00000, 67.62000, 999);
	CreateDynamicObject(11738, -62.64656, -1127.80872, 0.13128,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(11738, -62.84446, -1127.55688, 0.13128,   0.00000, 0.00000, -23.70000, 999);
	CreateDynamicObject(11748, -62.96780, -1127.70093, 0.11530,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(11748, -62.88770, -1127.81580, 0.11530,   0.00000, 0.00000, -22.86000, 999);
	CreateDynamicObject(11748, -62.90970, -1127.92822, 0.14330,   0.00000, 12.95500, -114.84000, 999);
	CreateDynamicObject(19142, -41.25190, -1159.60852, 0.32740,   0.00000, -90.00000, 0.00000, 999);
	CreateDynamicObject(19141, -40.97532, -1159.27954, 0.16900,   0.00000, -90.00000, 40.74000, 999);
	CreateDynamicObject(19921, -40.42200, -1159.54749, 0.20040,   0.00000, 0.00000, 60.72000, 999);
	CreateDynamicObject(19472, -44.61800, -1158.04834, 0.15800,   10.00200, 0.00000, 65.64000, 999);
	CreateDynamicObject(355, 225.14606, 1834.08826, 11.67290,   93.51400, 48.99600, -0.75300, 999);
	CreateDynamicObject(2040, 225.97820, 1833.83374, 11.73980,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(2040, 225.60529, 1833.77112, 11.73980,   0.00000, 0.00000, -35.46000, 999);
	CreateDynamicObject(356, 225.27850, 1833.46875, 11.87670,   20.00200, -90.00000, 7.44000, 999);
	CreateDynamicObject(2040, 225.45763, 1833.34668, 11.73980,   0.00000, 0.00000, -91.32001, 999);
	CreateDynamicObject(353, 225.93230, 1834.20105, 11.66090,   93.51400, 48.99600, 53.30702, 999);
	CreateDynamicObject(349, 225.96938, 1833.46533, 11.87670,   20.00200, -90.00000, 104.40000, 999);
	CreateDynamicObject(2040, 225.50832, 1833.38416, 11.95314,   0.00000, 0.00000, -61.38001, 999);
	CreateDynamicObject(348, 225.62370, 1833.83154, 11.86530,   93.51400, 48.99600, -12.33300, 999);
	CreateDynamicObject(19793, 557.27374, 1518.70020, 0.91576,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(19793, 557.41339, 1518.87146, 0.91576,   0.00000, 0.00000, -19.38000, 999);
	CreateDynamicObject(19793, 557.37952, 1518.74963, 1.04340,   0.00000, 0.00000, -108.84000, 999);
	CreateDynamicObject(19941, 556.93408, 1518.48047, 0.81710,   0.00000, -13.97400, -9.42000, 999);
	CreateDynamicObject(19941, 556.94800, 1518.35291, 0.81710,   0.00000, -13.97400, -27.96000, 999);
	CreateDynamicObject(19941, 556.80682, 1518.43811, 0.79310,   0.00000, -3.50900, -96.42000, 999);
	CreateDynamicObject(19941, 556.87738, 1518.42407, 0.84310,   0.43600, 1.72300, -135.84000, 999);
	CreateDynamicObject(3930, 557.51501, 1518.11633, 0.86000,   0.00000, 0.00000, 20.64000, 999);
	CreateDynamicObject(2037, 556.78510, 1518.82397, 0.83580,   1.59200, -5.57200, 16.74000, 999);
	CreateDynamicObject(2037, 556.78198, 1518.69580, 0.83580,   1.59200, -5.57200, -3.96000, 999);
	CreateDynamicObject(2037, 556.91309, 1518.82129, 0.86780,   1.59200, -5.57200, 88.62000, 999);
	CreateDynamicObject(1724, -1115.79529, -1635.24060, 75.36481,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(1724, -1114.32019, -1635.25732, 75.36481,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(2069, -1116.29773, -1636.44104, 75.39520,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(2229, -1116.35510, -1635.30444, 75.38040,   0.00000, 0.00000, 45.00000, 999);
	CreateDynamicObject(1796, -1112.53735, -1639.43298, 75.38341,   0.00000, 0.00000, 88.20000, 999);
	CreateDynamicObject(1773, -1104.07471, -1639.11353, 76.14480,   0.00000, 0.00000, -90.00000, 999);
	CreateDynamicObject(3383, -1107.49500, -1635.27869, 75.37500,   0.00000, 0.00000, 180.00000, 999);
	CreateDynamicObject(19917, -1098.24890, -1613.08289, 75.35090,   0.00000, 0.00000, 0.00000, 999);
	CreateDynamicObject(1025, -1097.27588, -1613.62927, 75.81689,   0.00000, 0.00000, 90.00000, 999);
	CreateDynamicObject(19918, -1097.79346, -1612.72339, 75.36516,   0.00000, 0.00000, -10.26000, 999);
	CreateDynamicObject(2969, -1097.39673, -1613.08228, 75.48330,   0.00000, 0.00000, 31.86000, 999);
    CreateDynamicObject(18875, -1241.07166, -2334.82544, 17.85550,   0.00000, 0.00000, 0.00000, 999);
    CreateDynamicObject(18875, 263.10800, 1883.41406, -30.34392,   0.00000, 0.00000, 116.88000, 999);
// td waktu sama jam
	InitTextdraws(); //ini text draw nya
    CreatePlayerTextdraw();
	// sistema de editar no android //
    Editar_TextDraws();

	// informacoes zeradas antes de carregar os veiculos //
	for(new v; v<MAX_VEICULOS; v++)
	{
		Veiculo[v][v_Existe] = 0;
		Veiculo[v][v_ID] = -1;
		format(Veiculo[v][v_Dono], MAX_PLAYER_NAME, "TIDAK ADA SIAPA SIAPA");
		Veiculo[v][v_Cadeado] = 0;
		Veiculo[v][v_Modelo] = 0;
		Veiculo[v][v_Gasolina] = 0;
		Veiculo[v][v_Bateria] = 0;
		Veiculo[v][v_Lataria] = 0;
		Veiculo[v][v_Trancado] = 0;
		Veiculo[v][v_Cor1] = 0;
		Veiculo[v][v_Cor2] = 0;
		Veiculo[v][v_Base] = -1;
		Veiculo[v][v_X] = 0;
		Veiculo[v][v_Y] = 0;
		Veiculo[v][v_Z] = 0;
		Veiculo[v][v_A] = 0;
	}

	// areas de gas //
	for(new a; a<sizeof Area; a++)
	{
        Area[a][area_GZ] = GZ_CriarGz(Area[a][area_X], Area[a][area_Y], Area[a][area_Altura], Area[a][area_Largura], 0, 0x00ff0080);
	}

	// carregando configuracoes //
	carregar_configuracoes();

	// objetos do mapa //
	remover_colisoes();
	CA_Init();
	criar_mapa();
	respawn_auto = tempo_respawn;


    // mercado negro //
	CreateDynamic3DTextLabel( "Tekan H untuk \nmengakses Menu", 0xffffff99, 295.8394,-38.3835,1001.5156, 20, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
	CreateDynamicPickup(1313, 1, 295.8394,-38.3835,1001.5156, -1, -1, -1, STREAMER_PICKUP_SD, -1, 0);
	CreateDynamic3DTextLabel( "Tekan H untuk \nMerakit Senjata", 0xffffff99, 293.6200,-32.0509,1001.5156, 20, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
	CreateDynamicPickup(1239, 1, 293.6200,-32.0509,1001.5156, -1, -1, -1, STREAMER_PICKUP_SD, -1, 0);

	// pickup do aviao //
	// spawn di pesawat, atau 
	// pickup_paraquedas = CreateDynamicPickup(371, 1, 247.2742,305.0732,999.1484, -1, -1, -1, STREAMER_PICKUP_SD, -1, 0);
	pickup_sair_aviao = CreateDynamicPickup(19605, 1, 244.5969,304.9693,999.1484, -1, -1, -1, STREAMER_PICKUP_SD, -1, 0);
    CreateDynamicObject(988, 1.84966, 34.43311, 1198.28442,   0.00000, 0.00000, 0.00000);
	CreateDynamicObject(2634, 2.46517, 22.80224, 1199.90076,   0.00000, 0.00000, 90.00000);


	if(carregamento_lento == 0)
	{
		// carregar bando de dados //
		carregar_loots();
		carregar_bases();
		carregar_baus();
		carregar_mesas();
		carregar_oficinas();
		carregar_admins();
	    carregar_equipamentos();
		carregar_arvores();
		carregar_pedras();
		carregar_cameras();
		carregar_objetos();
		carregar_zombies();
		carregar_caixas();
		carregar_recicladoras();
		carregar_portoes();
		carregar_actors();
		carregar_mercadosnegros();
		carregar_veiculos();
		carregar_carros();
		carregar_postos();
		carregar_log_kills();
		carregar_log_combates();
		carregar_log_ban();
		carregar_log_kick();
		carregar_log_gmx();
		carregar_log_admin();
		carregar_log_punicao();
		carregar_log_cash();
		carregar_log_nick();
		carregar_cadastros();
		carregar_log_conecoes();

		// timers do servidor //
		SetTimer("Reloginho2", 1000, 1); // Mulai timer "Reloginho2", setiap 1 detik, berulang
		SetTimer("Reloginho", 1000, 1); // Mulai timer "Reloginho", setiap 1 detik, berulang
		SetTimer("Minas", 400, 1); // Mulai timer "Minas", setiap 400 milidetik, berulang
	    SetTimer("deletar_items", 10000, 1); // Mulai timer "deletar_items", setiap 10 detik, berulang


	    print("   ");
    	print("[ SERVER BERHASIL DINYALAKAN ]");
    	print("Mode pemuatan cepat.");
    	print("   ");
    	servidor_ligado = 1;
	}
	else
	{
		etapa = 0;
		KillTimer(timer_ligando);
		timer_ligando = SetTimer("menyalakan_server", 1000, 0);
	}
	SetTimer("DanosFlutuantes", 700, 1);
	SetTimer("AplicarAnim", 700, 1);

	return 1;
}


forward AplicarAnim();
public AplicarAnim()
{
	for(new i; i<MAX_PLAYERS; i++)
	{
	    if(Online(i))
	    {
	        if(Modo[i] == 1 || Modo[i] == 2)
			{
	            // atualizar busola //
                if(pInfo[i][pConfig][6] == 0)
                {
		        	GetPlayerCameraPos(i, fPX, fPY, fPZ);
		        	GetPlayerCameraFrontVector(i, fVX, fVY, fVZ);
		        	object_x = fPX + floatmul(fVX, fScale);
		        	object_y = fPY + floatmul(fVY, fScale);
		        	GetPlayerCameraPos(i, fPX, fPY, fPZ);
		        	new Float:angs = GetAngleToPoint(fPX, fPY, object_x, object_y);
					new angulos[5];
					new angulost[5][10];
					angulos[0] = floatround(angs);
					angulos[1] = angulos[0]-45;
					angulos[2] = angulos[0]+45;
					angulos[3] = angulos[0]-90;
					angulos[4] = angulos[0]+90;
					for(new f; f<5; f++)
					{
					    if(angulos[f] < 0) angulos[f] += 360;
					    if(angulos[f] > 360) angulos[f] -= 360;
					    if(angulos[f] < 10) format(angulost[f], 10, "_%d", angulos[f]);
					    else if(angulos[f] < 100) format(angulost[f], 10, "_%d", angulos[f]);
					    else format(angulost[f], 10, "%d", angulos[f]);

					    if(angulos[f] > 356 && angulos[f] < 4) format(angulost[f], 10, "_N", angulos[f]);
					    if(angulos[f] > 176 && angulos[f] < 184) format(angulost[f], 10, "_S", angulos[f]);
					    if(angulos[f] > 86 && angulos[f] < 94) format(angulost[f], 10, "_W", angulos[f]);
					    if(angulos[f] > 266 && angulos[f] < 274) format(angulost[f], 10, "_E", angulos[f]);
					    PlayerTextDrawSetString(i, T_Busola_p[i][f], angulost[f]);
					}
	            }
	        	if(Morto[i] != 0)
	        	{
	        	    ApplyAnimation(i, "CRACK", "CRCKIDLE1", 4.1, 1, 0, 0, 0, 0, 1);
	        	    if(TempoActor[i] > 0)
	        	    {
	        	        TempoActor[i] --;
	        	        if(TempoActor[i] == 0)
	        	        {
	        	            if(IsValidDynamicActor(ActorMorte[i]))
							{
								DestroyDynamicActor(ActorMorte[i]);
							}
	        	        }
	        	    }
	        	}
	        }
		}
	}
}


criar_df(playerid, interior, mundo, Float:x, Float:y, Float:z, dano)
{
	for(new i; i<MAX_DANOS; i++)
	{
	    if(DanoFlutuante[i][df_Existe] == 0)
	    {
	        DanoFlutuante[i][df_Existe] = 2;
			DanoFlutuante[i][df_3D] = CreateDynamic3DTextLabel( ConvertMoney(dano), 0xa1a1a199, x, y, z, 3000.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, mundo, interior, playerid, 300.0);
			Streamer_Update(playerid);
			break;
	    }
	}
	return 1;
}

forward DanosFlutuantes();
public DanosFlutuantes()
{
	for(new i; i<MAX_DANOS; i++)
	{
	    if(DanoFlutuante[i][df_Existe] == 2) DanoFlutuante[i][df_Existe] = 1;
	    else if(DanoFlutuante[i][df_Existe] == 1)
	    {
	        DanoFlutuante[i][df_Existe] = 0;
	        DestroyDynamic3DTextLabel(DanoFlutuante[i][df_3D]);
	    }
	}
}

public OnGameModeExit()
{
	// if(db_handle)
    // {
    //     mysql_close(db_handle);
    // }
    DOF2_Exit();
	return 1;
}

public OnPlayerRequestClass(playerid, classid)
{
    if(IsPlayerNPC(playerid)) return 0;
    if(servidor_ligado == 0) esperando[playerid] = 1;
    else esperando[playerid] = 2;
    SetTimerEx("respawn_player", 3500, 0, "d", playerid);
    return 1;
}

public OnPlayerConnect(playerid)
{

    SetPVarInt(playerid, "flood_conect", gettime());
    cadastro_player[playerid] = -1;
    flood_vpn[playerid] = 0;
    if(IsPlayerNPC(playerid)) return 1;
    GetPlayerName(playerid, nome_player[playerid], MAX_PLAYER_NAME);
	// CheckWhitelist(playerid, playername);
    invuneravel[playerid] = gettime();

	// VOIP //
    lstream[playerid] = SV_NULL;


    // verificar bots //
    new sss[300];
    if(CountIP(GetIP(playerid)) >= MAX_BOT_CONNECTIONS)
	{
	    format(sss, 300, "ANT BOT: Player - %s[%d] - has been kicked from the server by Ant Bot!", Nome(playerid), playerid);
	    escrever_log_kick(sss);
	    print(sss);
	    Kick(playerid);
		return 0;
	}
	format(sss, 300, "%s - ( %s )", Nome(playerid), GetIP(playerid));
	conectado[playerid] = 1;
	escrever_log_conecoes(sss);

    // actor morte //
    if(IsValidDynamicActor(ActorMorte[playerid])) DestroyDynamicActor(ActorMorte[playerid]);
	TempoActor[playerid] = 0;

    // obj TV //
    for(new ot; ot<50; ot++)
    {
        obj_tv_existe[playerid][ot] = 0;
       	DestroyDynamicObject_(obj_tv[playerid][ot]);
    }

    if( SvGetVersion(playerid) == SV_NULL ) ms(playerid, 0, "VOIP not found");
	else if(SvHasMicro(playerid) == SV_FALSE ) ms(playerid, 0, "VOIP: Microphone not loaded");
	else
	{
 		lstream[playerid] = SvCreateDLStreamAtPlayer(30.0, SV_INFINITY, playerid, 0xff0000ff, "L");
  		ms(playerid, 1, "VOIP has been successfully loaded!");
		SvAddKey(playerid, 0x42 );
        SvAddKey(playerid, 0x5A );
	}

	// setar android //
	Android[playerid] = 1;
	SetPVarInt(playerid, "Android", 1);

	// mostrar no mapa se for da mesma base //
	for(new pl; pl<MAX_PLAYERS; pl++)
	{
		if(IsValidDynamicMapIcon(Makers[playerid][pl]))
		{
			DestroyDynamicMapIcon(Makers[playerid][pl]);
		}
		if(IsValidDynamicMapIcon(Makers[pl][playerid]))
		{
			DestroyDynamicMapIcon(Makers[pl][playerid]);
		}
	}

	// mostranco acao player //
	mostrando_acao[playerid] = 0;

    // sistema de danos //
	dano_sofrido[playerid] = 0;
    dano_sofrido_player[playerid] = -1;
    dano_sofrido_arma[playerid] = 0;
    dano_causado[playerid] = 0;
    dano_causado_player[playerid] = -1;
    dano_causado_arma[playerid] = 0;
    mostrando_dano_gas[playerid] = 0;
    KillTimer_(timer_dano[playerid]);


	// mostrar quanto atira //
	flood_atirou[playerid] = gettime();

    // atendimentos //
	atendimento_admin[playerid] = -1;
	atendimento_player[playerid] = -1;

	// lanterna //
	lanterna_player[playerid] = 0;

	// canal privado //
    new sda[100];
    format(sda, 100, "Saluran - %d", playerid);
	CanalPrivado[playerid] = SvCreateGStream ( 0xffffffff, sda);

	// hakeando player //
    hackeando_id[playerid] = -1;
    hackeando_tempo[playerid] = 0;

    // sistema congelado //
    congelado[playerid] = 0;
    KillTimer_(timer_congelado[playerid]);

    // tutorial //
    tutorial[playerid] = 0;
    KillTimer_(timer_tutorial[playerid]);
    KillTimer_(timer_tutorial2[playerid]);

    // cigarro //
	fumando[playerid] = 0;

	// modo cs voip //
	falando[playerid] = 0;

	// texto 3d //
	if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);

	// mapa //
	mostrando_mapa[playerid] = 0;

	// rcs //
	RC[playerid] = INVALID_VEHICLE_ID;

	// laptop //
	KillTimer_(timer_satelite[playerid]);
	pode_mecher[playerid]  = 0;
	olhando_satelite[playerid]  = 0;
	mostrando_laptop[playerid]  = 0;
	if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);

    // cadeiras /
    cadeira_player[playerid] = -1;

    // camas /
    cama_player[playerid] = -1;

    // radio comunicador //
    chamando[playerid] = -1;
	KillTimer_(timer_chamando[playerid]);
	mostrando_chamada[playerid] = 0;

    Canal_Player[playerid] = -1;
    Canal_Base_Player[playerid] = -1;
    Canal_Privado[playerid] = -1;
    PlayAudioStreamForPlayer(playerid, "http://som.brasilplaygames.com.br/som/playsomdayz.mp3");

	// se for admin //
	ModoAdmin[playerid] = 0;

	// compra do mercado negro //
	mostrando_mn[playerid] = 0;

    // velocimetro //
    mostrando_velocimetro[playerid] = 0;
    mostrando_velocimetro2[playerid] = 0;
// baru sampe sini
	// sistema de salas //
	SetPVarInt(playerid, "remedio", -1);
	SetPVarInt(playerid, "morto", -1);
	SetPVarInt(playerid, "salvando", -1);

	// resetando sistema de localizar //
	Localizar_Player(playerid, 0.0,0.0,0.0,-1);
	olhando_camera[playerid] = -1;

	// pedido de entrar em base //
	SetPVarInt(playerid, "entrar_base", -1);
	SetPVarInt(playerid, "flood_pedir", gettime());

	camera_sniper[playerid] = 0;
    mostrando_classes[playerid] = 0;
	id_classe[playerid] = 0;
    craft_tipo[playerid] = 0;
	jbl_player[playerid] = -1;
    mostrando_premios[playerid] = -1;
    dialog_player[playerid] = -1;
    KillTimer_(timer_dialog_player[playerid]);
    info_Lobby[playerid] = 0;
    mostrando_sala[playerid] = 0;
	SalaPlayer[playerid] = -1;
	dono_sala[playerid] = 0;
	mostrando_login[playerid] = 0;
	mostrando_resultado[playerid] = 0;
    selecionando[playerid] = 0;
    mostrando_tv[playerid] = 0;
    tv_player[playerid] = -1;
    montando_carro[playerid] = -1;
    mostrando_portamalas[playerid] = -1;
    MORREU_POS[playerid] = 0;
    guardando[playerid] = 0;
    pInfo[playerid][pCadeia] = 0;

	// loja de armas //
	mostrando_loja[playerid] = 0;
	camera_player[playerid] = 0;
    idcameraplayer[playerid] = 0;

	// variaveis passe //
	PaginaPasseFree[playerid] = 0;
	PaginaPassePago[playerid] = 0;
	ItemPasseFree[playerid] = 0;
	ItemPassePago[playerid] = 0;

	// conectando o player ao server //
	SetPVarInt(playerid, "emcombate", gettime());
	PreloadAnims(playerid);
	Barra[playerid][b_Acao] = 0;
	Logado[playerid] = 0;
	invaberto[playerid] = 0;
	mostrando_inv_Lobby[playerid] = 0;
	Arma_Player[playerid] = 0;
	mostrando_arma[playerid] = 0;
	Modo[playerid] = 0;
	JetPack[playerid] = 0;
	com_jetpack[playerid] = 0;
	mostrando_jetpack[playerid] = 0;
	mostrando_mascara[playerid] = 0;
	player_gps[playerid] = 0;
	gps_player[playerid] = 0;
	mostrando_gps[playerid] = 0;
	Morto[playerid] = 0;
	Reanimando[playerid] = 0;

	mostrando_info[playerid] = 0;
	mostrando_info2[playerid] = 0;
	mostrando_Lobby[playerid] = 0;

	new filee[80];
	format(filee, 80, "Whitelist/%s.txt", Nome(playerid));
	if(!DOF2_FileExists(filee))
	{
        if(!VerificarNick(Nome(playerid)))
        {
			ms(playerid, 4, "--------------------------------------------------------------------");
			ms(playerid, 4, "Your name does not match the format accepted by the server!");
			ms(playerid, 4, "You must use first and last name, separated with an underscore ( _ ).");
			ms(playerid, 4, "Please change your nickname and try logging in again, sorry for the inconvenience.");
			ms(playerid, 4, "Example: Jack_Kristian.");
			ms(playerid, 4, "--------------------------------------------------------------------");
            kikar(playerid);
            return 1;
        }
	}

	return 1;
}

public SV_VOID:OnPlayerActivationKeyPress(SV_UINT:playerid, SV_UINT:keyid)
{

	if(!IsPlayerNPC(playerid))
	{
		if(keyid == 0x42 || keyid == 0x5A )
		{
			if(lstream[playerid] != SV_NULL )
			{
			    if(SvHasMicro(playerid) != SV_FALSE)
			    {
				    falando[playerid] = 1;
					if(Canal_Player[playerid] != -1) SvAttachSpeakerToStream(Radios[Canal_Player[playerid]][r_Canal], playerid); //canal
					else if(Canal_Base_Player[playerid] != -1)  SvAttachSpeakerToStream(CanalBase[Canal_Base_Player[playerid]], playerid); //canal base
					else if(Canal_Privado[playerid] != -1) SvAttachSpeakerToStream(CanalPrivado[Canal_Privado[playerid]], playerid); //canal privado
					else SvAttachSpeakerToStream(lstream[playerid], playerid); //local
				}
				else ms(playerid, 0, "Your Microphone has been disconnected!");
			}
		}
	}
}

public SV_VOID:OnPlayerActivationKeyRelease(SV_UINT:playerid,SV_UINT:keyid)
{

    if(!IsPlayerNPC(playerid))
	{
	    if(keyid == 0x42 || keyid == 0x5A )
		{
			if( lstream[playerid] != SV_NULL )
			{
			    falando[playerid] = 0;
				SvDetachSpeakerFromStream(lstream[playerid], playerid);
				if(Canal_Player[playerid] != -1) SvDetachSpeakerFromStream(Radios[Canal_Player[playerid]][r_Canal], playerid); //canal
				if(Canal_Base_Player[playerid] != -1) SvDetachSpeakerFromStream(CanalBase[Canal_Base_Player[playerid]], playerid); //canal base
				if(Canal_Privado[playerid] != -1) SvDetachSpeakerFromStream(CanalPrivado[Canal_Privado[playerid]], playerid); //canal privado
			}
		}
	}
}

public OnPlayerDisconnect(playerid, reason)
{
	if(IsPlayerNPC(playerid)) return 1;

	// VOIP //
	if(lstream[playerid] != SV_NULL) SvDeleteStream(lstream[playerid]);

	// ant boot //
	if(conectado[playerid] == 0) return 0;

	// actor morte //
    if(IsValidDynamicActor(ActorMorte[playerid])) DestroyDynamicActor(ActorMorte[playerid]);
	TempoActor[playerid] = 0;

	// se tiver logado //
	if(Logado[playerid] == 1)
	{
  		for(new pla; pla<MAX_PLAYERS; pla++)
		{
		    if(Online(pla))
		    {
		        if(tv_player[pla] == playerid)
		        {
		            cmd_tv(pla, #);
		            ms(pla, 4, "Player disconnected from the server!");
		        }

		        if(hackeando_id[pla] == playerid)
		        {
		            hackeando_id[pla] = -1;
				    hackeando_tempo[pla] = 0;
				    ms(pla, 3, "A cheating player just left, location unknown!");
		        }
		    }
		}

		new str[150];
		Barra[playerid][b_Acao] = 0;
		if(reason == 0) format(str, 150, " Player '%s' left the server due to connection error or crash ", Nome(playerid));
		if(reason == 1) format(str, 150, " Player '%s' left the server of their own volition ", Nome(playerid));
		if(reason == 2) format(str, 150, " Player '%s' left the server, was kicked or banned ", Nome(playerid));
		ProxDetector(30.0, playerid, str, 0xa1a1a1ff,0xa1a1a1ff,0xa1a1a1ff,0xa1a1a1ff,0xa1a1a1ff);


		// hackeando player //
		hackeando_id[playerid] = -1;
	    hackeando_tempo[playerid] = 0;

		// atendimentos //
		if(atendimento_player[playerid] != -1 || atendimento_admin[playerid] != -1) cmd_endhelp(playerid, #);
        for(new ii; ii<MAX_ATENDIMENTOS; ii++)
		{
		    if(Atendimento[ii][at_Existe] != 0)
	     	{
		        if(Comparar(Nome(playerid), Atendimento[ii][at_Player]))
		        {
					destruir_atendimento(ii);
					break;
				}
			}
		}

		// notbook //
		if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
		if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);

		if(Canal_Player[playerid] != -1)
		{
			format(str, 300, "Player '%s' has left the Radio Channel!", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(i == playerid) continue;
				if(Modo[i] != 1) continue;
				if(Canal_Player[i] != Canal_Player[playerid]) continue;
				ms(i, 4, str);
			}
			Canal_Player[playerid] = -1;
		}

		if(Canal_Base_Player[playerid] != -1)
		{
			format(str, 300, "Player '%s' has left the Base Radio Channel!", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(i == playerid) continue;
				if(Modo[i] != 1) continue;
				if(Canal_Base_Player[i] != Canal_Base_Player[playerid]) continue;
				ms(i, 4, str);
			}
			Canal_Base_Player[playerid] = -1;
		}

		if(Canal_Privado[playerid] != -1)
		{
			format(str, 300, "Player '%s' left the call due to disconnection from the server!", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(i == playerid)  continue;
				if(Canal_Privado[i] != Canal_Privado[playerid]) continue;
				ms(i, 4, str);
				Canal_Privado[i] = -1;
			}
			Canal_Privado[playerid] = -1;
		}

		if(RC[playerid] != INVALID_VEHICLE_ID)
		{
			if(GetVehicleModel(RC[playerid]) != 0)
			{
		        DestroyVehicle(RC[playerid]);
		        RC[playerid] = INVALID_VEHICLE_ID;
		        if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
		        SetCameraBehindPlayer(playerid);
			}
		}

		if(GetPVarInt(playerid, "morto") != -1)
		{
		    new id = GetPVarInt(playerid, "morto");
			if(Online(id))
			{
			    if(Morto[id] > 0)
			    {
			    	Morreu(id);
			    }
			}
		}

		if(GetPVarInt(playerid, "salvando") != -1)
		{
	        new id = GetPVarInt(playerid, "salvando");
			if(Online(id))
			{
	    		OnPlayerKeyStateChange2(id, KEY_SECONDARY_ATTACK, KEY_SECONDARY_ATTACK);
			}
		}

		if(Morto[playerid] > 0)
		{
		    Morto[playerid] = 0;
		    Reanimando[playerid] = 0;
		    Morrendo(playerid);
		}

		if(dono_sala[playerid] == 1)
	    {
	        new s = SalaPlayer[playerid];
	        if(s != -1)
	        {
	            if(TimePlayer[playerid] == 0 || TimePlayer[playerid] == 1)
	            {
			        if(!passar_dono(playerid, SalaPlayer[playerid]))
			        {
			        	Sala_(SalaPlayer[playerid], 1);
			        }
		        }
	        }
	    }
		else
		{
		    if(SalaPlayer[playerid] != -1)
		    {
		        sair_sala(playerid, SalaPlayer[playerid]);
		    }
		}

		if(SalaPlayer[playerid] != -1)
		{
		    new i = SalaPlayer[playerid];
		    if(Sala[i][sala_Jogando] == 1)
		    {
		        format(str, 150, "%s keluar dari pertandingan", Nome(playerid));
		        for(new q; q<MAX_PLAYERS; q++)
		        {
		            if(Online(q))
		            {
		                if(SalaPlayer[q] == i)
		                {
		                    ms(q, 0, str);
		                }
		            }
		        }
		    }
		    SalaPlayer[playerid] = -1;
		    TimePlayer[playerid] = -1;
		}

		if(GMX == 0)
		{
			if(Modo[playerid] == 1)
			{
			    if(EmCombate(playerid))
			    {
			        pInfo[playerid][pCadeia] += 20*60;
					format(pInfo[playerid][pCadeiaMotivo], 150, "Left during a fight");
					format(pInfo[playerid][pCadeiaAdmin], 150, "Otomatis");
					format(str, 150, "[PUNISHMENT] %s left during a fight and was automatically punished for %s minutes.", Nome(playerid), ConvertTime(20*60));
					SendClientMessageToAll(0xFA8072ff, str);
			    }
			}
		}

		destruir_veiculo_player(playerid);
		salvarplayer(playerid);

	    // canal privado //
	    if(CanalPrivado[playerid] != SV_NULL) SvDeleteStream(CanalPrivado[playerid]);
		CanalPrivado[playerid] = SV_NULL;
	}

	anims_lastlib[playerid] = "\0";
	return 1;
}
// baru sampe sini

mostrar_tela_de_login(playerid)
{
    SetPlayerVirtualWorld(playerid, 999);
    for(new i; i<30; i++) SendClientMessage(playerid, -1, "");
	SelectTextDraw_(playerid, 0x00ffffff);
	MostrarLogin(playerid);
	mostrar_ban(playerid);
	String_Gigante[0] = EOS;
	for(new no; no<sizeof novidades; no++) strcat(String_Gigante, novidades[no]);
	ShowPlayerDialog_(playerid, DIALOG_NOVIDADES, DIALOG_STYLE_MSGBOX, "{ffffff}news", String_Gigante, "Ok", "cancel");
	return 1;
}


public OnPlayerSpawn(playerid)
{
    if(IsPlayerNPC(playerid)) return 0;
	ClearAnimations(playerid); // Hapus animasi lari cepat
    // chamado no onplayerrequestclass ( se tiver desligado ainda ) //
    if(esperando[playerid] == 1)
    {
        if(IsPlayerConnected(playerid))
        {
            SelectTextDraw_(playerid, 0x00ffffff);
		    TogglePlayerSpectating(playerid, true);
		    KillTimer_(timer_player[playerid]);
			timer_player[playerid] = SetTimerEx("PlayerTimer", 1000, 1, "d", playerid);
			for(new a=3; a<sizeof T_Ligando_Server; a++) TextDrawHideForPlayer(playerid, T_Ligando_Server[a]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[0]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[1]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[2]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[3]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[4]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[5]);
			TextDrawShowForPlayer(playerid, T_Ligando_Server[6]);
		}
        return 1;
    }

    // chamado no onplayerrequestclass ( se tiver ligado ) //
    if(esperando[playerid] == 2)
    {
        if(IsPlayerConnected(playerid))
        {
            SelectTextDraw_(playerid, 0x00ffffff);
	        TogglePlayerSpectating(playerid, true);
		    KillTimer_(timer_player[playerid]);
			timer_player[playerid] = SetTimerEx("PlayerTimer", 1000, 1, "d", playerid);
            for(new a=3; a<sizeof T_Ligando_Server; a++) TextDrawHideForPlayer(playerid, T_Ligando_Server[a]);
	        TextDrawShowForPlayer(playerid, T_Ligando_Server[0]);
	        TextDrawShowForPlayer(playerid, T_Ligando_Server[1]);
	        TextDrawShowForPlayer(playerid, T_Ligando_Server[2]);
	        TextDrawShowForPlayer(playerid, T_Ligando_Server[7]);
	        tempo_conectar[playerid] = 5;
        }
        return 1;
    }


    if(jbl_player[playerid] != -1)
    {
        jbl_player[playerid] = -1;
		StopAudioStreamForPlayer(playerid);
    }

	new str[150];
	for(new frew; frew<10; frew++) RemovePlayerAttachedObject(playerid, frew);
	SetPVarInt(playerid, "tunning", 0);

	// skills das armas //
	SetPlayerSkillLevel(playerid, 0, 1);
	SetPlayerSkillLevel(playerid, 1, 999);
	SetPlayerSkillLevel(playerid, 2, 999);
	SetPlayerSkillLevel(playerid, 3, 999);
	SetPlayerSkillLevel(playerid, 4, 1);
	SetPlayerSkillLevel(playerid, 5, 999);
	SetPlayerSkillLevel(playerid, 6, 1);
	SetPlayerSkillLevel(playerid, 7, 999);
	SetPlayerSkillLevel(playerid, 8, 999);
	SetPlayerSkillLevel(playerid, 9, 999);
	SetPlayerSkillLevel(playerid, 10, 999);

	// mostrar no mapa se for da mesma base //
	for(new pl; pl<MAX_PLAYERS; pl++)
	{
		if(IsValidDynamicMapIcon(Makers[playerid][pl]))
		{
			DestroyDynamicMapIcon(Makers[playerid][pl]);
		}
		if(IsValidDynamicMapIcon(Makers[pl][playerid]))
		{
			DestroyDynamicMapIcon(Makers[pl][playerid]);
		}
	}

	// mostrando acao player //
	mostrando_acao[playerid] = 0;

	// esconder progressos //
	mostrando_gps[playerid] = 0;
	TextDrawHideForPlayer(playerid, TextGPS[0]);
	TextDrawHideForPlayer(playerid, TextGPS[1]);
 	PlayerTextDrawHide(playerid, TextGPS_p[playerid][0]);
 	mostrando_mascara[playerid] = 0;
	TextDrawHideForPlayer(playerid, TextMascara[0]);
	TextDrawHideForPlayer(playerid, TextMascara[1]);
 	PlayerTextDrawHide(playerid, TextMascara_p[playerid][0]);
	mostrando_jetpack[playerid] = 0;
	TextDrawHideForPlayer(playerid, TextJet[0]);
	TextDrawHideForPlayer(playerid, TextJet[1]);
 	PlayerTextDrawHide(playerid, TextJet_p[playerid][0]);

	// esconder textdraws do gas //
	TextDrawHideForPlayer(playerid, TextGas[0]);
	TextDrawHideForPlayer(playerid, TextGas[1]);
	TextDrawHideForPlayer(playerid, TextGas[2]);

	// esconder textdraw cash //
	PlayerTextDrawHide(playerid, T_Cash[playerid][0]);
	PlayerTextDrawHide(playerid, T_Cash[playerid][1]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][6]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][7]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][8]);

    if(mostrando_login[playerid] == 1 ) EsconderLogin(playerid);
    if(mostrando_info[playerid] == 1) esconderinfo(playerid);
	if(mostrando_info2[playerid] == 1) esconderinfo(playerid);
	if(mostrando_Lobby[playerid] == 1) esconderLobby(playerid);
	if(lanterna_player[playerid] == 1) retirar_lanterna(playerid);

    // texto 3d //
    if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
    if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);

	// esconder GZ PRETA  //
	GZ_EsconderGzPlayer(playerid, GZ_PRETA);

    if(cadeira_player[playerid] != -1)
    {
        cadeira_player[playerid] = -1;
        ClearAnimations(playerid, 1);
    }

    if(cama_player[playerid] != -1)
    {
        cama_player[playerid] = -1;
        ClearAnimations(playerid, 1);
    }

    SetPVarInt(playerid, "morto", -1);
	SetPVarInt(playerid, "salvando", -1);

	//  MODO Lobby //
	if(Modo[playerid] == 0)
	{
	    esconder_busola(playerid);
	    for(new fd; fd<25; fd++) SendClientMessage(playerid, -1, "");
	    SetPlayerWeather(playerid, 0);
	    GZ_MostrarGzPlayer(playerid, GZ_PRETA);
	    if(Logado[playerid] == 0)
	    {
	        MostrarLogin(playerid);
	        mostrar_ban(playerid);
			return 1;
	    }

		TextDrawHideForPlayer(playerid, T_Info_Player[0]);
		TextDrawHideForPlayer(playerid, T_Info_Player[1]);
		TextDrawHideForPlayer(playerid, T_Info_Player[2]);
		TextDrawHideForPlayer(playerid, T_Info_Player[3]);
	    PlayerTextDrawHide(playerid, T_Info_Player_p[playerid][0]);
	    if(mostrando_login[playerid] == 1 ) EsconderLogin(playerid);
	    if(mostrando_info[playerid] == 1) esconderinfo(playerid);
		if(mostrando_info2[playerid] == 1) esconderinfo(playerid);
		for(new a; a<sizeof Area; a++) GZ_EsconderGzPlayer(playerid, Area[a][area_GZ]);
	    for(new aa; aa<MAX_DROPS; aa++) GZ_EsconderGzPlayer(playerid, Drop[aa][drop_Gz]);

	    if(Canal_Player[playerid] != -1)
		{
		    new c = Canal_Player[playerid];
		    Canal_Player[playerid] = -1;
		    if(Radios[c][r_Canal] != SV_NULL) SvDeleteStream(Radios[c][r_Canal]);
		    Radios[c][r_Canal] = SvCreateGStream ( 0xffff00ff , Radios[c][r_Nome]);
			format(str, 300, "Player '%s' has left the Radio Channel!", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(Modo[i] != 1) continue;
				if(Canal_Player[i] != c) continue;
				SvAttachListenerToStream(Radios[c][r_Canal], i);
				ms(i, 4, str);
				if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
			}
			format(str, 150, "You left the Channel '%s', you are no longer in DAYZ mode.", Radios[c][r_Nome]);
			ms(playerid, 0, str);
		}

		if(Canal_Base_Player[playerid] != -1)
		{
		    new c = Canal_Base_Player[playerid];
		    Canal_Base_Player[playerid] = -1;
		    if(CanalBase[c] != SV_NULL) SvDeleteStream(CanalBase[c]);
		    format(str, 300, "Base %d", c);
		    CanalBase[c] = SvCreateGStream ( 0xffff00ff , str);
			format(str, 300, "Player '%s' has left the Base Channel!", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(Canal_Base_Player[i] != c) continue;
				SvAttachListenerToStream(CanalBase[c], i);
				ms(i, 4, str);
				if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
			}
			format(str, 150, "You left the Base Channel, you are no longer in DAYZ mode.");
			ms(playerid, 0, str);
		}

		if(Canal_Privado[playerid] != -1)
		{
		    new c = Canal_Privado[playerid];
		    Canal_Privado[playerid] = -1;
		    if(CanalPrivado[c] != SV_NULL) SvDeleteStream(CanalPrivado[c]);
		    new sdd[100];
		    format(sdd, 100, "Pribadi %d", c);
		    CanalPrivado[c] = SvCreateGStream ( 0xffff00ff , sdd);
			format(str, 300, "Player '%s' has left the call due to exiting DayZ Mode. !", Nome(playerid));
			for(new i; i<MAX_PLAYERS; i++)
			{
				if(!Online(i)) continue;
				if(Canal_Privado[i] != c) continue;
				ms(i, 4, str);
				Canal_Privado[i] = -1;
			}
		}

	    PlayerTextDrawShow(playerid, T_Cash[playerid][1]);
		StopAudioStreamForPlayer(playerid);
        ResetPlayerWeapons(playerid);
 	    carregarconta(playerid);
 	    SetarSkin(playerid, pInfo[playerid][pSkin]);
	    SetarVida(playerid, Vida[playerid]);
        Congelar(playerid);
        SelectTextDraw_(playerid, 0x00ffffff);

		if(SalaPlayer[playerid] == -1)
		{
			SetPlayerInterior(playerid, 1);
		    SetPlayerVirtualWorld(playerid, playerid);
		    SetPlayerPos(playerid, 248.3148,302.1143,999.1484);
		    SetPlayerFacingAngle(playerid, 42.4027);
		    SetPlayerCameraPos(playerid, 244.1894,306.2789,999.1558);
	     	SetPlayerCameraLookAt(playerid, 248.8184,303.2067,999.1484, CAMERA_CUT);
	     	ApplyAnimation(playerid,"CLOTHES", "CLO_PODE_LOOP", 4.1, 1, 0, 0, 0, 0, 1);
     	}
	}

	// modo historia //
	if(Modo[playerid] == 1)
	{
	    if(pInfo[playerid][pConfig][6] == 0) mostrar_busola(playerid);
	    SetPlayerWeather(playerid, id_clima_server);
	    GZ_MostrarGzPlayer(playerid, GZ_PRETA);
 	    SetarSkin(playerid, pInfo[playerid][pSkin]);
	    SetarVida(playerid, Vida[playerid]);
	    PlayerTextDrawShow(playerid, T_Cash[playerid][0]);

	    TextDrawShowForPlayer(playerid, T_Info_Player[0]);
		TextDrawShowForPlayer(playerid, T_Info_Player[1]);
		TextDrawShowForPlayer(playerid, T_Info_Player[2]);
		TextDrawShowForPlayer(playerid, T_Info_Player[3]);
	    PlayerTextDrawShow(playerid, T_Info_Player_p[playerid][0]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][3]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][4]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][5]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][6]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][7]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][8]);
	    if(mostrando_Lobby[playerid] == 1) esconderLobby(playerid);
	    if(mostrando_info[playerid] == 0) mostrarinfo(playerid);

		if(Morto[playerid] > 0)
		{
		    SetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
		    SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
		    SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
			SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
		}

	    Arma_Player[playerid] = -1;
	    ResetPlayerWeapons(playerid);
	    SetTimerEx("carregar_equi", 1000, 0, "d", playerid);
	    Descongelar(playerid);
	}

	if(Modo[playerid] == 2)
	{
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][3]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][4]);
	    PlayerTextDrawShow(playerid, InvInfo_p[playerid][5]);
	    PlayerTextDrawShow(playerid, T_Cash[playerid][0]);
	    Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]);
	    Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]);
	    Setar_Mascara(playerid, Mascara[playerid]);
	}

	// tutorial //
    if(Modo[playerid] == 3)
	{
	    SetPlayerWeather(playerid, 0);
	    tutorial[playerid] = 0;
	    tutorial_player(playerid);
	}

	return 1;
}


public OnPlayerDeath(playerid, killerid, reason)
{
    if(IsPlayerNPC(playerid)) return 0;

	new str[150];

	// MODO HISTORIA //
	if(Modo[playerid] == 1)
	{

		if(GetPVarInt(playerid, "flood_morreu") < gettime())
		{
	        if(Barra[playerid][b_Acao] != 0) Carregando(playerid, 2);
	        if(invaberto[playerid] != 0) fecharinv(playerid);
		    if(mostrando_arma[playerid] != 0) esconderarmas(playerid);

		    if(cadeira_player[playerid] != -1)
		    {
		        cadeira_player[playerid] = -1;
		        ClearAnimations(playerid, 1);
		    }

		    if(cama_player[playerid] != -1)
		    {
		        cama_player[playerid] = -1;
		        ClearAnimations(playerid, 1);
		    }

			if(killerid != INVALID_PLAYER_ID && killerid != -1 && killerid != playerid)
			{
				format(str, 150, "You were wounded by %s '%s', with a %s.", Nome(killerid), nome_classe(pInfo[playerid][pClasse]), nome_arma(reason));
				if(IsPlayerNPC(killerid))
				{
					format(str, 150, "You were wounded by a Zombie, with a %s.", nome_arma(reason));
				}
				else
				{
				    format(pInfo[playerid][pKiller], MAX_PLAYER_NAME, Nome(killerid));
				    pInfo[playerid][pArmaMorreu] = reason;
				    new str1[150];
				    format(str1, 150, "You wounded %s, with a %s.", Nome(playerid), nome_arma(reason));
				    ms(killerid, 2, str1);
				    SetPVarInt(killerid, "emcombate", gettime());
				}
			}
			else
			{
                format(pInfo[playerid][pKiller], MAX_PLAYER_NAME, Nome(-1));
   				pInfo[playerid][pArmaMorreu] = 0;
				format(str, 150, "You are seriously wounded and will return to the Lobby, if someone rescues you, you will stay alive.");
			}
			ms(playerid, 2, str);
			Morreu(playerid);
			salvarplayer(playerid);
			SetPVarInt(playerid, "flood_morreu", gettime()+3);
			SetPVarInt(playerid, "emcombate", gettime());
			return 1;
		}
	}


	// MODO PVP //
	if(Modo[playerid] == 2)
	{
	    if(GetPVarInt(playerid, "flood_morreu") < gettime())
		{
		    new i = SalaPlayer[playerid];
			if(i != -1)
			{
			    SalaMortes[playerid] ++;
			    if(killerid != INVALID_PLAYER_ID && killerid != -1)
			    {
					if(SalaPlayer[killerid] == i)
					{
						SalaKills[killerid] ++;
					}
				}

				Morto[playerid] = 1;
			}
			SetPVarInt(playerid, "flood_morreu", gettime()+3);
			return 1;
		}
	}


	return 1;
}

public OnVehicleDamageStatusUpdate(vehicleid, playerid)
{
    if(IsPlayerNPC(playerid)) return 0;

    new panels, doors, lights, tires;
    new idv = Info_Veiculo[vehicleid];
    GetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
	if(idv != -1) decode_tires(tires, Veiculo[idv][v_Pneu][0], Veiculo[idv][v_Pneu][1], Veiculo[idv][v_Pneu][2], Veiculo[idv][v_Pneu][3]);
	UpdateVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
	return 1;
}

public OnVehicleSpawn(vehicleid)
{

    SetTimerEx("carregar_tuning", 2000, 0, "d", vehicleid);
	if(vehicleid == carro_tutorial)
	{
    	UpdateVehicleDamageStatus(carro_tutorial, 1, encode_doors(2, 2, 2, 2), 0, encode_tires(1,1,1,1));
		SetVehicleHealth(carro_tutorial, 300);
		SetVehicleVirtualWorld(carro_tutorial, 999);
	}

	for(new i; i<MAX_CARROS; i++)
	{
	    if(Carros[i][fv_Existe] != 1) continue;
     	if(Carros[i][fv_Veiculo] == vehicleid)
        {
            SetVehicleHealth(Carros[i][fv_Veiculo], 300);
			new panels, doors, lights, tires;
		    GetVehicleDamageStatus(Carros[i][fv_Veiculo], panels, doors, lights, tires);
			UpdateVehicleDamageStatus(Carros[i][fv_Veiculo], panels, encode_doors(2, 2, 2, 2), lights, encode_tires(1,1,1,1));
        }
	}
	return 1;
}

public OnVehicleDeath(vehicleid, killerid)
{
    if(IsPlayerNPC(killerid)) return 0;

	new v = Info_Veiculo[vehicleid];
	if(v != -1) KillTimer_(Veiculo[v][v_Timer]);
	return 1;
}

public FCNPC_OnTakeDamage(npcid, issuerid, Float:amount, weaponid, bodypart)
{
	new i = ID_Zombie[npcid];
	if(i != -1)
	{
		if(!IsPlayerNPC(issuerid))
		{
		    if(issuerid >= 0 && issuerid < MAX_PLAYERS)
		    {
		        new dado;
				dano_arma(weaponid, dado);
				amount = float(dado);
		        if(pInfo[issuerid][pClasse] == 0)
		        {
		            amount += amount;
		        }

		        if(pInfo[issuerid][pClasse] == 3)
		        {
		            if(bodypart == 9)
		            {
		                FCNPC_OnDeath(npcid, issuerid, weaponid);
		            }
		        }

		        if(weaponid == 0) amount = 10.0;
		        new str[10];
		        new Float:p[3];
		        FCNPC_GetPosition(npcid, p[0], p[1], p[2]);
		        new rands;
				rands = random(2);
		        if(rands == 0) p[0] += RandomFloat1[random(5)];
		        else p[0] -= RandomFloat1[random(5)];
		        rands = random(2);
		        if(rands == 0) p[1] += RandomFloat1[random(5)];
		        else p[1] -= RandomFloat1[random(5)];
		        rands = random(2);
		        if(rands == 0) p[2] += RandomFloat1[random(sizeof RandomFloat1)];
		        else p[2] -= RandomFloat1[random(sizeof RandomFloat1)];
		        format(str, 10, "%d", floatround(amount));

		        for(new ii; ii<1000; ii++)
		        {
		            if(Apagar[ii][apags_Existe] == 0)
		            {
		                Apagar[ii][apags_Existe] = 1;
		                Apagar[ii][apags_3D] = CreateDynamic3DTextLabel( str, 0xa1a1a190, p[0], p[1], p[2], 200, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, issuerid, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
	                    SetTimerEx("destruir_3d", 1000, 0, "d", ii);
	                    break;
		            }
		        }
		        Streamer_Update(issuerid);
	        }
	    }
	}
	return 1;
}

public FCNPC_OnGiveDamage(npcid, damagedid, Float:amount, weaponid, bodypart)
{
    new i = ID_Zombie[npcid];
	if(i != -1)
	{
	    if(!IsPlayerNPC(damagedid))
		{
		    if(damagedid >= 0 && damagedid < MAX_PLAYERS)
		    {
			    // dano que o zombie causa //
			    amount = 15.0;

		        if(pInfo[damagedid][pClasse] == 1)
		        {
		            amount -= amount/2;
		        }

		        new str[10];
		        new Float:p[3];
		        GetPlayerPos(damagedid, p[0], p[1], p[2]);
		        new rands;
				rands = random(2);
		        if(rands == 0) p[0] += RandomFloat1[random(5)];
		        else p[0] -= RandomFloat1[random(5)];
		        rands = random(2);
		        if(rands == 0) p[1] += RandomFloat1[random(5)];
		        else p[1] -= RandomFloat1[random(5)];
		        rands = random(2);
		        if(rands == 0) p[2] += RandomFloat1[random(sizeof RandomFloat1)];
		        else p[2] -= RandomFloat1[random(sizeof RandomFloat1)];
		        format(str, 10, "%d", floatround(amount));

		        for(new ii; ii<1000; ii++)
		        {
		            if(Apagar[ii][apags_Existe] == 0)
		            {
		                Apagar[ii][apags_Existe] = 1;
		                Apagar[ii][apags_3D] = CreateDynamic3DTextLabel( str, 0xffff0090, p[0], p[1], p[2], 200, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, -1, -1, damagedid, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
	                    SetTimerEx("destruir_3d", 1000, 0, "d", ii);
	                    break;
		            }
		        }
		        Streamer_Update(damagedid);
		        Vida[damagedid] -= floatround(amount);
		        if(Vida[damagedid] < 0) OnPlayerDeath(damagedid, npcid, weaponid);
		        else SetarVida(damagedid, Vida[damagedid]);
            }
	    }
	}
	return 1;
}

public OnPlayerGiveDamage(playerid, damagedid, Float:amount, weaponid, bodypart)
{
	if(IsPlayerNPC(playerid)) return 0;
	if(IsPlayerNPC(damagedid)) return 0;

	if(Online(damagedid))
	{
	    if(weaponid == 18 || weaponid == 37)
	    {
	        if(GetPVarInt(playerid, "incendio") > gettime()) return 1;
	        else SetPVarInt(playerid, "incendio", gettime()+2);
	    }

		if(invuneravel[damagedid] > gettime())
		{
		    GameTextForPlayer(playerid, "~r~~h~ANTI SPAWN KILL~n~~w~MOHON TUNGGU", 1000, 3);
		    return 1;
		}

		if(invuneravel[playerid] > gettime())
		{
		    GameTextForPlayer(playerid, "~r~~h~ANTI SPAWN KILL~n~~w~MOHON TUNGGU", 1000, 3);
		    return 1;
		}

		new pode = 0;
		if(Morto[damagedid] == 0) pode = 1;
		if(Reanimando[damagedid] != 0) pode = 1;

		if(pode == 1 && ModoAdmin[damagedid] == 0)
		{
		    new dado;
		    if(dano_arma(weaponid, dado)) amount = float(dado);

		    if(Online(playerid) && ModoAdmin[playerid] == 0)
		    {
		        if(Modo[damagedid] == 2) if(SalaPlayer[playerid] == SalaPlayer[damagedid] && SalaPlayer[playerid] != -1) if(TimePlayer[playerid] == TimePlayer[damagedid]) return 1;
		        if(pInfo[playerid][pClasse] == 3)
			    {
			        if(slot_arma(weaponid) == 5) amount += amount/4;
			        if(slot_arma(weaponid) == 2) if(slot_arma(GetPlayerWeapon(damagedid)) != 2 || pInfo[damagedid][pClasse] != 3 ) amount += amount/2;
			    }
			    if(pInfo[damagedid][pClasse] == 1) if(slot_arma(weaponid) == 1) amount -= amount/2;
				if(Modo[damagedid] == 1)
				{

				    if(!aliados(damagedid, playerid))
				    {
				        if(Reanimando[damagedid] != 0)
					    {
					        Morto[damagedid] = 0;
		        			Morrendo(damagedid);
					        return 1;
						}
				    }

				    if(BasePlayer(playerid) != BasePlayer(damagedid))
					{
					    if(!EmCombate(damagedid))
					    {
						    new sss[300];
							SetPVarInt(damagedid, "emcombate", gettime()+45);
							format(sss, 300, "Player '%s' started a fight against '%s'", Nome(playerid), Nome(damagedid));
							escrever_log_combates(sss);
						}
					}
					else
					{
					    if(BasePlayer(damagedid) == -1)
					    {
					        if(!EmCombate(damagedid))
						    {
							    new sss[300];
								SetPVarInt(damagedid, "emcombate", gettime()+45);
								format(sss, 300, "Player '%s' started a fight against '%s'", Nome(playerid), Nome(damagedid));
								escrever_log_combates(sss);
							}
					    }
					}
				}
			}
			Dano(damagedid, playerid, amount, weaponid, bodypart);
		}
	}
    return 1;
}

public OnPlayerTakeDamage(playerid, issuerid, Float:amount, weaponid, bodypart)
{
    // playerid recebe dano //
	if(IsPlayerNPC(playerid)) return 0;
	if(IsPlayerNPC(issuerid)) return 0;
    SetPlayerHealth(playerid, 99999999);

	new pode = 0;
	if(Reanimando[playerid] != 0) pode = 1;
	if(Morto[playerid] == 0) pode = 1;

	if(pode == 1 && ModoAdmin[playerid] == 0 && invuneravel[playerid] < gettime())
	{
	    if(issuerid == INVALID_PLAYER_ID || issuerid < 0 || issuerid >= MAX_PLAYERS)
		{
		    if(weaponid == 18 || weaponid == 37)
		    {
		        if(GetPVarInt(playerid, "incendio") > gettime()) return 1;
		        else SetPVarInt(playerid, "incendio", gettime()+2);
		    }
	    	new dado;
	    	if(dano_arma(weaponid, dado)) amount = float(dado);
	    	if(Reanimando[playerid] != 0)
		    {
		        Morto[playerid] = 0;
    			Morrendo(playerid);
		        return 1;
		    }
		    Dano(playerid, issuerid, amount, weaponid, bodypart);
		}
	}
    return 1;
}

public OnPlayerShootDynamicObject(playerid, weaponid, objectid, Float:x, Float:y, Float:z)
{
	if(GetPVarInt(playerid, "floot_atirou_mina") < gettime())
	{
		for(new i; i<MAX_MINAS; i++)
		{
			if(Mina[i][mina_Existe] == 1)
			{
			    if(objectid == Mina[i][mina_Obj])
			    {
					explodir_mina(i, playerid);
			    	SetPVarInt(playerid, "floot_atirou_mina", gettime() + 5);
			    }
			}
		}
	}
	return 1;
}


public OnPlayerSelectDynamicObject(playerid, objectid, modelid, Float:x, Float:y, Float:z)
{


	return 1;
}


public OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{
    new Float:fOriginX, Float:fOriginY, Float:fOriginZ;
   	GetPlayerLastShotVectors(playerid, fOriginX, fOriginY, fOriginZ, LastHit[playerid][0], LastHit[playerid][1], LastHit[playerid][2]);

	if(Modo[playerid] == 1 || Modo[playerid] == 2)
	{
	    // DANO FLUTUANTE //
	    if(weapon_fire(weaponid))
	    {
	    	flood_atirou[playerid] = gettime()+6;
		    if(ModoAdmin[playerid] == 0)
		    {
			    if(hittype == BULLET_HIT_TYPE_PLAYER)
			    {
					if(!IsPlayerNPC(hitid))
			        {
			            if(Online(hitid))
			            {
			                if(ModoAdmin[hitid] == 0)
			                {
								// objeto tv player //
								for(new p; p<MAX_PLAYERS; p++)
								{
								    if(Online(p))
								    {
								        if(ModoAdmin[p] == 1)
								        {
											if(tv_player[p] == playerid)
											{
					                            criar_bola(p, LastHit[playerid][0], LastHit[playerid][1], LastHit[playerid][2]);
										    }
									    }
								    }
							    }
							}
						}
					}
				}
			}
		}
	}
    return 1;
}

criar_bola(p, Float:fHitPosX, Float:fHitPosY, Float:fHitPosZ)
{
    for(new ot; ot<50; ot++)
    {
        if(obj_tv_existe[p][ot] == 0)
        {
        	obj_tv_existe[p][ot] = 2;
       		obj_tv[p][ot] = CreateDynamicObject(1946, fHitPosX, fHitPosY, fHitPosZ, 0, 0, 0, -1, -1, p, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
			Streamer_Update(p);
			break;
		}
    }
	return 1;
}


// forward OnQueryResult(query_id, affected_rows, error_code, error[], bool:complete);

// public OnQueryResult(query_id, affected_rows, error_code, error[], bool:complete)
// {
//     if(error_code != 0)
//     {
//         printf("Error MySQL: %s", error);
//         return 0;
//     }

//     if(affected_rows == 0)
//     {
//         // pastikan variabel playerid dideklarasikan atau diambil dengan benar sebelum dipakai
//         Kick(playerid); // Jika playerid belum dideklarasikan, perlu disesuaikan
//         return 0;
//     }
//     return 1;
// }

// stock CheckWhitelist(playerid, const pname[])
// {
//     // untuk menghindari shadowing, gunakan nama variabel lain misalnya pname
//     // contoh: panggilan query dengan benar dan tipe argumen sesuai:
//     mysql_query(db_handle, "SELECT * FROM whitelist WHERE username='%s'", pname);
// }


public OnPlayerText(playerid, text[])
{
    if(IsPlayerNPC(playerid)) return 0;
    new string[200];

    if(atendimento_player[playerid] != -1)
    {
        format(string, 200, "[Player] {ffffff}%s [%d]: {a1a1a1}%s", Nome(playerid), playerid, text);
        for(new i; i<MAX_PLAYERS; i++) if(Online(i)) if(atendimento_admin[i] == atendimento_player[playerid]) SendClientMessage(i, 0xffff00ff, string);
        SendClientMessage(playerid, 0xffff00ff, string);
        return 0;
    }

    if(atendimento_admin[playerid] != -1)
    {
        format(string, 200, "[Admin] {ffffff}%s [%d]: {a1a1a1}%s", Nome(playerid), playerid, text);
        for(new i; i<MAX_PLAYERS; i++) if(Online(i)) if(atendimento_player[i] == atendimento_admin[playerid]) SendClientMessage(i, 0x00ffffff, string);
        SendClientMessage(playerid, 0x00ffffff, string);
        return 0;
    }


	if(GetPVarInt(playerid, "flood_chat") > gettime())
	{
		ms(playerid, 0, "You cannot speak too often!");
		return 0;
	}

    if(Modo[playerid] == 1)
    {
		if(ModoAdmin[playerid] == 0)
		{
			format(string, 200, "%s [%d]: %s", Nome(playerid), playerid, text);
			ProxDetector(30.0, playerid, string, 0xffffffff,0xDCDCDCff,0xC0C0C0ff,0xA9A9A9ff,0x808080ff);
		}
		else
		{
		    format(string, 200, "ADMIN %s [%d]: %s", Nome(playerid), playerid, text);
			ProxDetector(50.0, playerid, string, 0xFFB6C1ff,0xFFB6C1ff,0xFFB6C1ff,0xFFB6C1ff,0xFFB6C1ff);
		}
	}

	if(Modo[playerid] == 2 || Modo[playerid] == 0)
	{
	    if(SalaPlayer[playerid] != -1)
	    {
	        for(new i; i<MAX_PLAYERS; i++)
	        {
	            if(Online(i))
	            {
	                if(SalaPlayer[i] == SalaPlayer[playerid])
	                {
						format(string, 200, "%s [%d]: {a1a1a1}%s", Nome(playerid), playerid, text);
		    			if(TimePlayer[playerid] == 0) SendClientMessage(i, 0x0000ffff, string);
		    			if(TimePlayer[playerid] == 1) SendClientMessage(i, 0xff0000ff, string);
					}
				}
			}
		}
	}

    SetPVarInt(playerid, "flood_chat", gettime()+5);
	return 0;
}

public OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
    if(IsPlayerNPC(playerid)) return 0;

	if(cadeira_player[playerid] != -1) cadeira_player[playerid] = -1;
	if(cama_player[playerid] != -1) cama_player[playerid] = -1;

	new rcc = VeiculoRC(vehicleid);
	if(rcc != -1)
	{
	    if(GetPVarInt(rcc, "infinito") == 0)
	    {
			ClearAnimations(playerid, 1);
			GameTextForPlayer(playerid, "~r~KENDARAAN TERBUKA", 1500, 3);
        }
	}

    if(Travado(vehicleid))
	{
		ClearAnimations(playerid, 1);
		GameTextForPlayer(playerid, "~~r~KENDARAAN TERKUNCI", 1500, 3);
	}

	new cer = carro_ferro_velho(vehicleid);
    if(cer != -1)
    {
        if(sendo_montado(cer) != -1)
        {
			ClearAnimations(playerid, 1);
			GameTextForPlayer(playerid, "~y~VEHICLE BEING REPAIRED", 2500, 3);
		}
    }

	return 1;
}

public OnPlayerExitVehicle(playerid, vehicleid)
{


	return 1;
}

public OnPlayerStateChange(playerid, newstate, oldstate)
{
    if(IsPlayerNPC(playerid)) return 0;

    new veii = GetPlayerVehicleID(playerid);
    new rcc;
	if(rcc != INVALID_VEHICLE_ID)
	{
		rcc = VeiculoRC(veii);
	}

	// velocimetro //
    if(newstate == PLAYER_STATE_DRIVER || newstate == PLAYER_STATE_PASSENGER)
	{
	    SetPlayerArmedWeapon(playerid, 0);
		for(new pla; pla<MAX_PLAYERS; pla++)
		{
		    if(Online(pla))
		    {
		        if(tv_player[pla] == playerid)
		        {
		            PlayerSpectateVehicle(pla, veii);
		        }
		    }
		}

    	if(!VeiculoBicicleta(veii) && rcc == -1 )
	    {
	        if(Info_Veiculo[veii] != -1)
	        {
			    if(mostrando_velocimetro[playerid] == 0)
			    {
			        mostrando_velocimetro[playerid] = 1;
			        mostrar_velocimetro(playerid);
			    }
		    }
	    }
	    else if(rcc != -1 )
	    {
	        if(mostrando_velocimetro[playerid] == 1)
		    {
		        mostrando_velocimetro[playerid] = 0;
		        esconder_velocimetro(playerid);
		    }

		    // sinal rc //
		    if(mostrando_velocimetro2[playerid] == 0)
		    {
      			mostrando_velocimetro2[playerid] = 1;
		        mostrar_velocimetro2(playerid);
		        SetPVarInt(playerid, "infinito", GetPVarInt(rcc, "infinito"));
		    }
	    }

	    new cer = carro_ferro_velho(veii);
	    if(cer != -1)
	    {
	        if(sendo_montado(cer) == -1)
	        {
	            if(ModoAdmin[playerid] == 1)
	            {
	                new str[150];
	                format(str, 150, "ID mobil Bekas: %d.", cer);
	                ms(playerid, 4, str);
	            }
				dialog_montar_carro(playerid, cer);
			}
	    }
	}
	else
	{
	    if(Barra[playerid][b_Acao] != 0)
		{
		    if(montando_carro[playerid] != -1)
			{
			    OnPlayerKeyStateChange2(playerid, KEY_SECONDARY_ATTACK, KEY_SECONDARY_ATTACK);
			}
		}

	    for(new pla; pla<MAX_PLAYERS; pla++)
		{
		    if(Online(pla))
		    {
		        if(tv_player[pla] == playerid)
		        {
		            PlayerSpectatePlayer(pla, playerid);
		        }
		    }
		}

	    if(mostrando_velocimetro[playerid] == 1)
	    {
	        mostrando_velocimetro[playerid] = 0;
	        esconder_velocimetro(playerid);
	    }

	    if(mostrando_velocimetro2[playerid] == 1)
	    {
	        mostrando_velocimetro2[playerid] = 0;
	        esconder_velocimetro2(playerid);
	    }
	}


	// menssagem quando entra em veiculo //
	if(newstate == PLAYER_STATE_DRIVER)
	{
		if(!VeiculoBicicleta(veii) && GetPlayerVehicleID(playerid) != RC[playerid]) ms(playerid, 2, "Tekan Y untuk menyalakan atau mematikan mesin kendaraan.");
		else SetVehicleParamsEx(GetPlayerVehicleID(playerid),1,0,0,0,0,0,0);
	}

	return 1;
}


// public OnPlayerCommandText(playerid, cmdtext[])
// {
//     if (strcmp("/me", cmdtext, true, 3) == 0)
//     {
//         new text[128];
//         if(sscanf(cmdtext, "/me %s", text)) return SendClientMessage(playerid, -1, "Gunakan: /me [aksi kamu]");
        
//         new name[MAX_PLAYER_NAME];
//         GetPlayerName(playerid, name, sizeof(name));
        
//         format(text, sizeof(text), "* %s %s", name, text);
//         ProxDetector(20.0, playerid, text, -1, -1, -1, -1, -1);
//         return 1;
//     }

//     if (strcmp("/do", cmdtext, true, 3) == 0)
//     {
//         new text[128];
//         if(sscanf(cmdtext, "/do %s", text)) return SendClientMessage(playerid, -1, "Gunakan: /do [deskripsi situasi]");
        
//         new name[MAX_PLAYER_NAME];
//         GetPlayerName(playerid, name, sizeof(name));
        
//         format(text, sizeof(text), "* %s (( %s ))", text, name);
//         ProxDetector(20.0, playerid, text, -1, -1, -1, -1, -1);
//         return 1;
//     }

//     return 0; // pastikan 0 untuk biar command lain tetap bisa dibaca
// }





public OnPlayerCommandReceived(playerid, cmdtext[])
{
    if(IsPlayerNPC(playerid)) return 0;

    if(GetPVarInt(playerid, "flood_comandos") > gettime() && ModoAdmin[playerid] == 0)
	{
		ms(playerid, 0, "Anda tidak dapat menggunakan cmd terlalu sering !");
		return 0;
	}
	new sss[300];
    new dd = strfind(cmdtext, " ", true);
    if(dd != -1) strdel(cmdtext, dd, strlen(cmdtext));

    if(Modo[playerid] != 1)
    {
        if(!Comparar2(cmdtext, "/vercombates") && !Comparar2(cmdtext, "/a") && !Comparar2(cmdtext, "/chatkill") && !Comparar2(cmdtext, "/trabalho2") && !Comparar2(cmdtext, "/adminduty") && !Comparar2(cmdtext, "/discord") && !Comparar2(cmdtext, "/voippc") && !Comparar2(cmdtext, "/help") && !Comparar2(cmdtext, "/creditos") && !Comparar2(cmdtext, "/platform"))
        {
        	ms(playerid, 0, "You are no longer in DAYZ mode!");
        	return 0;
        }
    }

    if(Modo[playerid] != 0)
    {
        if(Comparar2(cmdtext, "/platform"))
        {
        	ms(playerid, 0, "You can only use this command in /Lobby!");
        	return 0;
        }
    }


    for(new a; a<sizeof ComandosAdmin; a++)
	{
	    if(Comparar2(cmdtext, ComandosAdmin[a][cmd_Comando]))
	    {
	        if(AdminPlayer(playerid) < ComandosAdmin[a][cmd_Level])
	        {
	            format(sss, 300, "You must be Admin Level %d to use this command. %s.", ComandosAdmin[a][cmd_Level], cmdtext);
	            ms(playerid, 0, sss);
	            return 0;
	        }

	        if(!Comparar2(cmdtext, "/aa") && !Comparar2(cmdtext, "/adminduty") && !Comparar2(cmdtext, "/trabalho2"))
	        {
	            if(ModoAdmin[playerid] == 0)
	            {
	                ms(playerid, 0, "You must be in admin duty mode, use /adminduty to use this command.");
	            	return 0;
	            }
	        }
	    }
	}

	for(new aa; aa<sizeof ComandosAdmin2; aa++)
	{
	    if(Comparar2(cmdtext, ComandosAdmin2[aa][cmd_Comando]))
	    {
	        if(AdminPlayer(playerid) < ComandosAdmin2[aa][cmd_Level])
	        {
	            format(sss, 300, "You must be Admin Level %d to use the command %s.", ComandosAdmin2[aa][cmd_Level], cmdtext);
	            ms(playerid, 0, sss);
	            return 0;
	        }

	        if(ModoAdmin[playerid] == 0)
            {
                ms(playerid, 0, "You must be in admin duty mode, use /adminduty to use this command.");
            	return 0;
            }
	    }
	}

	if(!Online(playerid))
	{
	    if(!Comparar2(cmdtext, "/voippc") && !Comparar2(cmdtext, "/help") && !Comparar2(cmdtext, "/creditos"))
	    {
		    ms(playerid, 0, "You have not logged in to the server yet!");
		    ms(playerid, 2, "You can still use the /help command even if you haven't logged in yet.");
		    return 0;
	    }
	}
	return 1;
}

public OnPlayerCommandPerformed(playerid, cmdtext[], success)
{
    if(IsPlayerNPC(playerid)) return 0;

	if(success == 0)
	{
	    new sss[300];
	    format(sss, 300, "Perintah %s tidak di temukan, gunakan /help untuk lebih lanjut.", cmdtext);
     	ms(playerid, 0, sss);
	}
	else SetPVarInt(playerid, "flood_comandos", gettime()+2);
	return 1;
}

public OnPlayerEnterCheckpoint(playerid)
{
    if(IsPlayerNPC(playerid)) return 0;

    if(Localizando[playerid] != -1) Localizar_Player(playerid, 0, 0, 0, 99999);
	return 1;
}

public OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid)
{
    if(IsPlayerNPC(playerid)) return 0;

    for(new pla; pla<MAX_PLAYERS; pla++)
	{
	    if(Online(pla))
	    {
	        if(tv_player[pla] == playerid)
	        {
	            SetPlayerInterior(pla, GetPlayerInterior(playerid));
	            SetPlayerVirtualWorld(pla, GetPlayerVirtualWorld(playerid));
	        }

	        if(hackeando_id[pla] == playerid)
	        {
	            hackeando_id[pla] = -1;
			    hackeando_tempo[pla] = 0;
				ms(pla, 3, "A cheating player just entered an interior!");
	        }
	    }
	}

	if(GetPVarInt(playerid, "ignorar_gelo") == 0)
	{
		if(Modo[playerid] == 1)
		{
	    	Congelar(playerid);
	    	SetTimerEx("Descongelar", 2500, 0, "d", playerid);
		}
	}
	SetPVarInt(playerid, "ignorar_gelo", 0);
	return 1;
}

public OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)
{
    if(IsPlayerNPC(playerid)) return 0;

    if(response == 1)
    {
		if(index == 9)
		{
		    new str[600];
			format(str, 600, "%d, %d, %d, %f, %f, %f, %f, %f, %f, %f, %f, %f",modelid, index, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
			fileLog("PosicaoSalva", str);

		}

		if(index == 8)
		{
			E_Capacete[GetPlayerSkin(playerid)][xx] = fOffsetX;
			E_Capacete[GetPlayerSkin(playerid)][yy] = fOffsetY;
			E_Capacete[GetPlayerSkin(playerid)][zz] = fOffsetZ;
			E_Capacete[GetPlayerSkin(playerid)][rxx] = fRotX;
			E_Capacete[GetPlayerSkin(playerid)][ryy] = fRotY;
			E_Capacete[GetPlayerSkin(playerid)][rzz] = fRotZ;
			E_Capacete[GetPlayerSkin(playerid)][tx] = fScaleX;
			E_Capacete[GetPlayerSkin(playerid)][ty] = fScaleY;
			E_Capacete[GetPlayerSkin(playerid)][tz] = fScaleZ;
			salvar_equipamento(GetPlayerSkin(playerid));
		}

		if(index == 7)
		{
            E_Colete[GetPlayerSkin(playerid)][xx] = fOffsetX;
			E_Colete[GetPlayerSkin(playerid)][yy] = fOffsetY;
			E_Colete[GetPlayerSkin(playerid)][zz] = fOffsetZ;
			E_Colete[GetPlayerSkin(playerid)][rxx] = fRotX;
			E_Colete[GetPlayerSkin(playerid)][ryy] = fRotY;
			E_Colete[GetPlayerSkin(playerid)][rzz] = fRotZ;
			E_Colete[GetPlayerSkin(playerid)][tx] = fScaleX;
			E_Colete[GetPlayerSkin(playerid)][ty] = fScaleY;
			E_Colete[GetPlayerSkin(playerid)][tz] = fScaleZ;
			salvar_equipamento(GetPlayerSkin(playerid));
		}

		if(index == 6)
		{
            E_Mascara[GetPlayerSkin(playerid)][xx] = fOffsetX;
			E_Mascara[GetPlayerSkin(playerid)][yy] = fOffsetY;
			E_Mascara[GetPlayerSkin(playerid)][zz] = fOffsetZ;
			E_Mascara[GetPlayerSkin(playerid)][rxx] = fRotX;
			E_Mascara[GetPlayerSkin(playerid)][ryy] = fRotY;
			E_Mascara[GetPlayerSkin(playerid)][rzz] = fRotZ;
			E_Mascara[GetPlayerSkin(playerid)][tx] = fScaleX;
			E_Mascara[GetPlayerSkin(playerid)][ty] = fScaleY;
			E_Mascara[GetPlayerSkin(playerid)][tz] = fScaleZ;
			salvar_equipamento(GetPlayerSkin(playerid));
		}
    }

 	if(response == 0)
    {

	}
    return 1;
}


fileLog(file[], string[])
{
    new data[350], File:hFile, thefile[60];
    format(data, sizeof(data), "%s\r\n",string);
    format(thefile, sizeof(thefile), "%s.txt", file);
    hFile = fopen(thefile, io_append);
    fwrite(hFile, data);
    fclose(hFile);
    return 1;
}

//Panels
/*
decode_panels(panels, &front_left_panel, &front_right_panel, &rear_left_panel, &rear_right_panel, &windshield, &front_bumper, &rear_bumper)
{
    front_left_panel = panels & 15;
    front_right_panel = panels >> 4 & 15;
    rear_left_panel = panels >> 8 & 15;
    rear_right_panel = panels >> 12 & 15;
    windshield = panels >> 16 & 15;
    front_bumper = panels >> 20 & 15;
    rear_bumper = panels >> 24 & 15;
}

encode_panels(front_left_panel, front_right_panel, rear_left_panel, rear_right_panel, windshield, front_bumper, rear_bumper)
{
    return front_left_panel | (front_right_panel << 4) | (rear_left_panel << 8) | (rear_right_panel << 12) | (windshield << 16) | (front_bumper << 20) | (rear_bumper << 24);
}
*/

//Doors
/*
decode_doors(doors, &bonnet, &boot, &driver_door, &passenger_door)
{
    bonnet = doors & 7;
    boot = doors >> 8 & 7;
    driver_door = doors >> 16 & 7;
    passenger_door = doors >> 24 & 7;
}
*/
encode_doors(bonnet, boot, driver_door, passenger_door)
{
    return bonnet | (boot << 8) | (driver_door << 16) | (passenger_door << 24);
}


//Lights
/*
decode_lights(lights, &front_left_light, &front_right_light, &back_lights)
{
    front_left_light = lights & 1;
    front_right_light = lights >> 2 & 1;
    back_lights = lights >> 6 & 1;
}

encode_lights(front_left_light, front_right_light, back_lights)
{
    return front_left_light | (front_right_light << 2) | (back_lights << 6);
}
*/

//Tires
decode_tires(tires, &rear_right_tire, &front_right_tire, &rear_left_tire, &front_left_tire)
{
    rear_right_tire = tires & 1;
    front_right_tire = tires >> 1 & 1;
    rear_left_tire = tires >> 2 & 1;
    front_left_tire = tires >> 3 & 1;
}

encode_tires(rear_right_tire, front_right_tire, rear_left_tire, front_left_tire)
{
	return rear_right_tire | (front_right_tire << 1) | (rear_left_tire << 2) | (front_left_tire << 3);
}



DestroyDynamicObject_(&obj)
{
    DestroyDynamicObject(obj);
    obj = -1;
	return 1;
}

DestroyDynamicMapIcon_(&obj)
{
    DestroyDynamicMapIcon(obj);
    obj = -1;
	return 1;
}

DestroyDynamicActor_(&obj)
{
    DestroyDynamicActor(obj);
    obj = -1;
	return 1;
}

LevarPlayer(playerid, outroplayer)
{
	if(Online(outroplayer))
	{
		new Float:p[4];
		if(IsPlayerInAnyVehicle(outroplayer))
		{
			GetVehiclePos(GetPlayerVehicleID(outroplayer), p[0], p[1], p[2]);
			GetVehicleZAngle(GetPlayerVehicleID(outroplayer), p[3]);
			PegarFrente(p[0], p[1], p[3], -2.5);
		}
		else
		{
			GetPlayerPos(outroplayer, p[0], p[1], p[2]);
			GetPlayerFacingAngle(outroplayer, p[3]);
			PegarFrente(p[0], p[1], p[3], -1);
		}
	    SetPlayerPos(playerid, p[0], p[1], p[2]);
	    SetPlayerInterior(playerid, GetPlayerInterior(outroplayer));
		SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(outroplayer));
	}
	return 1;
}
















public OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{

	/*
	if(newkeys == KEY_FIRE)
	{
	    new i = playerid;
    	GetPlayerCameraPos(i, fPX, fPY, fPZ);
    	GetPlayerCameraFrontVector(i, fVX, fVY, fVZ);
    	object_x = fPX + floatmul(fVX, fScale);
    	object_y = fPY + floatmul(fVY, fScale);
    	GetPlayerCameraPos(i, fPX, fPY, fPZ);
    	new Float:angs = GetAngleToPoint(fPX, fPY, object_x, object_y);
	    SetPlayerFacingAngle(i, angs);
	}
	*/

	if(flood_keys(playerid, newkeys)) return 1;
    OnPlayerKeyStateChange2(playerid, newkeys, oldkeys);

	// if(newkeys & KEY_SPRINT)
    // {
    //     if(!IsNPCRunning[playerid])
    //     {
    //         ApplyAnimation(playerid, "PED", "run_player", 4.1, 1, 1, 1, 1, 0, 1);
    //         IsNPCRunning[playerid] = true;
    //     }
    // }

    // if(!(GetPlayerKeys(playerid) & KEY_SPRINT))
    // {
    //     if(IsNPCRunning[playerid])
    //     {
    //         ClearAnimations(playerid);
    //         IsNPCRunning[playerid] = false;
    //     }
    // }
	
	return 1;
}

forward OnPlayerKeyStateChange2(playerid, newkeys, oldkeys);
public OnPlayerKeyStateChange2(playerid, newkeys, oldkeys)
{
	// ant flood keys //
    SetPVarInt(playerid, "flood_key", gettime()+1);

	if(pInfo[playerid][pConfig][5] == 0)
	{
		// sistema de concertar mira sniper //
	    if(PRESSED(KEY_HANDBRAKE))
		{
		    if(GetPlayerWeapon(playerid) == 34)
		    {
			    camera_sniper[playerid] = 1;
			    if(IsPlayerAttachedObjectSlotUsed(playerid, 6)) RemovePlayerAttachedObject(playerid, 6);
			    if(IsPlayerAttachedObjectSlotUsed(playerid, 7)) RemovePlayerAttachedObject(playerid, 7);
			    if(IsPlayerAttachedObjectSlotUsed(playerid, 8)) RemovePlayerAttachedObject(playerid, 8);
			}
		}
		if(RELEASED(KEY_HANDBRAKE))
		{
	        if(camera_sniper[playerid] == 1)
	        {
			    camera_sniper[playerid] = 0;
			    if( Colete[playerid][0] > 0 && Colete[playerid][1] > 0)
			    {
			        SetPlayerAttachedObject(playerid, 7, 19142, 1, E_Colete[GetPlayerSkin(playerid)][xx], E_Colete[GetPlayerSkin(playerid)][yy], E_Colete[GetPlayerSkin(playerid)][zz], E_Colete[GetPlayerSkin(playerid)][rxx],
					E_Colete[GetPlayerSkin(playerid)][ryy], E_Colete[GetPlayerSkin(playerid)][rzz], E_Colete[GetPlayerSkin(playerid)][tx], E_Colete[GetPlayerSkin(playerid)][ty], E_Colete[GetPlayerSkin(playerid)][tz], Itens[12+Colete[playerid][0]][item_Cor2], Itens[12+Colete[playerid][0]][item_Cor2]);
			    }
			    if(Capacete[playerid][0] > 0 && Capacete[playerid][1] > 0)
			    {
			    	SetPlayerAttachedObject(playerid, 8, 19141, 2, E_Capacete[GetPlayerSkin(playerid)][xx], E_Capacete[GetPlayerSkin(playerid)][yy], E_Capacete[GetPlayerSkin(playerid)][zz], E_Capacete[GetPlayerSkin(playerid)][rxx],
					E_Capacete[GetPlayerSkin(playerid)][ryy], E_Capacete[GetPlayerSkin(playerid)][rzz], E_Capacete[GetPlayerSkin(playerid)][tx], E_Capacete[GetPlayerSkin(playerid)][ty], E_Capacete[GetPlayerSkin(playerid)][tz], Itens[15+Capacete[playerid][0]][item_Cor2], Itens[15+Capacete[playerid][0]][item_Cor2]);
				}
				if(Mascara[playerid] > 0)
			    {
					SetPlayerAttachedObject(playerid, 6, 19472, 2, E_Mascara[GetPlayerSkin(playerid)][xx], E_Mascara[GetPlayerSkin(playerid)][yy], E_Mascara[GetPlayerSkin(playerid)][zz], E_Mascara[GetPlayerSkin(playerid)][rxx],
					E_Mascara[GetPlayerSkin(playerid)][ryy], E_Mascara[GetPlayerSkin(playerid)][rzz], E_Mascara[GetPlayerSkin(playerid)][tx], E_Mascara[GetPlayerSkin(playerid)][ty], E_Mascara[GetPlayerSkin(playerid)][tz]);
			    }
			}
		}
	}

		// if(newkeys & KEY_SPRINT)
    // {
    //     if(!IsNPCRunning[playerid])
    //     {
    //         ApplyAnimation(playerid, "PED", "run_player", 4.1, 1, 1, 1, 1, 0, 1);
    //         IsNPCRunning[playerid] = true;
    //     }
    // }

    // if(!(GetPlayerKeys(playerid) & KEY_SPRINT))
    // {
    //     if(IsNPCRunning[playerid])
    //     {
    //         ClearAnimations(playerid);
    //         IsNPCRunning[playerid] = false;
    //     }
    // }

    // restante do gamemod //
	if(selecionando[playerid] == 1) return 1;
	if(Barra[playerid][b_Acao] == 0) if(congelado[playerid] == 1) return 1;
	if(IsPlayerNPC(playerid)) return 0;
	if(dialog_player[playerid] != -1) return 1;
	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);

    if(newkeys & KEY_CROUCH)
	{
	    if(IsPlayerInAnyVehicle(playerid))
	    {
	        for(new p; p<MAX_PORTOES; p++)
			{
			    if(Portao[p][portao_Existe] == 0) continue;
		        if(IsPlayerInRangeOfPoint(playerid, 4.5, Portao[p][portao_X1],Portao[p][portao_Y1],Portao[p][portao_Z1]))
		        {
		            if(GetPlayerInterior(playerid) == Portao[p][portao_Interior] && GetPlayerVirtualWorld(playerid) ==  Portao[p][portao_Mundo])
		            {
		                if(portao_base(playerid, p)) abrir_portao(p);
		                else usar_senha_portao(playerid, p);
		                return 1;
		            }
		        }
			}

	        for(new i; i<MAX_OFICINAS; i++)
			{
			    if(Oficina[i][o_Existe] == 0) continue;
		        if(IsPlayerInRangeOfPoint(playerid, 20, Oficina[i][o_X],Oficina[i][o_Y],Oficina[i][o_Z]+1))
		        {
	        		if(IsPlayerInAnyVehicle(playerid))
					{
						if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) 
							return ms(playerid, 0, "You are not the driver of this vehicle!");
						
						if(Info_Veiculo[GetPlayerVehicleID(playerid)] == -1)
						{
							ms(playerid, 0, "You cannot do this with this vehicle!");
							return 1;
						}

						mostrar_tunings(playerid);
						return 1;
					}
				}
			}
	    }
	    return 1;
	}


	if(newkeys & KEY_WALK)
	{
	    if(fumando[playerid] == 1)
	    {
	        if(GetPVarInt(playerid, "flood_trago") < gettime())
	        {
	            if(!IsPlayerInAnyVehicle(playerid) && cadeira_player[playerid] == -1 && cama_player[playerid] == -1 && Barra[playerid][b_Acao] == 0 && olhando_camera[playerid] == -1 && Morto[playerid] == 0 && com_jetpack[playerid] == 0)
	            {
			        ApplyAnimation(playerid, "SMOKING", "M_SMK_OUT", 4.1, 0, 0, 0, 0, 0, 1);
					ApplyAnimation(playerid, "SMOKING", "M_SMK_OUT", 4.1, 0, 0, 0, 0, 0, 2);
					SetPVarInt(playerid, "flood_trago", gettime()+2);
					fumar(playerid);
			        return 1;
		        }
	        }
	    }

		if(cadeira_player[playerid] != -1)
		{
		    new i = cadeira_player[playerid];
		    new Float:poss[6];
	        GetDynamicObjectPos(Obj[i][obj_Obj], poss[0], poss[1], poss[2]);
	        GetDynamicObjectRot(Obj[i][obj_Obj], poss[3], poss[4], poss[5]);
	        PegarFrente(poss[0], poss[1], poss[5], 0.6);
	        poss[3] = poss[5]+180.0;
	        if(poss[3] > 360.0) poss[3] -= 360.0;
	        poss[5] += 90.0;
	        if(poss[5] > 360.0) poss[5] -= 360.0;
	        PegarFrente(poss[0], poss[1], poss[5], 0.5);
	        SetPlayerPos(playerid, poss[0], poss[1], poss[2]+1);
	        SetPlayerFacingAngle(playerid, poss[3]);
	        cadeira_player[playerid] = -1;
	        ClearAnimations(playerid, 1);
		    return 1;
		}

		if(cama_player[playerid] != -1)
		{
		    new i = cama_player[playerid];
		    new Float:poss[6];
	        GetDynamicObjectPos(Obj[i][obj_Obj], poss[0], poss[1], poss[2]);
	        GetDynamicObjectRot(Obj[i][obj_Obj], poss[3], poss[4], poss[5]);
	        PegarFrente(poss[0], poss[1], poss[5], -0.5);
	        SetPlayerPos(playerid, poss[0], poss[1], poss[2]+1);
	        SetPlayerFacingAngle(playerid, poss[5]);
	        cama_player[playerid] = -1;
	        ClearAnimations(playerid, 1);
		    return 1;
		}


		if(Barra[playerid][b_Acao] == 0)
  		{
  		    new Float:pio[6];
  		    if(GetPlayerInterior(playerid) == 0 && GetPlayerVirtualWorld(playerid) == 0)
  		    {
				for(new i; i<MAX_OBJETOS; i++)
				{
				    if(Obj[i][obj_Existe] == 0) continue;
			        new ta = 0;
			        if(Obj[i][obj_Tipo] == TIPO_CAMA)
					{
					    GetDynamicObjectPos(Obj[i][obj_Obj], pio[0], pio[1], pio[2]);
					    GetDynamicObjectRot(Obj[i][obj_Obj], pio[3], pio[4], pio[5]);
					    PegarFrente(pio[0], pio[1], pio[5], -2.5);
						if(IsPlayerInRangeOfPoint(playerid, 1.7, pio[0], pio[1], pio[2])) ta = 1;
					}
					else if(IsPlayerInRangeOfPoint(playerid, 2.0, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z])) ta = 1;
					if(ta == 1)
					{
				        if(Obj[i][obj_Tipo] == TIPO_JBL)
				        {
				            if(Obj[i][obj_Status] == -1)
							{
								for(new j ; j<MAX_JBL; j++)
								{
								    if(JBL[j][jbl_Existe] == 0)
								    {
								        JBL[j][jbl_Existe] = 1;
								        format(JBL[j][jbl_Link], 250, "http://s7.alhastream.com/radio/8350/radio?1608463211");
								        format(JBL[j][jbl_Dono], MAX_PLAYER_NAME, Nome(playerid));
                                        JBL[j][jbl_X] = Obj[i][obj_X];
										JBL[j][jbl_Y] = Obj[i][obj_Y];
										JBL[j][jbl_Z] = Obj[i][obj_Z];
										JBL[j][jbl_Distancia] = 20;
										JBL[j][jbl_Mundo] = 0;
										JBL[j][jbl_Interior] = 0;
										ms(playerid, 3, "You turned on the JBL Radio.");
										Obj[i][obj_Status] = j;
								        break;
								    }
								}
							}
                            else
							{
							    JBL[Obj[i][obj_Status]][jbl_Existe] = 0;
					 			Obj[i][obj_Status] = -1;
					 			ms(playerid, 3, "Kamu mematikan Radio JBL.");
							}
							return 1;
						}

						if(Obj[i][obj_Tipo] == TIPO_ABAJU)
				        {
				            if(IsValidDynamicObject(Obj[i][obj_Obj2])) DestroyDynamicObject_(Obj[i][obj_Obj2]);
                            if(Obj[i][obj_Status] == 0) Obj[i][obj_Status] = 1;
                            else if(Obj[i][obj_Status] == 1) Obj[i][obj_Status] = 0;
							if(Obj[i][obj_Status] == 1) Obj[i][obj_Obj2] = CreateDynamicObject(19281, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z]+1.8, Obj[i][obj_RX], Obj[i][obj_RY], Obj[i][obj_RZ], 0, 0);
							Streamer_Update(playerid);
							return 1;
						}

				        if(Obj[i][obj_Tipo] == TIPO_CAMA)
				        {
				            new livre = 1;
				            for(new pla; pla<MAX_PLAYERS; pla++) if(Online(pla)) if(cama_player[pla] == i) livre = 0;
                            if(livre == 1)
						    {
				                cama_player[playerid] = i;
						        new Float:poss[6];
						        GetDynamicObjectPos(Obj[i][obj_Obj], poss[0], poss[1], poss[2]);
						        GetDynamicObjectRot(Obj[i][obj_Obj], poss[3], poss[4], poss[5]);
				                PegarFrente(poss[0], poss[1], poss[5], -2.1);
				           	 	poss[5] += 90.0;
						        if(poss[5] > 360.0) poss[5] -= 360.0;
						        SetPlayerPos(playerid, poss[0], poss[1], poss[2]+2.5);
						        SetPlayerFacingAngle(playerid, poss[5]);
				                ApplyAnimation(playerid, "CRACK" , "CRCKIDLE2", 4.1, 0, 1, 1, 1, 0, 1);
						        ApplyAnimation(playerid, "CRACK" , "CRCKIDLE2", 4.1, 0, 1, 1, 1, 0, 2);
				            }
				            return 1;
				        }

				        if(Obj[i][obj_Tipo] == TIPO_CADEIRA)
				        {
						    new livre = 1;
						    for(new pla; pla<MAX_PLAYERS; pla++) if(Online(pla)) if(cadeira_player[pla] == i) livre = 0;
						    if(livre == 1)
						    {
						        cadeira_player[playerid] = i;
						        new Float:poss[6];
						        GetDynamicObjectPos(Obj[i][obj_Obj], poss[0], poss[1], poss[2]);
						        GetDynamicObjectRot(Obj[i][obj_Obj], poss[3], poss[4], poss[5]);
						        PegarFrente(poss[0], poss[1], poss[5], 0.12);
						        poss[3] = poss[5]+180.0;
						        if(poss[3] > 360.0) poss[3] -= 360.0;
						        poss[5] += 90.0;
						        if(poss[5] > 360.0) poss[5] -= 360.0;
						        PegarFrente(poss[0], poss[1], poss[5], 0.5);
						        SetPlayerPos(playerid, poss[0], poss[1], poss[2]+2.3);
						        SetPlayerFacingAngle(playerid, poss[3]);
						        ApplyAnimation(playerid, "BEACH", "PARKSIT_M_LOOP", 4.1, 0, 1, 1, 1, 0, 1);
						        ApplyAnimation(playerid, "BEACH", "PARKSIT_M_LOOP", 4.1, 0, 1, 1, 1, 0, 2);
						    }
						    return 1;
				        }
			        }
				}
			}
		}

	    return 1;
	}

	if(newkeys == KEY_CTRL_BACK)
	{

        if(Modo[playerid] == 1)
		{

		    if(IsPlayerInRangeOfPoint(playerid, 2, 295.8394,-38.3835,1001.5156)) //ini belum tau kordinat apa
		    {
		        if(Barra[playerid][b_Acao] == 0)
		        {
		        	menu_mercadonegro(playerid);
		        	return 1;
		        }
		    }

		    if(IsPlayerInRangeOfPoint(playerid, 2, 293.6200,-32.0509,1001.5156))
		    {
		        if(Barra[playerid][b_Acao] == 0)
		        {
		        	montar_arma(playerid);
		        	return 1;
		        }

		    }

		    if(GetPVarInt(playerid, "flood_teleporte") < gettime())
		    {
		        if(Barra[playerid][b_Acao] == 0)
		        {
					for(new mm; mm<MAX_MERCADO_NEGRO; mm++)
					{
					    if(MercadoNegro[mm][mn_Existe] == 0) continue;
						if(IsPlayerInRangeOfPoint(playerid, 1.5, MercadoNegro[mm][mn_EntrarX],MercadoNegro[mm][mn_EntrarY],MercadoNegro[mm][mn_EntrarZ]))
						{
						    SetPlayerPos(playerid, MercadoNegro[mm][mn_SairX],MercadoNegro[mm][mn_SairY],MercadoNegro[mm][mn_SairZ]);
						    SetPlayerVirtualWorld(playerid, mm);
						    SetPlayerInterior(playerid, MercadoNegro[mm][mn_Interior]);
	                        SetPVarInt(playerid, "flood_teleporte", gettime()+2);
						}

						if(IsPlayerInRangeOfPoint(playerid, 1.5, MercadoNegro[mm][mn_SairX],MercadoNegro[mm][mn_SairY],MercadoNegro[mm][mn_SairZ]))
						{
							if(GetPlayerVirtualWorld(playerid) == mm && GetPlayerInterior(playerid) == MercadoNegro[mm][mn_Interior])
							{
                                SetPlayerPos(playerid,  MercadoNegro[mm][mn_EntrarX],MercadoNegro[mm][mn_EntrarY],MercadoNegro[mm][mn_EntrarZ]);
						    	SetPlayerVirtualWorld(playerid, 0);
						    	SetPlayerInterior(playerid, 0);
                                SetPVarInt(playerid, "flood_teleporte", gettime()+2);
							}
						}
					}
				}
			}

            for(new i; i<MAX_PORTOES; i++)
			{
			    if(Portao[i][portao_Existe] == 0) continue;
		        if(IsPlayerInRangeOfPoint(playerid, 4.5, Portao[i][portao_X1],Portao[i][portao_Y1],Portao[i][portao_Z1]))
		        {
		            if(GetPlayerInterior(playerid) == Portao[i][portao_Interior] && GetPlayerVirtualWorld(playerid) ==  Portao[i][portao_Mundo])
		            {
		                if(portao_base(playerid, i)) abrir_portao(i);
		                else usar_senha_portao(playerid, i);
		                break;
		            }
		        }
			}

			if(GetPVarInt(playerid, "flood_craft") < gettime())
		    {
				for(new p; p<MAX_PEDRAS; p++)
				{
				    if(Pedra[p][ar_Existe] == 1)
				    {
				        if(Pedra[p][ar_Vida] < 0) continue;
				        if(IsPlayerInRangeOfPoint(playerid, 3, Pedra[p][ar_X], Pedra[p][ar_Y], Pedra[p][ar_Z]))
				    	{
					        if(GetPlayerInterior(playerid) == Pedra[p][ar_Interior] && GetPlayerVirtualWorld(playerid) == Pedra[p][ar_Mundo])
					        {
					            if(slot_arma(GetPlayerWeapon(playerid)) == 1)
							    {
							        ClearAnimations(playerid, 1);
							        craft_arma[playerid] = GetPlayerWeapon(playerid);
							        craft_tipo[playerid] = 1;
							        craft_player[playerid] = 0;
							        craft_id[playerid] = p;
							        TextDrawShowForPlayer(playerid, T_Craft[0]);
							        TextDrawShowForPlayer(playerid, T_Craft[10]);
							        TextDrawShowForPlayer(playerid, T_Craft[11]);
							        TextDrawShowForPlayer(playerid, T_Craft[12]);
							        ApplyAnimation(playerid, "BASEBALL", "Bat_4", 4.1, 1, 1, 1, 0, 0, 1);
							        SetPlayerAngleToPoint(playerid, Pedra[p][ar_X], Pedra[p][ar_Y]);
							        return 1;
					            }
					            else
								{
									SetPVarInt(playerid, "flood_craft", gettime()+1);
									ms(playerid, 0, "You must be holding a sharp weapon to do this!");
									return 1;
								}
				            }
				        }
				    }
				}

				for(new a; a<MAX_ARVORES; a++)
				{
				    if(Arvore[a][ar_Existe] == 1)
				    {
				        if(Arvore[a][ar_Vida] < 0) continue;
			            if(IsPlayerInRangeOfPoint(playerid, 2, Arvore[a][ar_X], Arvore[a][ar_Y], Arvore[a][ar_Z]))
				    	{
					        if(GetPlayerInterior(playerid) == Arvore[a][ar_Interior] && GetPlayerVirtualWorld(playerid) == Arvore[a][ar_Mundo])
					        {
							    if(slot_arma(GetPlayerWeapon(playerid)) == 1)
								{
								    ClearAnimations(playerid, 1);
								    craft_arma[playerid] = GetPlayerWeapon(playerid);
							        craft_tipo[playerid] = 2;
							        craft_player[playerid] = 0;
							        craft_id[playerid] = a;
							        TextDrawShowForPlayer(playerid, T_Craft[0]);
							        TextDrawShowForPlayer(playerid, T_Craft[10]);
							        TextDrawShowForPlayer(playerid, T_Craft[11]);
							        TextDrawShowForPlayer(playerid, T_Craft[12]);
							        ApplyAnimation(playerid, "FLOWERS", "FLOWER_ATTACK_M", 4.1, 1, 1, 1, 0, 0, 1);
							        SetPlayerAngleToPoint(playerid, Arvore[a][ar_X], Arvore[a][ar_Y]);
							        return 1;
					            }
					            else
								{
									SetPVarInt(playerid, "flood_craft", gettime()+1);
									ms(playerid, 0, "You must be holding a sharp weapon to do this!");
									return 1;
								}
			                }
			            }
			        }
			    }
		    }

		    new Float:py[6];
			for(new v; v<MAX_VEHICLES; v++)
			{
				if(GetVehicleModel(v) != 0)
				{
				    if(Info_Veiculo[v] != -1)
				    {
				        new idv = Info_Veiculo[v];
				        GetVehiclePos(v, py[0], py[1], py[2]);
				        if(IsPlayerInRangeOfPoint(playerid, 5.0, py[0], py[1], py[2]))
				        {
				            GetVehicleZAngle(v, py[3]);
							PegarFrente(py[0], py[1], py[3], 2.5);
							if(IsPlayerInRangeOfPoint(playerid, 2.0, py[0], py[1], py[2]))
							{
								GetVehiclePos(v, py[4], py[5], py[2]);
								SetPlayerToFacePos(playerid, py[4], py[5]);
								if(Travado(v)) 
									return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Bagasi", "{FF0000}[ERROR] {A1A1A1}Kendaraan terkunci, tidak dapat membuka bagasi!", "Ok", "Tutup");
								SetPVarInt(playerid, "veiculo", v);
								SetPVarInt(playerid, "id_info", idv);
								ShowPlayerDialog_(playerid, DIALOG_OPCAO_PORTA_MALAS, DIALOG_STYLE_LIST, NomeVeiculos[ Veiculo[idv][v_Modelo] -400], "Ambil Item\nSimpan Item", "Lanjut", "Batal");
								return 1;
							}

							if(Comparar(Nome(playerid), Veiculo[idv][v_Dono]))
							{
								if(Veiculo[idv][v_Trancado] == 1)
								{
									Veiculo[idv][v_Trancado] = 0;
									GameTextForPlayer(playerid, "~g~TERBUKA", 1500, 3);
								}
								else
								{
									Veiculo[idv][v_Trancado] = 1;
									GameTextForPlayer(playerid, "~r~TERKUNCI", 1500, 3);
								}
							    Play_Som(1145, py[0], py[1], py[2], 0, 0);
							}
				        }
					}
				}
			}
		}

		new Float:p[3];
	    if(Barra[playerid][b_Acao] == 0)
	    {
			if(Morto[playerid] == 0)
			{
		        for(new i; i<MAX_PLAYERS; i++)
				{
				    if(i == playerid) continue;
				    if(Online(i))
				    {
				        if(IsPlayerNPC(i)) continue;
				        if(Modo[i] != Modo[playerid]) continue;
						if(Morto[i] == 0) continue;
						if(GetPlayerVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
						if(GetPlayerInterior(i) != GetPlayerInterior(playerid)) continue;
						GetPlayerPos(i, p[0], p[1], p[2]);
						if(!IsPlayerInRangeOfPoint(playerid, 2.2, p[0], p[1], p[2])) continue;
						if(aliados(playerid, i))
						{
						    if(Reanimando[i] != 0) continue;
							if(pInfo[playerid][pClasse] != 1)
							{
								if(tem_remedio(playerid) == -1 && Modo[playerid] == 1)
								{
									ms(playerid, 0, "You do not have medicine in your inventory!");

									return 1;
								}
							}
							SetPVarInt(playerid, "remedio", tem_remedio(playerid));
							SetPVarInt(playerid, "morto", i);
							SetPVarInt(i, "salvando", playerid);
     		                mostrar_morte(i);
							new tempo;
							if(pInfo[playerid][pClasse] == 1) tempo = 75;
							tempo = 200;
							Acao(playerid, 5, tempo, "SALVANDO JOGADOR", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
							SetPlayerAttachedObject(playerid, 9, 11738, 6, 0.070000, 0.194999, -0.090999,   55.500000, -4.699998, 55.799983,   1.000000, 1.000000, 1.000000);
                            SetPlayerToFacePos(playerid, p[0], p[1]);
						}
						else
						{
						    Reanimando[i] = 0;
						    mostrar_morte(i);
							SetPVarInt(playerid, "idferido", i);
						    Acao(playerid, 26, 50, "FINALIZANDO", 1, "BASEBALL", "Bat_4", 1);
						    SetPlayerToFacePos(playerid, p[0], p[1]);
						}
						break;
				    }
				}
		    }
	    }
	    return 1;
	}

	if(newkeys == KEY_NO)
	{
		if(Modo[playerid] == 1)
		{

            for(new pla; pla<MAX_PLAYERS; pla++)
		    {
			    if(Online(pla) && Modo[pla] == 1)
			    {
					if(chamando[pla] == playerid)
					{
					    recusar_chamada(playerid, pla);
					    return 1;
					}
			    }
		    }

		    if(invaberto[playerid] == 0)
		    {
		        abririnv(playerid, 2);
		    }
	    }
	}

	// mostrar armas //
	if(newkeys == KEY_YES)
	{
	    if(Modo[playerid] == 1)
		{
		    for(new pla; pla<MAX_PLAYERS; pla++)
		    {
			    if(Online(pla) && Modo[pla] == 1)
			    {
					if(chamando[pla] == playerid)
					{
					    aceitar_chamada(playerid, pla);
					    return 1;
					}
			    }
		    }

			if(IsPlayerInAnyVehicle(playerid))
			{
			    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
			    {
			        cmd_motor(playerid, #);
			    }
				return 1;
			}
			else
			{
		        for(new ai; ai<MAX_OFICINAS; ai++)
				{
				    if(Oficina[ai][o_Existe] == 0) continue;
			        if(IsPlayerInRangeOfPoint(playerid, 2, Oficina[ai][o_X]-6.5, Oficina[ai][o_Y]+2, Oficina[ai][o_Z]+1))
			        {
	        			mostrar_tunings(playerid, 2);
	        			return 1;
					}
				}
			}

			for(new i; i<MAX_BASES; i++)
			{
			    if(Base[i][base_Existe] == 0) continue;
		        if(GetPlayerVirtualWorld(playerid) == 0)
		        {
		            if(IsPlayerInRangeOfPoint(playerid, 1.5, Base[i][base_X], Base[i][base_Y], Base[i][base_Z]))
		            {
						MenuBase(playerid, i);
						ms(playerid, 2, "You can use /base to open this menu near your base.");
		                return 1;
		            }
				}
		    }

	    	for(new ca; ca < MAX_CAIXAS; ca++)
			{
				if(Caixa[ca][caixa_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 1.3, Caixa[ca][caixa_X], Caixa[ca][caixa_Y], Caixa[ca][caixa_Z]))
				{
					if(BasePlayer(playerid) == -1) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Kotak ini!");
					if(BasePlayer(playerid) != Caixa[ca][caixa_Base]) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Kotak ini!");
					MostrarCaixa(playerid, ca, -1);
					return 1;
				}
			}

			for(new re; re < MAX_RECICLADORAS; re++)
			{
				if(Recicladora[re][re_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 1.3, Recicladora[re][re_X], Recicladora[re][re_Y], Recicladora[re][re_Z]))
				{
					if(BasePlayer(playerid) == -1) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Kotak ini!");
					if(BasePlayer(playerid) != Recicladora[re][re_Base]) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Mesin Daur Ulang ini!");
					MostrarRecicladora(playerid, re);
					return 1;
				}
			}

			for(new b; b < MAX_BAUS; b++)
			{
				if(Bau[b][bau_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 1.6, Bau[b][bau_X], Bau[b][bau_Y], Bau[b][bau_Z]))
				{
					if(BasePlayer(playerid) == -1) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Kotak ini!");
					if(BasePlayer(playerid) != Bau[b][bau_Base]) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Peti Material ini!");
					mostrar_bau(playerid, b);
					return 1;
				}
			}

			for(new me; me < MAX_MESAS; me++)
			{
				if(Mesa[me][me_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 2.6, Mesa[me][me_X], Mesa[me][me_Y], Mesa[me][me_Z]))
				{
					if(BasePlayer(playerid) == -1) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Kotak ini!");
					if(BasePlayer(playerid) != Mesa[me][me_Base]) return ms(playerid, 0, "Kamu tidak tergabung di Base dari Meja Craft ini!");
					MostrarMesa(playerid, -1, me);
					return 1;
				}
			}

			for(new f; f < MAX_FOGUEIRAS; f++)
			{
				if(Fogueira[f][f_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 1.5, Fogueira[f][f_X], Fogueira[f][f_Y], Fogueira[f][f_Z]))
				{
					if(Comparar(Nome(playerid), Fogueira[f][f_Dono]))
					{
						Mostrar_Fogueira(playerid, f);
					}
					else ms(playerid, 0, "Kamu bukan pemilik dari api unggun ini!");
					return 1;
				}
			}

			if(mostrando_arma[playerid] == 0)
			{
				new con;
				new art[13][2];
				for(new i; i < 13; i++)
				{
					GetPlayerWeaponData(playerid, i, art[i][0], art[i][1]);
					if(art[i][0] != 0)
					{
						con++;
					}
				}

				if(con == 0) ms(playerid, 0, "Kamu tidak memiliki senjata yang terpasang!");
				else mostrararmas(playerid);
			}

		}
	}

	// apertou F ou ENTER  //
	if(newkeys == KEY_SECONDARY_ATTACK)
	{
	    if(Modo[playerid] == 1)
		{
		    if(IsPlayerInRangeOfPoint(playerid, 2, 1.7209,23.1489,1199.5938-0.5))
		    {
		        new weaponsdata[13][2];
		        for (new i = 0; i <= 12; i++) GetPlayerWeaponData(playerid, i, weaponsdata[i][0], weaponsdata[i][1]);
				if(weaponsdata[11][0] == 0 || weaponsdata[11][1] == 0)
				{
					GivePlayerWeapon(playerid, 46, 1);
					SetPlayerArmedWeapon(playerid, 46);
				}
                ACInfo[playerid][acAirbreakTime] = gettime() + 5;
	        	ACInfo[playerid][acImmunity] = gettime() + 5;
		        new rand = random(sizeof pos_aleatoria);
				SetPVarInt(playerid, "ignorar_gelo", 1);
				SetPlayerPos(playerid, pos_aleatoria[rand][0], pos_aleatoria[rand][1], pos_aleatoria[rand][2]+720);
			    SetPlayerFacingAngle(playerid, pos_aleatoria[rand][3]);
			    SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
				ms(playerid, 1, "Kamu mengambil parasut dan melompat dari pesawat.");

		        return 1;
		    }

		    if(fumando[playerid] == 1)
		    {
		        if(!IsPlayerInAnyVehicle(playerid) && cadeira_player[playerid] == -1 && cama_player[playerid] == -1 && Barra[playerid][b_Acao] == 0 && olhando_camera[playerid] == -1 && Morto[playerid] == 0 && com_jetpack[playerid] == 0)
	            {
			        fumando[playerid] = 0;
			        ms(playerid, 3, "Kamu membuang rokok yang masih menyala.");
			        ApplyAnimation(playerid, "SMOKING", "M_SMK_OUT", 4.1, 0, 0, 0, 0, 0, 1);
					ApplyAnimation(playerid, "SMOKING", "M_SMK_OUT", 4.1, 0, 0, 0, 0, 0, 2);
					fumar(playerid);
			        return 1;
		        }
		    }

		    if(RC[playerid] != INVALID_VEHICLE_ID)
		    {
		        if(IsPlayerInVehicle(playerid, RC[playerid]))
		        {
		            ACInfo[playerid][acAirbreakTime] = gettime() + 5;
	        		ACInfo[playerid][acImmunity] = gettime() + 5;
			        DestroyVehicle(RC[playerid]);
			        RC[playerid] = INVALID_VEHICLE_ID;
			        ms(playerid, 1, "Kendaraan telah dihancurkan!");
			        SetCameraBehindPlayer(playerid);
			        if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
			        if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
					return 1;
		        }
		    }

		    if(Barra[playerid][b_Acao] != 0)
		    {
		        ms(playerid, 2, "Aksi dibatalkan!");
		        Carregando(playerid, 2);
		        montando_carro[playerid] = -1;
				return 1;
		    }

		    if(olhando_camera[playerid] != -1)
		    {
		        if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
                if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
				TogglePlayerSpectating(playerid, false);
				SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
		        SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
		        SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
		        SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
				SetCameraBehindPlayer(playerid);
				olhando_camera[playerid] = -1;
		        return 1;
		    }

		    for(new lo; lo<MAX_LOOT; lo++)
		    {
		        if(Loot[lo][loot_Existe] == 0) continue;
				if(IsPlayerInRangeOfPoint(playerid, 2, Loot[lo][loot_X], Loot[lo][loot_Y], Loot[lo][loot_Z]))
				{
				    new Float:p[3];
				    GetPlayerPos(playerid, p[0], p[1], p[2]);
				    SetPlayerPos(playerid, p[0], p[1], p[2]);
				    abririnv(playerid, 1);
				    return 1;
				}
		    }

			for(new m; m<MAX_MINAS; m++)
		    {
		        if(Mina[m][mina_Existe] == 1)
		        {
		            if(IsPlayerInRangeOfPoint(playerid, 3, Mina[m][mina_X], Mina[m][mina_Y], Mina[m][mina_Z]))
		            {
		                if(Comparar(Mina[m][mina_Dono], Nome(playerid)))
		                {
		                    if(SlotsVazios(playerid) == 0) return ms(playerid, 0, "Inventarimu penuh! Tidak mungkin mengambil tambang.");
                            AddInv(playerid, 131, 1);
                            format(string_prox, 300, "Pemain %s mengambil sebuah Mine Darat dari tanah", Nome(playerid));
							ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
							destruir_mina(m);
							ApplyAnimation(playerid, "BOMBER", "BOM_PLANT", 4.1, 0, 0, 0, 0, 0, 1);
							ApplyAnimation(playerid, "BOMBER", "BOM_PLANT", 4.1, 0, 0, 0, 0, 0, 2);
		                    return 1;
		                }
		            }
		        }
		    }


		    for(new e; e<MAX_EXPLOSIVOS; e++)
		    {
		        if(Explosivo[e][explosivo_Existe] == 0) continue;
	            if(GetPlayerInterior(playerid) == Explosivo[e][explosivo_Interior] && GetPlayerVirtualWorld(playerid) == Explosivo[e][explosivo_Mundo])
	            {
		            if(IsPlayerInRangeOfPoint(playerid, 1.5, Explosivo[e][explosivo_X], Explosivo[e][explosivo_Y], Explosivo[e][explosivo_Z]))
		            {
	                    if(Comparar(Nome(playerid), Explosivo[e][explosivo_Dono]))
						{
							if(SlotsVazios(playerid) == 0) 
								return ms(playerid, 0, "Inventaris kamu penuh! Tidak bisa mengambil bahan peledak.");
							AddInv(playerid, 54, 1);
							format(string_prox, 300, "Pemain %s mengambil bahan peledak dari tanah", Nome(playerid));
							ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
							destruir_explosivo(e);
							ApplyAnimation(playerid, "BOMBER", "BOM_PLANT", 4.1, 0, 0, 0, 0, 0, 1);
							ApplyAnimation(playerid, "BOMBER", "BOM_PLANT", 4.1, 0, 0, 0, 0, 0, 2);
							return 1;
						}
	                    else ms(playerid, 0, "Kamu bukan pemilik bahan peledak ini!");
	                    return 1;
	                }
	            }
		    }

		    if(craft_tipo[playerid] != 0)
		    {
				ms(playerid, 2, "Aksi dibatalkan!");
		        craft_tipo[playerid] = 0;
		        ClearAnimations(playerid, 1);
		        for(new i; i<sizeof T_Craft; i++) TextDrawHideForPlayer(playerid, T_Craft[i]);
				return 1;
		    }
		}

		if(Modo[playerid] != 0)
		{
		    if(invaberto[playerid] == 0)
			{
			    // pegar item do chao //
			    if(GetPVarInt(playerid, "flood_items") <= gettime())
			    {
				    for(new it; it<MAX_ITENS; it++)
				    {
				        if(Item[it][item_Existe] == 0) continue;
				        if(IsPlayerInRangeOfPoint(playerid, 5.0, Item[it][item_X],Item[it][item_Y],Item[it][item_Z]))
						{
				            if(GetPlayerInterior(playerid) == Item[it][item_Interior])
				            {
				                if(GetPlayerVirtualWorld(playerid) == Item[it][item_Mundo])
					            {
							        SetPVarInt(playerid, "flood_items", gettime()+2);
							        abririnv(playerid, 1);
							        return 1;
					            }
				            }
			            }
				    }
				}
			}
		}
	}

	return 1;
}



public OnPlayerEditDynamicObject(playerid, objectid, response, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz)
{
    if(IsPlayerNPC(playerid)) return 0;

	if(response == 1)
	{
	    for(new b; b<MAX_BAUS; b++)
	    {
	        if(Bau[b][bau_Existe] == 0) continue;
            if(!IsValidDynamicObject(Bau[b][bau_Obj])) continue;
            if(objectid == Bau[b][bau_Obj])
            {
                Bau[b][bau_X] = x;
                Bau[b][bau_Y] = y;
                Bau[b][bau_Z] = z;
                Bau[b][bau_RX] = rx;
                Bau[b][bau_RY] = ry;
                Bau[b][bau_RZ] = rz;
                atualizar_bau(b);
                salvar_bau(b);
                ms(playerid, 1, "Editan selesai, peti telah disimpan di posisi baru.");
                return 1;
            }
	    }

	    for(new of; of<MAX_OFICINAS; of++)
	    {
            if(Oficina[of][o_Existe] == 0) continue;
            if(!IsValidDynamicObject(Oficina[of][o_Obj][0])) continue;
            if(objectid == Oficina[of][o_Obj][0])
            {
                Oficina[of][o_X] = x;
                Oficina[of][o_Y] = y;
                Oficina[of][o_Z] = z;
                atualizar_oficina(of);
                ms(playerid, 1, "Editan selesai, bengkel telah disimpan di posisi baru.");
                salvar_oficina(of);
                return 1;
            }
	    }

	    for(new ca; ca<MAX_CAIXAS; ca++)
	    {
		    if(Caixa[ca][caixa_Existe] == 0) continue;
		    if(!IsValidDynamicObject(Caixa[ca][caixa_Obj])) continue;
            if(objectid == Caixa[ca][caixa_Obj])
            {
                Caixa[ca][caixa_X] = x;
	    		Caixa[ca][caixa_Y] = y;
	    		Caixa[ca][caixa_Z] = z;
	    		Caixa[ca][caixa_RX] = rx;
	    		Caixa[ca][caixa_RY] = ry;
	    		Caixa[ca][caixa_RZ] = rz;
	    		atualizar_caixa(ca);
	    		salvar_caixa(ca);
	    		ms(playerid, 1, "Editan selesai, Kotak telah disimpan di posisi baru.");
                return 1;
            }
	    }

	    for(new re; re<MAX_RECICLADORAS; re++)
	    {
	        if(Recicladora[re][re_Existe] == 0) continue;
		    if(!IsValidDynamicObject(Recicladora[re][re_Obj])) continue;
            if(objectid == Recicladora[re][re_Obj])
            {
                Recicladora[re][re_X] = x;
	    		Recicladora[re][re_Y] = y;
	    		Recicladora[re][re_Z] = z;
	    		Recicladora[re][re_RX] = rx;
	    		Recicladora[re][re_RY] = ry;
	    		Recicladora[re][re_RZ] = rz;
	    		atualizar_recicladora(re);
	    		salvar_recicladora(re);
	    		ms(playerid, 1, "Editan selesai, Mesin Daur Ulang telah disimpan di posisi baru.");
                return 1;
            }
	    }

	    for(new me; me<MAX_MESAS; me++)
	    {
		    if(Mesa[me][me_Existe] == 0) continue;
		    if(!IsValidDynamicObject(Mesa[me][me_Obj])) continue;
            if(objectid == Mesa[me][me_Obj])
            {
                Mesa[me][me_X] = x;
	    		Mesa[me][me_Y] = y;
	    		Mesa[me][me_Z] = z;
	    		Mesa[me][me_RX] = rx;
	    		Mesa[me][me_RY] = ry;
	    		Mesa[me][me_RZ] = rz;
	    		atualizar_mesa(me);
	    		salvar_mesa(me);
	    		ms(playerid, 1, "Editan selesai, Meja Craft telah disimpan di posisi baru.");
                return 1;
            }
	    }

	    for(new c; c<MAX_CAMERAS; c++)
	    {
	        if(Camera[c][ca_Existe] == 0) continue;
            if(!IsValidDynamicObject(Camera[c][ca_Obj])) continue;
            if(objectid == Camera[c][ca_Obj])
            {
                Camera[c][ca_X] = x;
	            Camera[c][ca_Y] = y;
	            Camera[c][ca_Z] = z;
	            Camera[c][ca_A] = rz;
                salvar_camera(c);
                SetDynamicObjectPos(objectid, x,y,z);
                SetDynamicObjectRot(objectid, 0,0,rz);
                ms(playerid, 1, "Editan selesai, Kamera telah disimpan di posisi baru.");
                return 1;
            }
	    }


	    for(new i; i<MAX_ARVORES; i++)
	    {
	        if(Arvore[i][ar_Existe] == 1)
	        {
	            if(!IsValidDynamicObject(Arvore[i][ar_Obj])) continue;
	            if(objectid == Arvore[i][ar_Obj])
	            {
	                Arvore[i][ar_X] = x;
		            Arvore[i][ar_Y] = y;
		            Arvore[i][ar_Z] = z;
		            Arvore[i][ar_A] = rz;
	                AtualizarArvore(i);
	                salvar_arvore(i);
	                return 1;
	            }
	        }
	    }
// baru sampe sini 07/08/25
	    for(new ii; ii<MAX_PEDRAS; ii++)
	    {
	        if(Pedra[ii][ar_Existe] == 1)
	        {
	            if(!IsValidDynamicObject(Pedra[ii][ar_Obj])) continue;
	            if(objectid == Pedra[ii][ar_Obj])
	            {
	                Pedra[ii][ar_X] = x;
		            Pedra[ii][ar_Y] = y;
		            Pedra[ii][ar_Z] = z;
		            Pedra[ii][ar_A] = rz;
	                AtualizarPedra(ii);
	                salvar_pedra(ii);
	                return 1;
	            }
	        }
	    }

		for(new o; o<MAX_OBJETOS; o++)
		{
			if(Obj[o][obj_Existe] == 1)
			{
				if(IsValidDynamicObject(Obj[o][obj_Obj]))
				{
					if(objectid == Obj[o][obj_Obj])
					{
						Obj[o][obj_X] = x;
						Obj[o][obj_Y] = y;
						Obj[o][obj_Z] = z;
						Obj[o][obj_RX] = rx;
						Obj[o][obj_RY] = ry;
						Obj[o][obj_RZ] = rz;
						atualizar_objeto(o);
						salvar_objeto(o);
						ms(playerid, 1, "Edit completed, the object has been saved at the new position.");
						return 1;
					}
				}
			}
		}

        for(new po; po<MAX_PORTOES; po++)
	    {
	        if(Portao[po][portao_Existe] == 0) continue;
            if(!IsValidDynamicObject(Portao[po][portao_Obj])) continue;
            if(objectid == Portao[po][portao_Obj])
            {

                if(GetPVarInt(playerid, "posicao") == 0) // portao fechado //
                {
                    Portao[po][portao_X1] = x;
		    		Portao[po][portao_Y1] = y;
		    		Portao[po][portao_Z1] = z;
		    		Portao[po][portao_RX1] = rx;
		    		Portao[po][portao_RY1] = ry;
		    		Portao[po][portao_RZ1] = rz;
                    ms(playerid, 1, "Edit completed, the position of the gate 'closed' has been saved.");
				}

                if(GetPVarInt(playerid, "posicao") == 1) // portao aberto //
				{
                    Portao[po][portao_X2] = x;
		    		Portao[po][portao_Y2] = y;
		    		Portao[po][portao_Z2] = z;
		    		Portao[po][portao_RX2] = rx;
		    		Portao[po][portao_RY2] = ry;
		    		Portao[po][portao_RZ2] = rz;
                    ms(playerid, 1, "Edit completed, the position of the gate 'open' has been saved.");
                }

	    		atualizar_portao(po);
	    		salvar_portao(po);
	    		return 1;
            }
	    }

		for(new lo; lo<MAX_LOOT; lo++)
	    {
        	if(Loot[lo][loot_Existe] == 0) continue;
        	if(IsValidDynamicObject(Loot[lo][loot_Obj]))
	        {
	            if(objectid == Loot[lo][loot_Obj])
	            {
	                Loot[lo][loot_X] = x;
		    		Loot[lo][loot_Y] = y;
		    		Loot[lo][loot_Z] = z;
		    		Loot[lo][loot_RX] = rx;
		    		Loot[lo][loot_RY] = ry;
		    		Loot[lo][loot_RZ] = rz;
                    ms(playerid, 1, "Edit completed, the position of the Loot has been saved.");
                    atualizar_loot(lo);
	                return 1;
	            }
			}
	    }


	    if(GetPVarInt(playerid, "tunning") == 1)
	    {
	        new veh = GetPVarInt(playerid, "veh");
	        new id = GetPVarInt(playerid, "id");
	        new v = Info_Veiculo[veh];
			if( v != -1)
			{
		        if(objectid == Veiculo[v][v_Obj][id])
		        {
		            new Float:pos[3];
		            GetVehiclePos(veh, pos[0],pos[1],pos[2]);
		            Veiculo[v][v_Obj_X][id] = x-pos[0];
		            Veiculo[v][v_Obj_Y][id] = y-pos[1];
		            Veiculo[v][v_Obj_Z][id] = z-pos[2];
		            Veiculo[v][v_Obj_RX][id] = rx;
		            Veiculo[v][v_Obj_RY][id] = ry;
		            Veiculo[v][v_Obj_RZ][id] = rz;
					AttachDynamicObjectToVehicle(objectid, veh, Veiculo[v][v_Obj_X][id], Veiculo[v][v_Obj_Y][id], Veiculo[v][v_Obj_Z][id], Veiculo[v][v_Obj_RX][id], Veiculo[v][v_Obj_RY][id], Veiculo[v][v_Obj_RZ][id]);
					ms(playerid, 1, "Edit completed!");
					SetPVarInt(playerid, "tunning", 0);
					SalvarVeiculo(veh);
				}
			}
			return 1;
	    }


	}

	if(response == 0)
	{
	    for(new b; b<MAX_BAUS; b++)
	    {
            if(Bau[b][bau_Existe] == 0) continue;
            if(!IsValidDynamicObject(Bau[b][bau_Obj])) continue;
            if(objectid == Bau[b][bau_Obj])
            {
                atualizar_bau(b);
                ms(playerid, 1, "Edit completed, the Chest has returned to the previous position.");
                return 1;
            }
	    }

	    for(new lo; lo<MAX_LOOT; lo++)
	    {
        	if(Loot[lo][loot_Existe] == 0) continue;
        	if(IsValidDynamicObject(Loot[lo][loot_Obj]))
	        {
	            if(objectid == Loot[lo][loot_Obj])
	            {
                    ms(playerid, 3, "Edit canceled, the position of the Loot has not been saved.");
                    atualizar_loot(lo);
	                return 1;
	            }
			}
	    }

        for(new of; of<MAX_OFICINAS; of++)
	    {
            if(Oficina[of][o_Existe] == 0) continue;
            if(!IsValidDynamicObject(Oficina[of][o_Obj][0])) continue;
            if(objectid == Oficina[of][o_Obj][0])
            {
                atualizar_oficina(of);
                ms(playerid, 3, "Edit canceled, the Workshop has returned to the previous position.");
                return 1;
            }
	    }

	    for(new ca; ca<MAX_CAIXAS; ca++)
		{
	        if(Caixa[ca][caixa_Existe] == 0) continue;
	        if(IsValidDynamicObject(Caixa[ca][caixa_Obj]))
	        {
	            if(objectid == Caixa[ca][caixa_Obj])
	            {
	                ms(playerid, 3, "Edit canceled, the Chest has returned to the previous position.");
	                atualizar_caixa(ca);
	                salvar_caixa(ca);
	                return 1;
	            }
	        }
		}

		for(new re; re<MAX_RECICLADORAS; re++)
	    {
		    if(Recicladora[re][re_Existe] == 0) continue;
		    if(!IsValidDynamicObject(Recicladora[re][re_Obj])) continue;
            if(objectid == Recicladora[re][re_Obj])
            {
	    		atualizar_recicladora(re);
	    		salvar_recicladora(re);
	    		ms(playerid, 3, "Edit canceled, the Recycler has returned to the previous position.");
                return 1;
            }
	    }

	    for(new me; me<MAX_MESAS; me++)
	    {
		    if(Mesa[me][me_Existe] == 0) continue;
		    if(!IsValidDynamicObject(Mesa[me][me_Obj])) continue;
            if(objectid == Mesa[me][me_Obj])
            {
	    		atualizar_mesa(me);
	    		salvar_mesa(me);
	    		ms(playerid, 3, "Edit canceled, the Crafting Table has returned to the previous position.");
                return 1;
            }
	    }

	    for(new c; c<MAX_CAMERAS; c++)
	    {
            if(Camera[c][ca_Existe] == 0) continue;
            if(!IsValidDynamicObject(Camera[c][ca_Obj])) continue;
            if(objectid == Camera[c][ca_Obj])
            {
                salvar_camera(c);
                SetDynamicObjectPos(objectid, Camera[c][ca_X], Camera[c][ca_Y], Camera[c][ca_Z]);
                SetDynamicObjectRot(objectid, 0,0, Camera[c][ca_A]);
                return 1;
            }
	    }

	    for(new i; i<MAX_ARVORES; i++)
	    {
	        if(Arvore[i][ar_Existe] == 1)
	        {
	            if(!IsValidDynamicObject(Arvore[i][ar_Obj])) continue;
	            if(objectid == Arvore[i][ar_Obj])
	            {
	                DestruirArvore(i);
	                return 1;
	            }
	        }
	    }

	    for(new ii; ii<MAX_PEDRAS; ii++)
	    {
	        if(Pedra[ii][ar_Existe] == 1)
	        {
	            if(!IsValidDynamicObject(Pedra[ii][ar_Obj])) continue;
	            if(objectid == Pedra[ii][ar_Obj])
	            {
	                DestruirPedra(ii);
	                return 1;
	            }
	        }
	    }

	    for(new o; o<MAX_OBJETOS; o++)
		{
		    if(Obj[o][obj_Existe] == 1)
		    {
		        if(IsValidDynamicObject(Obj[o][obj_Obj]))
		        {
		            if(objectid == Obj[o][obj_Obj])
		            {
		                ms(playerid, 3, "Edit canceled, the Object has returned to the previous position.");
		                atualizar_objeto(o);
		                return 1;
		            }
		        }
		    }
		}

        for(new po; po<MAX_PORTOES; po++)
	    {
            if(Portao[po][portao_Existe] == 0) continue;
            if(!IsValidDynamicObject(Portao[po][portao_Obj])) continue;
            if(objectid == Portao[po][portao_Obj])
            {

                if(GetPVarInt(playerid, "posicao") == 0) // portao fechado //
                {
                    ms(playerid, 3, "Edit canceled, the position of the gate 'closed' has not been saved.");
				}

                if(GetPVarInt(playerid, "posicao") == 1) // portao aberto //
				{
                    ms(playerid, 3, "Edit canceled, the position of the gate 'open' has not been saved.");
                }

	    		atualizar_portao(po);
	    		salvar_portao(po);
	    		return 1;
            }
	    }

	    if(GetPVarInt(playerid, "tunning") == 1)
	    {
	        new veh = GetPVarInt(playerid, "veh");
	        new id = GetPVarInt(playerid, "id");
	        new v = Info_Veiculo[veh];
            if( v != -1)
            {
		        if(objectid == Veiculo[v][v_Obj][id])
		        {
		            DestroyDynamicObject_(objectid);
		            Veiculo[v][v_Obj_Existe][id] = 0;
		            Veiculo[v][v_Obj_ID][id] = -1;
		            Veiculo[v][v_Obj_X][id] = 0;
		            Veiculo[v][v_Obj_Y][id] = 0;
		            Veiculo[v][v_Obj_Z][id] = 0;
		            Veiculo[v][v_Obj_RX][id] = 0;
		            Veiculo[v][v_Obj_RY][id] = 0;
		            Veiculo[v][v_Obj_RZ][id] = 0;
		            ms(playerid, 1, "Edit canceled, the Object has been destroyed!");
		            SetPVarInt(playerid, "tunning", 0);
		            SalvarVeiculo(veh);
		        }
	        }
	        return 1;
		}
	}

	return 1;
}

public OnPlayerUpdate(playerid)
{
    if(IsPlayerNPC(playerid)) return 0;

    new muni[20];
	AFK[playerid] = gettime();
	if(GetPlayerWeapon(playerid) != Arma_Player[playerid])
	{
	    Arma_Player[playerid] = GetPlayerWeapon(playerid);
	    armas_costas(playerid);
	    if(Arma_Player[playerid] != 0)
	    {
	    	PlayerTextDrawSetString(playerid, InvInfo_p[playerid][3], nome_arma(Arma_Player[playerid]));
	    	format(muni, 20, "%s", ConvertMoney(GetPlayerAmmo(playerid)));
    		PlayerTextDrawSetString(playerid, InvInfo_p[playerid][4], muni);
	    }
	    else
	    {
	        PlayerTextDrawSetString(playerid, InvInfo_p[playerid][3], "~r~~h~unarmed");
	        PlayerTextDrawSetString(playerid, InvInfo_p[playerid][4], "_");
	    }
	}
	if(Arma_Player[playerid] != 0)
	{
		format(muni, 20, "%s", ConvertMoney(GetPlayerAmmo(playerid)));
		PlayerTextDrawSetString(playerid, InvInfo_p[playerid][4], muni);
	}

	//  veiculos de inventario //
	if(GetPVarInt(playerid, "RC") < gettime())
	{
		if(RC[playerid] != INVALID_VEHICLE_ID)
		{
		    GetVehicleHealth(RC[playerid], VidaRC[playerid]);
		    if(!IsPlayerInVehicle(playerid, RC[playerid]) || VidaRC[playerid] < 350.0)
		    {
                ACInfo[playerid][acAirbreakTime] = gettime() + 5;
	        	ACInfo[playerid][acImmunity] = gettime() + 5;
		        DestroyVehicle(RC[playerid]);
		        SetCameraBehindPlayer(playerid);
		        RC[playerid] = INVALID_VEHICLE_ID;
		        ms(playerid, 1, "The Vehicle has been destroyed!");
    			if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
    			if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
		    }
		}
	}

	return 1;
}


ShowPlayerDialog_(playerid, iddialog, stilodialog, cabec[], stringg[], bot1[], bot2[])
{
	if(ShowPlayerDialog(playerid, iddialog, stilodialog, cabec, stringg, bot1, bot2))
	{
 		KillTimer_(timer_dialog_player[playerid]);
 		dialog_player[playerid] = iddialog;
	}
	else
	{
		dialog_player[playerid] = -1;
		KillTimer_(timer_dialog_player[playerid]);
	}
	return 1;
}

forward liberar_textdraw(playerid);
public liberar_textdraw(playerid)
{
    KillTimer_(timer_dialog_player[playerid]);
    dialog_player[playerid] = -1;
	return 1;
}

forward RespostaMenu(playerid, ID_menu, resposta, listitem);
public RespostaMenu(playerid, ID_menu, resposta, listitem)
{

    // LISTA DE CADASTROS //
	if(ID_menu == MENU_CADASTROS)
	{
	    if(resposta == 1)
	    {
			cmd_account(playerid, Cadastros[listitem][cadastro_Nick]);
			fechar_menu(playerid);
	        return 1;
	    }
	}

    // LISTA DE OBJETOS PARA BASE //
	if(ID_menu == MENU_LISTA_OBJETOS_BASE)
	{
	    if(resposta == 1)
	    {
            if(CriarObjeto(playerid, listitem) != -555) fechar_menu(playerid);
	        return 1;
	    }
	}


	// LISTA DE CRAFT //
	if(ID_menu == MENU_LISTA_CRAFT)
	{
	    if(resposta == 1)
	    {
            if(CriarCraft(playerid, listitem) != 0) fechar_menu(playerid);
	        return 1;
	    }
	}

	// LISTA DE ITEMS ( /listaitems ) //
	if(ID_menu == MENU_LISTA_ITENS)
	{
	    if(resposta == 1)
	    {
            opcao_item(playerid, listitem+1);
	        return 1;
	    }
	    if(resposta == 2)
	    {
	        fechar_menu(playerid);
	        return 1;
	    }
	}

	//fechar_menu(playerid, 1);
	fechar_menu(playerid);
	return 1;
}

public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
    if(IsPlayerNPC(playerid)) return 0;

	new str[300];
	if(listitem < 0 ) listitem = 0;

	/*
	if(PlayerRT(playerid))
    {
    	ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}POSSIBLE RT DETECTED\n\n{a1a1a1}Please relog, you may be experiencing very high ping or\nyour clock is stuck, this causes some server systems\nto not work properly.", "Ok", "Close");
        return 1;
    }
    */

	if(response)
	{
	    KillTimer_(timer_dialog_player[playerid]);
		timer_dialog_player[playerid] = SetTimerEx("liberar_textdraw", 500, 0, "d", playerid);
	}
	if(!response)
	{
	    KillTimer_(timer_dialog_player[playerid]);
		timer_dialog_player[playerid] = SetTimerEx("liberar_textdraw", 500, 0, "d", playerid);
	}

	// dialog da conta informacoes //
	if(dialogid == DIALOG_CONTA2)
	{
	    new ca = GetPVarInt(playerid, "cadastro_conta");
	    if(ca != -1) cmd_account(playerid, Cadastros[ca][cadastro_Nick]);
	    return 1;
	}

	// dialog da conta //
	if(dialogid == DIALOG_CONTA)
	{
	    new ca = GetPVarInt(playerid, "cadastro_conta");
	    if(response)
	    {
			if(ca != -1)
			{
			    new sss[300];
			    String_Gigante[0] = EOS;

			    // tiver Online //
	            if(IsPlayerOnline(Cadastros[ca][cadastro_Nick]))
	            {
	                // pegar id do player //
	                new id = GetPlayerID(Cadastros[ca][cadastro_Nick]);

	                // informacoes //
			        if(listitem == 0)
					{
						strcat(String_Gigante, "\n\n");
						format(sss, 300, "{ffffff}Status: {00ff00}Online\n");
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Nick: {00ffff}%s\n", Cadastros[ca][cadastro_Nick]);
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Registration ID: {ffff00}%d\n", ca);
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Last Login: {a1a1a1}%02d/%02d/%04d at %02d:%02d\n", pInfo[id][pDia],pInfo[id][pMes],pInfo[id][pAno],pInfo[id][pHora],pInfo[id][pMinuto]);
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Base: {ffff00}%s\n", nomebase(BasePlayer(id)));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Kills: {00ffff}%s\n", ConvertMoney(pInfo[id][pMatou]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Deaths: {00ffff}%s\n", ConvertMoney(pInfo[id][pMorreu]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Zombies Killed: {00ffff}%s\n", ConvertMoney(pInfo[id][pZombies]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Money: {00ff00}%s\n", ConvertMoney(pInfo[id][pGrana]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Cash: {ffff00}%s\n", ConvertMoney(pInfo[id][pCash]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Wood: {a1a1a1}%s\n", ConvertMoney(Madeiras[playerid]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Metals: {a1a1a1}%s\n", ConvertMoney(Metais[playerid]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Stones: {a1a1a1}%s\n", ConvertMoney(Pedras[playerid]));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Gunpowders: {a1a1a1}%s\n", ConvertMoney(Polvoras[playerid]));
						strcat(String_Gigante, sss);
						strcat(String_Gigante, "\n\n");
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_MSGBOX, "Information", String_Gigante, "Ok", "Back");
					}

			        // inventario //
			        if(listitem == 1)
					{
						new id_i;
						new uni_i;
						strcat(String_Gigante, "Slot\tName\tUnits\n");
						for(new i; i<MAX_SLOTS; i++)
						{
							id_i = Inventario[id][i][inv_ID];
							uni_i = Inventario[id][i][inv_Unidades];
							strcat(String_Gigante, "{a1a1a1}");
							strcat(String_Gigante, ConvertMoney(i));
							strcat(String_Gigante, "\t{ffffff}");
							strcat(String_Gigante, Itens[id_i][item_Nome]);
							strcat(String_Gigante, "\t{ffff00}");
							strcat(String_Gigante, ConvertMoney(uni_i));
							strcat(String_Gigante, "\n");
						}
						format(sss, 150, "{ffffff}%s's Inventory", Cadastros[ca][cadastro_Nick]);
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_TABLIST_HEADERS, sss, String_Gigante, "Ok", "Back");
					}


					// weapons //
					if(listitem == 2)
					{
						new weps[13][2];
						strcat(String_Gigante, "Weapon\tAmmo\n");
						for(new i; i<13; i++)
						{
							GetPlayerWeaponData(id, i, weps[i][0], weps[i][1]);
							format(sss, 300, "{ffffff}%s\t{a1a1a1}%s\n", nome_arma(weps[i][0]), ConvertMoney(weps[i][1]));
							strcat(String_Gigante, sss);
						}
						format(sss, 300, "{ffffff}%s's Equipped Weapons", Cadastros[ca][cadastro_Nick]);
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_TABLIST_HEADERS, sss, String_Gigante, "Ok", "Back");
					}
				}


	            // se tiver OffLine //
	            else
	            {
	                new file[100];

					// informacoes //
					if(listitem == 0)
					{
						format(file, 80, "Whitelist/%s.txt", Cadastros[ca][cadastro_Nick]);
						strcat(String_Gigante, "\n\n");
						format(sss, 300, "{ffffff}Status: {ff0000}Offline\n");
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Nick: {00ffff}%s\n", Cadastros[ca][cadastro_Nick]);
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Registration ID: {ffff00}%d\n", ca);
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Last Login: {a1a1a1}%02d/%02d/%04d at %02d:%02d\n", DOF2_GetInt(file, "pDia"), DOF2_GetInt(file, "pMes"), DOF2_GetInt(file, "pAno"), DOF2_GetInt(file, "pHora"), DOF2_GetInt(file, "pMinuto"));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Base: {ffff00}%s\n", nomebase(BaseConta(Cadastros[ca][cadastro_Nick])));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Kills: {00ffff}%s\n", ConvertMoney(DOF2_GetInt(file, "pMatou")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Deaths: {00ffff}%s\n", ConvertMoney(DOF2_GetInt(file, "pMorreu")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Zombies Killed: {00ffff}%s\n", ConvertMoney(DOF2_GetInt(file, "pZombies")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Money: {00ff00}%s\n", ConvertMoney(DOF2_GetInt(file, "pGrana")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Cash: {ffff00}%s\n", ConvertMoney(DOF2_GetInt(file, "pCash")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Wood: {a1a1a1}%s\n", ConvertMoney(DOF2_GetInt(file, "Madeiras")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Metals: {a1a1a1}%s\n", ConvertMoney(DOF2_GetInt(file, "Metais")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Stones: {a1a1a1}%s\n", ConvertMoney(DOF2_GetInt(file, "Pedras")));
						strcat(String_Gigante, sss);
						format(sss, 300, "{ffffff}Gunpowders: {a1a1a1}%s\n", ConvertMoney(DOF2_GetInt(file, "Polvoras")));
						strcat(String_Gigante, sss);
						strcat(String_Gigante, "\n\n");
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_MSGBOX, "Information", String_Gigante, "Ok", "Back");
					}


					// inventory //
					if(listitem == 1)
					{
						format(file, 80, "Inventarios/%s.txt", Cadastros[ca][cadastro_Nick]);
						new string[100];
						new id_i;
						new uni_i;
						strcat(String_Gigante, "Slot\tName\tUnits\n");
						for(new i; i<MAX_SLOTS; i++)
						{
							format(string, 100, "ID_%d", i);
							id_i = DOF2_GetInt(file, string);
							format(string, 100, "Unidades_%d", i);
							uni_i = DOF2_GetInt(file, string);
							strcat(String_Gigante, "{a1a1a1}");
							strcat(String_Gigante, ConvertMoney(i));
							strcat(String_Gigante, "\t{ffffff}");
							strcat(String_Gigante, Itens[id_i][item_Nome]);
							strcat(String_Gigante, "\t{ffff00}");
							strcat(String_Gigante, ConvertMoney(uni_i));
							strcat(String_Gigante, "\n");
						}
						format(sss, 150, "{ffffff}%s's Inventory", Cadastros[ca][cadastro_Nick]);
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_TABLIST_HEADERS, sss, String_Gigante, "Ok", "Back");
					}


					// weapons //
					if(listitem == 2)
					{
						format(file, 80, "Whitelist/%s.txt", Cadastros[ca][cadastro_Nick]);
						strcat(String_Gigante, "Weapon\tAmmo\n");
						new sss1[40], sss2[40];
						for(new a; a<13; a++)
						{
							format(sss1, 40, "Weapon_%d", a);
							format(sss2, 40, "Ammo_%d", a);
							format(sss, 300, "{ffffff}%s\t{a1a1a1}%s\n", nome_arma(DOF2_GetInt(file, sss1)), ConvertMoney(DOF2_GetInt(file, sss2)));
							strcat(String_Gigante, sss);
						}
						format(sss, 300, "{ffffff}%s's Equipped Weapons", Cadastros[ca][cadastro_Nick]);
						ShowPlayerDialog_(playerid, DIALOG_CONTA2, DIALOG_STYLE_TABLIST_HEADERS, sss, String_Gigante, "Ok", "Back");
					}

	            }
	        }
	    }
	    return 1;
	}

	// MEMBROS ONLINE /PAR //
	if(dialogid == DIALOG_MEMBROS2)
	{
	    new list = GetPVarInt(playerid, "list");
	    new i = LISTA[playerid][list];
	    if(!response) return cmd_members(playerid, #);
	    if(strlen(inputtext) < 1)
		{
		    OnDialogResponse(playerid, DIALOG_MEMBROS, 1, list, "");
		 	ms(playerid, 0, "Your private message is too short, please try a longer message!");
		 	return 1;
		}
		format(str, 150, "%d %s", i, inputtext);
	    cmd_par(playerid, str);
	    return 1;
	}

	// LISTA DE MEMBROS ONLINE //
	if(dialogid == DIALOG_MEMBROS)
	{
		if(response)
		{
			new i = LISTA[playerid][listitem];
			SetPVarInt(playerid, "list", listitem);
			if(i == -1)
			{
				ms(playerid, 0, "No Members Online!");
				return 1;
			}
			if(!Online(i))
			{
				ms(playerid, 0, "This player is no longer Online!");
				return 1;
			}
			ShowPlayerDialog_(playerid, DIALOG_MEMBROS2, DIALOG_STYLE_INPUT, Nome(i), "\n\n{00ff00}[INFO] {a1a1a1}Send a private message:\n\n", "Send", "Cancel");
		}
		return 1;
	}


	// dialog de configuracoes //
	if(dialogid == DIALOG_CONFIGURACOES)
	{
	    if(response)
	    {
	        if(pInfo[playerid][pConfig][listitem] == 1) pInfo[playerid][pConfig][listitem] = 0;
			else pInfo[playerid][pConfig][listitem] = 1;
			if(listitem == 5)
			{
			    Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]);
			    Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]);
			    Setar_Mascara(playerid, Mascara[playerid]);
			}
			if(listitem == 6)
			{
			    if(Modo[playerid] == 1)
			    {
			        if(invaberto[playerid] == 0)
			        {
			    		if(pInfo[playerid][pConfig][listitem] == 1) esconder_busola(playerid);
			    		else mostrar_busola(playerid);
					}
			    }
			}
			mostrar_configuracoes(playerid);
	    }
	    return 1;
	}

	// dialog instalar explosivo //
	if(dialogid == DIALOG_COLOCAR_EXPLOSIVO)
	{
	    if(response)
	    {
	        new id = ObjetosPerto[playerid][0][listitem];
	        new tipo = ObjetosPerto[playerid][1][listitem];
	        new slot = GetPVarInt(playerid, "slot_explosivo");
	        if(id == -1)
			{
			 	mostrar_objetos_proximos(playerid);
			 	ms(playerid, 0, "There is no gate, item box, or base object nearby!");
			 	return 1;
			}

			for(new i; i<MAX_EXPLOSIVOS; i++)
	        {
	            if(Explosivo[i][explosivo_Existe] == 0)
	            {

			        // se for um portao //
			        if(tipo == 0)
			        {
						if(Portao[id][portao_Existe] == 1)
						{
							if(Portao[id][portao_Dinamite] != -1)
							{
								mostrar_objetos_proximos(playerid);
								format(str, 300, "The player '%s' has already installed an explosive on this gate!", Explosivo[Portao[id][portao_Dinamite]][explosivo_Dono]);
								ms(playerid, 0, str);
								return 1;
							}

							Portao[id][portao_Dinamite] = i;
							Explosivo[i][explosivo_ID_Objeto] = id;
							Explosivo[i][explosivo_Tipo_Objeto] = 0;

							Explosivo[i][explosivo_Mundo] = 0;
							Explosivo[i][explosivo_Interior] = 0;
							Explosivo[i][explosivo_Existe] = 1;
							format(Explosivo[i][explosivo_Dono], MAX_PLAYER_NAME, Nome(playerid));
							atualizar_explosivo(i);
							Inventario[playerid][slot][inv_Unidades]--;
							if(Inventario[playerid][slot][inv_Unidades] == 0)
							{
								Inventario[playerid][slot][inv_ID] = 0;
								Inventario[playerid][slot][inv_Unidades] = 0;
								Inventario[playerid][slot][inv_Tipo] = 0;
							}
							format(string_prox, 300, " Player %s has installed a C-4 Explosive ", Nome(playerid));
							ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
							ms(playerid, 3, "Use /detonator if you have one in your inventory to detonate this C-4.");
							ms(playerid, 3, "You can store this Explosive by pressing F or ENTER nearby.");
							ms(playerid, 1, "The explosive has been installed on the Gate!");
							fecharinv(playerid);
							return 1;
						}

						else
						{
						    mostrar_objetos_proximos(playerid);
					 		ms(playerid, 0, "This gate no longer exists!");
					 		return 1;
						}
			        }

			        // se for uma caixa //
			        if(tipo == 1)
			        {
                        if(Caixa[id][caixa_Existe] == 1)
						{
                            if(Caixa[id][caixa_Dinamite] != -1)
							{
								mostrar_objetos_proximos(playerid);
								format(str, 300, "The player '%s' has already installed an explosive on this Item Box!", Explosivo[Caixa[id][caixa_Dinamite]][explosivo_Dono]);
								ms(playerid, 0, str);
								return 1;
							}

							Caixa[id][caixa_Dinamite] = i;
							Explosivo[i][explosivo_ID_Objeto] = id;
							Explosivo[i][explosivo_Tipo_Objeto] = 1;

							Explosivo[i][explosivo_Mundo] = 0;
							Explosivo[i][explosivo_Interior] = 0;
							Explosivo[i][explosivo_Existe] = 1;
							format(Explosivo[i][explosivo_Dono], MAX_PLAYER_NAME, Nome(playerid));
							atualizar_explosivo(i);
							Inventario[playerid][slot][inv_Unidades]--;
							if(Inventario[playerid][slot][inv_Unidades] == 0)
							{
								Inventario[playerid][slot][inv_ID] = 0;
								Inventario[playerid][slot][inv_Unidades] = 0;
								Inventario[playerid][slot][inv_Tipo] = 0;
							}
							format(string_prox, 300, " Player %s has installed a C-4 Explosive ", Nome(playerid));
							ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
							ms(playerid, 3, "Use /detonator if you have one in your inventory to detonate this C-4.");
							ms(playerid, 3, "You can store this Explosive by pressing F or ENTER nearby.");
							ms(playerid, 1, "The explosive has been installed on the Item Box!");
							fecharinv(playerid);
							return 1;
						}
						else
						{
						    mostrar_objetos_proximos(playerid);
					 		ms(playerid, 0, "This Item Box does not exist anymore!");
					 		return 1;
						}
			        }

					/*
			        // se for um objeto //
			        if(tipo == 2)
			        {

						if(Obj[id][obj_Existe] == 1)
						{
						    if(Obj[id][obj_Dinamite] != -1)
						    {
						        mostrar_objetos_proximos(playerid);
						        format(str, 300, "Player '%s' has already installed an Explosive on this Base Object!", Explosivo[Obj[id][obj_Dinamite]][explosivo_Dono]);
					 			ms(playerid, 0, str);
					 			return 1;
						    }

						    Obj[id][obj_Dinamite] = i;
						    Explosivo[i][explosivo_ID_Objeto] = id;
			                Explosivo[i][explosivo_Tipo_Objeto] = 2;

						    Explosivo[i][explosivo_Mundo] = 0;
			                Explosivo[i][explosivo_Interior] = 0;
			                Explosivo[i][explosivo_Existe] = 1;
			                format(Explosivo[i][explosivo_Dono], MAX_PLAYER_NAME, Nome(playerid));
							atualizar_explosivo(i);
							Inventario[playerid][slot][inv_Unidades] --;
							if(Inventario[playerid][slot][inv_Unidades] == 0)
							{
							    Inventario[playerid][slot][inv_ID] = 0;
							    Inventario[playerid][slot][inv_Unidades] = 0;
							    Inventario[playerid][slot][inv_Tipo] = 0;
							}
							format(string_prox, 300, " Player %s has installed an Explosive C-4 ", Nome(playerid));
							ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
							ms(playerid, 3, "Use /detonador if you have one in your inventory to explode this C-4.");
							ms(playerid, 3, "You can store this Explosive by pressing F or ENTER near it.");
							ms(playerid, 3, "The explosive was installed on the Base Object!");
							fecharinv(playerid);
							return 1;
						}
                        else
						{
						    mostrar_objetos_proximos(playerid);
					 		ms(playerid, 0, "This Base Object does not exist anymore!");
					 		return 1;
						}
			        }
			        */
			        return 1;
	            }
			}
	        ms(playerid, 0, "Number of explosives on the hit server!");
	    }
	    return 1;
	}

	//baru sampe sini 2 03/02/26
	// DIALOG NOVIDADES //
	if(dialogid == DIALOG_MUNICOES)
	{
		if(response)
		{
			new id = GetPVarInt(playerid, "invp_id");
			new weapon[13][2];
			for(new w = 0; w < 13; w++) GetPlayerWeaponData(playerid, w, weapon[w][0], weapon[w][1]);


			if(weapon[Itens[id][item_Tipo]][0] != 0)
			{
				new str3[300];
				new str1[300];
				new arma_eq, muni_eq;
				new total = UnidadesInv(playerid, id);
				GetPlayerWeaponData(playerid, Itens[id][item_Tipo], arma_eq, muni_eq);


				format(str1, 300, "{00ffff}%s {a1a1a1}In Inventory {ffffff}%s", Itens[id][item_Nome], ConvertMoney(total));
				format(str3, 300, "\n\
	{ffff00}Weapon: {00ffff}%s\n\
	{ffff00}Ammo: {ffffff}%s\n\
	{00ff00}INFO: {a1a1a1}You can only have a maximum of 300 ammo equipped for each weapon.\n\n\
	{ffffff}Type below how many ammo you want to use:\n", nome_arma(arma_eq), ConvertMoney(muni_eq));


				// Check input validity
				if(!IsNumeric(inputtext) || strlen(inputtext) > 3)
				{
					ms(playerid, 0, "Please use a valid number not exceeding 300.");
					ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Continue", "Cancel");
					return 1;
				}


				new numero = strval(inputtext);


				if(numero <= 0)
				{
					ms(playerid, 0, "Please use a value greater than 0.");
					ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Continue", "Cancel");
					return 1;
				}


				if(numero + muni_eq > 300)
				{
					ms(playerid, 0, "The total ammo cannot exceed 300 (including what you already have).");
					ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Continue", "Cancel");
					return 1;
				}


				if(numero > total)
				{
					ms(playerid, 0, "You do not have that many ammo in your inventory.");
					ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Continue", "Cancel");
					return 1;
				}


				consumir_inv(playerid, id, numero);
				GivePlayerWeapon(playerid, weapon[Itens[id][item_Tipo]][0], numero);
				abririnv(playerid, 2);
				fechar_opcoes(playerid);
				salvarplayer(playerid);
			}
		}
		return 1;
	}



    // DIALOG NOVIDADES //
	if(dialogid == DIALOG_NOVIDADES)
	{
		ShowPlayerDialog_(playerid, DIALOG_PLATAFORMA, DIALOG_STYLE_MSGBOX, "Set Platform", "\n\n{ffffff}ATTENTION: {a1a1a1}To continue your {ffffff}Login {a1a1a1}on the {ffffff}Server, {a1a1a1}we need you to\ninform us if you are playing on a PC or a Mobile, please\nchoose the correct option below:\n\n", "ANDROID", "PC");
	}


	// DIALOG CRIAR ZOMBIE //
	if(dialogid == DIALOG_ZOMBIE)
	{
		new sde[50];
		format(sde, 50, "%d", listitem+1);
		if(response)
		{
			cmd_createzombie123456(playerid, sde);
		}
		return 1;
	}


	// item novo nick //
	if(dialogid == DIALOG_TROCAR_NICK)
	{
		if(response)
		{
			if(strlen(inputtext) < 3 || strlen(inputtext) > 20)
			{
				ms(playerid, 0, "Your Nick must be between 3 and 20 characters!");
				item_trocar_nick(playerid);
				return 1;
			}


			if(!VerificarNick(inputtext))
			{
				ms(playerid, 0, "Your nick does not match the server's accepted pattern!");
				ms(playerid, 0, "Your nick cannot contain special characters!");
				ms(playerid, 0, "Example of an accepted Nick: Anderson_Andre.");
				item_trocar_nick(playerid);
				return 1;
			}


			if(nick_existe(inputtext))
			{
				ms(playerid, 0, "This nick is already in use!");
				item_trocar_nick(playerid);
				return 1;
			}


			format(str, 150, "[NICK CHANGE] Player '%s' changed their nick to '%s'.", Nome(playerid), inputtext);
			trocar_nick(playerid, inputtext);
			new slot = GetPVarInt(playerid, "slot");
			Inventario[playerid][slot][inv_Unidades]--;
			if(Inventario[playerid][slot][inv_Unidades] <= 0)
			{
				Inventario[playerid][slot][inv_ID] = 0;
				Inventario[playerid][slot][inv_Unidades] = 0;
				Inventario[playerid][slot][inv_Tipo] = 0;
			}
			abririnv(playerid, 2);
			for(new i; i<MAX_PLAYERS; i++) if(Online(i)) SendClientMessage(i, 0x00ffffff, str);
		}
		return 1;
	}



	// solicitar novo nick //
	if(dialogid == DIALOG_NOVO_NICK)
	{
		if(!response) return mudar_novo_nick(playerid);
		if(strlen(inputtext) < 3 || strlen(inputtext) > 20)
		{
			ms(playerid, 0, "Your Nick must be between 3 and 20 characters!");
			mudar_novo_nick(playerid);
			return 1;
		}

		if(!VerificarNick(inputtext))
		{
			ms(playerid, 0, "Your nick does not match the server's accepted pattern!");
			ms(playerid, 0, "Your nick cannot contain special characters!");
			ms(playerid, 0, "Example of an accepted Nick: Anderson_Andre.");
			mudar_novo_nick(playerid);
			return 1;
		}

		if(nick_existe(inputtext))
		{
			ms(playerid, 0, "This nick is already in use!");
			mudar_novo_nick(playerid);
			return 1;
		}

		trocar_nick(playerid, inputtext);
		TogglePlayerSpectating(playerid, false);
		Logado[playerid] = 1;
		Modo[playerid] = 0;
		carregarplayer(playerid);
		SpawnPlayer(playerid);
		ms(playerid, 1, "You have successfully logged in.");
		carregar_veiculos_player(playerid);

		new file[80];
		format(file, 80, "Whitelist/%s.txt", Nome(playerid));
		new dd, mm, aa, hh, mi, ss;
		gettime(hh, mi, ss);
		getdate(aa, mm, dd);
		DOF2_SetInt(file, "pDia", dd);
		DOF2_SetInt(file, "pMes", mm);
		DOF2_SetInt(file, "pAno", aa);
		DOF2_SetInt(file, "pHora", hh);
		DOF2_SetInt(file, "pMinuto", mi);
		DOF2_SetInt(file, "pSegundo", dd);
		DOF2_SaveFile();
		return 1;
	}



	// request support //
	if(dialogid == DIALOG_ATENDIMENTOS)
	{
		if(response)
		{
			if(atendimentos_player[playerid][listitem] == -1) return cmd_helpme(playerid, #);
			format(str, 50, "%d", atendimentos_player[playerid][listitem]);
			cmd_accepthelp(playerid, str);
		}
		return 1;
	}



	// request support //
	if(dialogid == DIALOG_ATENDIMENTO)
	{
		if(response)
		{
			new cont;
			for(new i; i < MAX_ATENDIMENTOS; i++) if(Atendimento[i][at_Existe] != 0) cont++;
			new att = criar_atendimento(playerid, listitem);
			if(att == 0) return ms(playerid, 0, "Too many support requests have been made recently, please wait and try again!");
			if(listitem == 0) ms(playerid, 4, "You requested support from an Administrator priority: LOW, please wait to be attended.");
			if(listitem == 1) ms(playerid, 4, "You requested support from an Administrator priority: MEDIUM, please wait to be attended.");
			if(listitem == 2) ms(playerid, 4, "You requested support from an Administrator priority: HIGH, please wait to be attended.");
			ms(playerid, 2, "To cancel your support request use /close.");
		}
		return 1;
	}

	// dialog bases //
	if(dialogid == DIALOG_BASES)
	{
	    if(response)
	    {
	        new cont = bases();
			new pags;
		    new sobra;
		    new div;
		    if(cont <= 50)
		    {
				pags = 1;
				sobra = 0;
		    }
		    else
		    {
		        pags = cont/50;
		        div = pags*50;
		        sobra = cont - (div);
		        if(sobra > 0) pags ++;
		    }

		    if(pagina_bases[playerid]+1 == pags )
		    {
		        if(pags == 1)
		        {
		            if(listitem == bases()) // avancar
					{
			            mostrar_bases(playerid);
						return 1;
		        	}

		        	if(listitem == bases()+1) // voltar
					{
			            mostrar_bases(playerid);
						return 1;
		        	}
		        }
		        else
		        {
		            new sizeo = bases()-((pags-1)*50);
		            if(listitem == sizeo)
		            {
		                mostrar_bases(playerid);
						return 1;
		            }
		            if(listitem == sizeo+1)
		            {
		                if(pagina_bases[playerid] > 0) pagina_bases[playerid]--;
		                mostrar_bases(playerid);
						return 1;
		            }
		        }
		    }

	        if(pags == 1)
	        {
	            new sizeo = bases()-((pags-1)*50);
	            if(listitem < sizeo)
	            {
		            new ii = Lista_Bases[playerid][listitem];
					if(ii == -1) return mostrar_bases(playerid);
					lista_bases(playerid, (pagina_bases[playerid]*50) + ii);
		            return 1;
	            }
	            else
	            {
	                mostrar_bases(playerid);
		        }
			}
	        else
	        {
		        if(listitem == 50)
		        {
		            if(pagina_bases[playerid]+1 < pags)
				    {
		                pagina_bases[playerid]++;
					}
		            mostrar_bases(playerid);
				    return 1;
		        }

		        if(listitem == 51)
		        {
	                if(pagina_bases[playerid] > 0) pagina_bases[playerid]--;
		            mostrar_bases(playerid);
		            return 1;
		        }
			}
			new ii = Lista_Bases[playerid][listitem];
			if(ii == -1) return mostrar_bases(playerid);
			lista_bases(playerid, (pagina_bases[playerid]*50) + ii);
	    }
		return 1;
	}


	// dialog carros //
	if(dialogid == DIALOG_CARROS)
	{
	    if(response)
	    {
	        new cont = carros();
			new pags;
		    new sobra;
		    new div;
		    if(cont <= 50)
		    {
				pags = 1;
				sobra = 0;
		    }
		    else
		    {
		        pags = cont/50;
		        div = pags*50;
		        sobra = cont - (div);
		        if(sobra > 0) pags ++;
		    }

		    if(pagina_carros[playerid]+1 == pags )
		    {
		        if(pags == 1)
		        {
		            if(listitem == carros()) // avancar
					{
			            mostrar_carros(playerid);
						return 1;
		        	}

		        	if(listitem == carros()+1) // voltar
					{
			            mostrar_carros(playerid);
						return 1;
		        	}
		        }
		        else
		        {
		            new sizeo = carros()-((pags-1)*50);
		            if(listitem == sizeo)
		            {
		                mostrar_carros(playerid);
						return 1;
		            }
		            if(listitem == sizeo+1)
		            {
		                if(pagina_carros[playerid] > 0) pagina_carros[playerid]--;
		                mostrar_carros(playerid);
						return 1;
		            }
		        }
		    }

	        if(pags == 1)
	        {
	            new sizeo = carros()-((pags-1)*50);
	            if(listitem < sizeo)
	            {
		            new ii = Lista_Carros[playerid][listitem];
					if(ii == -1) return mostrar_carros(playerid);
					lista_carros(playerid, (pagina_carros[playerid]*50) + ii);
		            return 1;
	            }
	            else
	            {
	                mostrar_carros(playerid);
		        }
			}
	        else
	        {
		        if(listitem == 50)
		        {
		            if(pagina_carros[playerid]+1 < pags)
				    {
		                pagina_carros[playerid]++;
					}
		            mostrar_carros(playerid);
				    return 1;
		        }

		        if(listitem == 51)
		        {
	                if(pagina_carros[playerid] > 0) pagina_carros[playerid]--;
		            mostrar_carros(playerid);
		            return 1;
		        }
			}
			new ii = Lista_Carros[playerid][listitem];
			if(ii == -1) return mostrar_carros(playerid);
			lista_carros(playerid, (pagina_carros[playerid]*50) + ii);
	    }
		return 1;
	}




	// DIALOG_OPCAO_PORTA_MALAS
	if(dialogid == DIALOG_OPCAO_PORTA_MALAS)
	{
		if(response)
		{
			new porta_malas = GetPVarInt(playerid, "id_info");
			new v = GetPVarInt(playerid, "veiculo");
			if(Travado(v)) 
				return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Trunk", "{FF0000}[ERROR] {A1A1A1}The vehicle is locked, you cannot open the trunk!", "Ok", "Close");

			if(listitem == 0)
			{
				abrir_portamalas(playerid, porta_malas);
			}
			if(listitem == 1)
			{
				guardando[playerid] = 1;
				abririnv(playerid, 2);
			}
		}
		return 1;
	}

	// DIALOG_ADMINS2
	if(dialogid == DIALOG_ADMINS2)
	{
		if(!response) return cmd_admins(playerid, #);
		if(strlen(inputtext) < 1)
		{
			OnDialogResponse(playerid, DIALOG_ADMINS, 1, GetPVarInt(playerid, "list"), "");
			ms(playerid, 0, "Your private message is too short, please try a longer message!");
			return 1;
		}
		format(str, 150, "%d %s", Lista_Admins[playerid][GetPVarInt(playerid, "list")], inputtext);
		cmd_par(playerid, str);
		return 1;
	}

	// DIALOG_ADMINS
	if(dialogid == DIALOG_ADMINS)
	{
		SetPVarInt(playerid, "list", listitem);
		new i = Lista_Admins[playerid][listitem];
		if(response)
		{
			if(i == -1)
			{
				ms(playerid, 0, "No Admins Online!");
				return 1;
			}

			if(!Online(i))
			{
				ms(playerid, 0, "This Admin is no longer Online!");
				return 1;
			}
			ShowPlayerDialog_(playerid, DIALOG_ADMINS2, DIALOG_STYLE_INPUT, Nome(i), "\n\n{00ff00}[INFO] {a1a1a1}Send a private message:\n\n", "Send", "Cancel");
		}
		return 1;
	}

	// DIALOG_MONTAR_CARRO2
	if(dialogid == DIALOG_MONTAR_CARRO2)
	{
		RemovePlayerFromVehicle(playerid);
		return 1;
	}

	// DIALOG_MONTAR_CARRO
	if(dialogid == DIALOG_MONTAR_CARRO)
	{
		new i = GetPVarInt(playerid, "carro_ferro_velho");
		if(!response)
		{
			if(IsPlayerInAnyVehicle(playerid))
			{
				RemovePlayerFromVehicle(playerid);
			}
			return 1;
		}

		if(sendo_montado(i) != -1)
		{
			ms(playerid, 0, "Someone is currently assembling this vehicle!");
			RemovePlayerFromVehicle(playerid);
			return 1;
		}

		if(!tem_item(playerid, 87))
		{
			dialog_montar_carro(playerid, i);
			ms(playerid, 0, "You don't have a toolbox in your inventory!");
			return 1;
		}

		if(Carros[i][fv_Existe] == 1)
		{
			if(listitem == 0)
			{
				if(Carros[i][fv_Motor] == 1)
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has a working Engine!");
					return 1;
				}

				if(!tem_item(playerid, 89))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have a Good Engine in your inventory!");
					return 1;
				}

				diminuir_ingrediente(playerid, 89, 1);
				Carros[i][fv_Motor] = 1;
				ms(playerid, 1, "You installed a Good Engine in this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}

			if(listitem == 1)
			{
				if(Carros[i][fv_Bateria] == 1)
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has a Charged Battery!");
					return 1;
				}

				if(!tem_item(playerid, 83))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have a Charged Battery in your inventory!");
					return 1;
				}

				diminuir_ingrediente(playerid, 83, 1);
				Carros[i][fv_Bateria] = 1;
				ms(playerid, 1, "You installed a Charged Battery in this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}

			if(listitem == 2)
			{
				if(Carros[i][fv_Pneus] >= Carros[i][fv_Pneus2])
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has tires in good condition!");
					return 1;
				}

				if(!tem_item(playerid, 85))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have a Good Tire in your inventory!");
					return 1;
				}

				diminuir_ingrediente(playerid, 85, 1);
				Carros[i][fv_Pneus]++;
				ms(playerid, 1, "You installed a Good Tire on this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}

			if(listitem == 3)
			{
				if(Carros[i][fv_Metais] >= Carros[i][fv_Metais_Precisa])
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has the Necessary Metals!");
					return 1;
				}

				if(Metais[playerid] < (Carros[i][fv_Metais_Precisa] - Carros[i][fv_Metais]))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have enough Metals!");
					return 1;
				}

				Metais[playerid] -= Carros[i][fv_Metais_Precisa] - Carros[i][fv_Metais];
				Carros[i][fv_Metais] = Carros[i][fv_Metais_Precisa];
				ms(playerid, 1, "You installed the necessary Metals on this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}

			if(listitem == 4)
			{
				if(Carros[i][fv_Sucata] >= Carros[i][fv_Sucata_Precisa])
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has the Necessary Scrap!");
					return 1;
				}

				if(!tem_item(playerid, 90, (Carros[i][fv_Sucata_Precisa]-Carros[i][fv_Sucata])))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have enough Scrap in your inventory!");
					return 1;
				}

				diminuir_ingrediente(playerid, 90, (Carros[i][fv_Sucata_Precisa] - Carros[i][fv_Sucata]));
				Carros[i][fv_Sucata] = Carros[i][fv_Sucata_Precisa];
				ms(playerid, 1, "You installed the necessary Scrap on this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}

			if(listitem == 5)
			{
				if(Carros[i][fv_Polvora] >= Carros[i][fv_Polvora_Precisa])
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "This vehicle already has the Necessary Gunpowder!");
					return 1;
				}

				if(Polvoras[playerid] < (Carros[i][fv_Polvora_Precisa] - Carros[i][fv_Polvora]))
				{
					dialog_montar_carro(playerid, i);
					ms(playerid, 0, "You don't have enough Gunpowder!");
					return 1;
				}

				Polvoras[playerid] -= Carros[i][fv_Polvora_Precisa] - Carros[i][fv_Polvora];
				Carros[i][fv_Polvora] = Carros[i][fv_Polvora_Precisa];
				ms(playerid, 1, "You installed the necessary Gunpowder on this vehicle!");
				dialog_montar_carro(playerid, i);
				salvar_carro(i);
				return 1;
			}
		}
		else RemovePlayerFromVehicle(playerid);
		return 1;
	}



	// DIALOG PULAR TUTORIAL //
	if(dialogid == DIALOG_TUTO)
	{
		if(response)
		{
			Modo[playerid] = 3;
			SpawnPlayer(playerid);
		}
		else
		{
			pInfo[playerid][pTutorial] = 1;
			salvarplayer(playerid);
			click_historia(playerid);
		}
		return 1;
	}

	// DIALOG ESCOLER PLATAFORMA //
	if(dialogid == DIALOG_PLATAFORMA)
	{
		if(response)
		{
			SetPlayerColor(playerid, 0xffff00ff);
			Android[playerid] = 1;
			SetPVarInt(playerid, "Android", 1);
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Platform Selected", "\n\n{a1a1a1}You have chosen the {ffff00}ANDROID {a1a1a1}platform. If you chose the wrong platform, you can use {ffffff}/platform {a1a1a1}when you are in the /lobby to correctly set whether you are logged in from PC or Android.\n\n", "Ok", "Close");
			if(Logado[playerid] == 0) TextDrawShowForPlayer(playerid, FundoLobby[9]);
			if(Logado[playerid] == 0) TextDrawShowForPlayer(playerid, FundoLobby[8]);
		}
		else
		{
			SetPlayerColor(playerid, 0x00ffffff);
			Android[playerid] = 0;
			SetPVarInt(playerid, "Android", 0);
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Platform Selected", "\n\n{a1a1a1}You have chosen the {00ffff}PC {a1a1a1}platform. If you chose the wrong platform, you can use {ffffff}/platform {a1a1a1}when you are in the /lobby to correctly set whether you are logged in from PC or Android.\n\n", "Ok", "Close");
			if(Logado[playerid] == 0) TextDrawShowForPlayer(playerid, FundoLobby[9]);
			if(Logado[playerid] == 0) TextDrawShowForPlayer(playerid, FundoLobby[8]);
		}
		return 1;
	}

	// TELEPORTES ADMINS //
	if(dialogid == DIALOG_TELEPORTES)
	{
		if(response)
		{
			format(string_prox, 300, " Admin %s has teleported to '%s' ", Nome(playerid), Teleportes[listitem][tele_Nome]);
			ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
			SetPlayerPos(playerid, Teleportes[listitem][tele_X], Teleportes[listitem][tele_Y], Teleportes[listitem][tele_Z]);
			SetPlayerVirtualWorld(playerid, Teleportes[listitem][tele_Mundo]);
			SetPlayerInterior(playerid, Teleportes[listitem][tele_Interior]);
			OnPlayerInteriorChange(playerid, GetPlayerInterior(playerid), 999);
		}
		return 1;
	}

	// LISTA DE ADMINISTRADORES //adm_Role
	if(dialogid == DIALOG_LISTA_ADMIN5)
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "admin");
			format(str, 150, "You have cleared '%s's spot from the Administrators list.", Admin[i][adm_Nome]);
			destruir_admin(Admin[i][adm_Nome]);
			ms(playerid, 4, str);
			mostrar_admins(playerid);
			format(str, 150, "Admin '%s' cleared '%s's spot from the Administrators list.", Nome(playerid), Admin[i][adm_Nome]);
			escrever_log_admin(str);
		}
		else OnDialogResponse(playerid, DIALOG_LISTA_ADMIN2, 1, -1, "");
		return 1;
	}

	// DIALOG SETAR ADMIN //
	if(dialogid == DIALOG_LISTA_ADMIN4)
	{
		new i = GetPVarInt(playerid, "admin");
		new ii = GetPVarInt(playerid, "opcao");
		if(response)
		{
			if(ii == 0)
			{
				new numero = strval(inputtext);
				if(!IsNumeric(inputtext))
				{
					OnDialogResponse(playerid, DIALOG_LISTA_ADMIN3, 1, ii, "");
					ms(playerid, 0, "Please use numbers only!");
					return 1;
				}

				if(AdminPlayer(playerid) < 10 && !Comparar(Nome(playerid), "Scripter"))
				{
					if(numero < 1 || numero > 8)
					{
						OnDialogResponse(playerid, DIALOG_LISTA_ADMIN3, 1, ii, "");
						ms(playerid, 0, "Please use a Level from 1 to 8!");
						return 1;
					}
				}

				if(numero < 1 || numero > 10)
				{
					OnDialogResponse(playerid, DIALOG_LISTA_ADMIN3, 1, ii, "");
					ms(playerid, 0, "Please use a Level from 1 to 10!");
					return 1;
				}

				Admin[i][adm_Level] = numero;
				format(str, 150, "You set Admin Level of '%s' to %d.", Admin[i][adm_Nome], Admin[i][adm_Level]);
				ms(playerid, 4, str);
				OnDialogResponse(playerid, DIALOG_LISTA_ADMIN2, 1, -1, "");
				format(str, 150, "Admin '%s' set '%s' as level %d.", Nome(playerid), Admin[i][adm_Nome], Admin[i][adm_Level]);
				escrever_log_admin(str);
				salvar_admin(i);
			}

			if(ii == 1)
			{
				if(strlen(inputtext) <= 2)
				{
					OnDialogResponse(playerid, DIALOG_LISTA_ADMIN3, 1, ii, "");
					ms(playerid, 0, "Function name too short, please try again!");
					return 1;
				}

				format(Admin[i][adm_Funcao], 40, inputtext);
				format(str, 150, "You set Admin Role of '%s' to '%s'.", Admin[i][adm_Nome], Admin[i][adm_Funcao]);
				ms(playerid, 4, str);
				OnDialogResponse(playerid, DIALOG_LISTA_ADMIN2, 1, -1, "");
				format(str, 150, "Admin '%s' set '%s' with role %s.", Nome(playerid), Admin[i][adm_Nome], Admin[i][adm_Funcao]);
				escrever_log_admin(str);
				salvar_admin(i);
			}

			if(ii == 2)
			{
				if(strlen(inputtext) <= 2)
				{
					OnDialogResponse(playerid, DIALOG_LISTA_ADMIN3, 1, ii, "");
					ms(playerid, 0, "Player name too short, please try again!");
					return 1;
				}

				format(Admin[i][adm_Responssavel], 40, inputtext);
				format(str, 150, "You set '%s' as responsible for Admin '%s'.", Admin[i][adm_Responssavel], Admin[i][adm_Nome]);
				ms(playerid, 4, str);
				OnDialogResponse(playerid, DIALOG_LISTA_ADMIN2, 1, -1, "");
				format(str, 150, "Admin '%s' set '%s' as responsible for '%s'.", Nome(playerid), Admin[i][adm_Responssavel], Admin[i][adm_Nome]);
				escrever_log_admin(str);
				salvar_admin(i);
			}
		}
		else OnDialogResponse(playerid, DIALOG_LISTA_ADMIN2, 1, -1, "");
		return 1;
	}

	if(dialogid == DIALOG_LISTA_ADMIN3)
	{
		new ii = GetPVarInt(playerid, "listitem");
		if(response)
		{
			if(listitem == 0)
			{
				SetPVarInt(playerid, "opcao", 0);
				ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN4, DIALOG_STYLE_INPUT, "Admin Level", "\n\n{ffffff}Enter the new Level from {00ffff}1 {ffffff}to {00ffff}10 {ffffff}for this {ffff00}Administrator{ffffff}:\n\n", "Set", "Back");
			}
			if(listitem == 1)
			{
				SetPVarInt(playerid, "opcao", 1);
				ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN4, DIALOG_STYLE_INPUT, "Admin Role", "\n\n{ffffff}Define the new Role for this {ffff00}Administrator{ffffff}:\n\n", "Set", "Back");
			}
			if(listitem == 2)
			{
				SetPVarInt(playerid, "opcao", 2);
				ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN4, DIALOG_STYLE_INPUT, "Admin Responsible", "\n\n{ffffff}Define the New Responsible person for this {ffff00}Administrator{ffffff}:\n\n", "Set", "Back");
			}
			if(listitem == 3)
			{
				ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN5, DIALOG_STYLE_MSGBOX, "Clear Admin Slot", "\n\n{ffffff}Do you really want to {ff0000}Clear the Slot{ffffff} for this Administrator?\n\n", "Clear", "Back");
			}
		}
		else OnDialogResponse(playerid, DIALOG_LISTA_ADMIN, 1, ii, "");
		return 1;
	}

	if(dialogid == DIALOG_LISTA_ADMIN2)
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "admin");
			new ii = GetPVarInt(playerid, "listitem");
			if(AdminPlayer(playerid) >= 6)
			{
				new ida = AdminID(playerid);
				if(Admin[i][adm_Level] > Admin[ida][adm_Level])
				{
					ms(playerid, 0, "You cannot modify a superior Admin!");
					OnDialogResponse(playerid, DIALOG_LISTA_ADMIN, 1, ii, "");
					return 1;
				}

				String_Gigante[0] = EOS;
				format(str, 150, "{ffffff}Level\t{a1a1a1}%d\n", Admin[i][adm_Level]);
				strcat(String_Gigante, str);
				format(str, 150, "{ffffff}Role\t{a1a1a1}%s\n", Admin[i][adm_Funcao]);
				strcat(String_Gigante, str);
				format(str, 150, "{ffffff}Responsible\t{a1a1a1}%s\n", Admin[i][adm_Responssavel]);
				strcat(String_Gigante, str);
				strcat(String_Gigante, "{ff0000}Clear Slot\t{000000}_\n");
				ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN3, DIALOG_STYLE_TABLIST, Admin[i][adm_Nome], String_Gigante, "Continue", "Back");
			}
			else
			{
				ms(playerid, 0, "You need to be Admin Level 6 to use modification options!");
				OnDialogResponse(playerid, DIALOG_LISTA_ADMIN, 1, ii, "");
			}
		}
		else mostrar_admins(playerid);
		return 1;
	}

	if(dialogid == DIALOG_LISTA_ADMIN)
	{
		if(response)
		{
			String_Gigante[0] = EOS;
			new i = ListaAdmin[playerid][listitem];
			SetPVarInt(playerid, "admin", i);
			SetPVarInt(playerid, "listitem", listitem);
			format(String_Gigante, sizeof String_Gigante, "\n\
	{ffffff}Name: {ffff00}%s\n\
	{ffffff}Level: {a1a1a1}%d\n\
	{ffffff}Role: {00ffff}%s\n\
	{ffffff}Responsible: {a1a1a1}%s\n\
	{ffffff}Notes: {a1a1a1}%d\n\
	{ffffff}Supports: {a1a1a1}%d\n\n\
	{ffffff}Date: {a1a1a1}%02d/%02d/%02d\n\
	{ffffff}Time: {a1a1a1}%02d:%02d:%02d\n\n", Admin[i][adm_Nome], Admin[i][adm_Level], Admin[i][adm_Funcao], Admin[i][adm_Responssavel], Admin[i][adm_Nota], Admin[i][adm_Atendimentos], Admin[i][adm_Dia], Admin[i][adm_Mes], Admin[i][adm_Ano], Admin[i][adm_Hora], Admin[i][adm_Minuto], Admin[i][adm_Segundo]);
			ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN2, DIALOG_STYLE_MSGBOX, "Information", String_Gigante, "Continue", "Back");
		}
		return 1;
	}

	// dialog dos logs admins //
	if(dialogid == DIALOG_LOGS2)
	{
		cmd_logs(playerid, #);
		return 1;
	}

	if(dialogid == DIALOG_LOGS)
	{
		if(response)
		{
			if(listitem == 0)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}BAN LOG {ffffff}]", ler_log_ban(), "Ok", "Back");
			}
			if(listitem == 1)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}KICK LOG {ffffff}]", ler_log_kick(), "Ok", "Back");
			}
			if(listitem == 2)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}GMX LOG {ffffff}]", ler_log_gmx(), "Ok", "Back");
			}
			if(listitem == 3)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}ADMINS {ffffff}]", ler_log_admin(), "Ok", "Back");
			}
			if(listitem == 4)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}PUNISHMENTS {ffffff}]", ler_log_punicao(), "Ok", "Back");
			}
			if(listitem == 5)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}CASH {ffffff}]", ler_log_cash(), "Ok", "Back");
			}
			if(listitem == 6)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}NICK CHANGE {ffffff}]", ler_log_nick(), "Ok", "Back");
			}
			if(listitem == 7)
			{
				ShowPlayerDialog_(playerid, DIALOG_LOGS2, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}CONNECTED PLAYERS {ffffff}]", ler_log_conecoes(), "Ok", "Back");
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_BASE16)
	{
		new i = BasePlayer(playerid);
		MenuBase(playerid, i);
		return 1;
	}


	//    MATERIALS CHEST    //
	if(dialogid == DIALOG_BAU3)
	{
		if(Modo[playerid] != 1) return 1;
		new i = GetPVarInt(playerid, "bau");
		if(!response) return mostrar_bau(playerid, i, GetPVarInt(playerid, "opcao"));
		new numero = strval(inputtext);

		if(!IsNumeric(inputtext))
		{
			ms(playerid, 0, "Please enter numbers only!");
			mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
			return 1;
		}

		if(numero < 1 || numero > 50000)
		{
			ms(playerid, 0, "Use a value from 1 to 50,000!");
			mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
			return 1;
		}

		if(GetPVarInt(playerid, "opcao2") == 0) // store //
		{
			if(GetPVarInt(playerid, "opcao") == 0) // wood
			{
				if(Madeiras[playerid] < numero)
				{
					format(str, 150, "You don't have %s Wood!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Madeiras[playerid] -= numero;
				Bau[i][bau_Madeira] += numero;
				salvar_bau(i);
				format(str, 150, "You stored %s Wood in the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' stored %s Wood in the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 1) // metals
			{
				if(Metais[playerid] < numero)
				{
					format(str, 150, "You don't have %s Metals!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Metais[playerid] -= numero;
				Bau[i][bau_Metal] += numero;
				salvar_bau(i);
				format(str, 150, "You stored %s Metals in the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' stored %s Metals in the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 2) // stones
			{
				if(Pedras[playerid] < numero)
				{
					format(str, 150, "You don't have %s Stones!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Pedras[playerid] -= numero;
				Bau[i][bau_Pedra] += numero;
				salvar_bau(i);
				format(str, 150, "You stored %s Stones in the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' stored %s Stones in the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 3) // gunpowders
			{
				if(Polvoras[playerid] < numero)
				{
					format(str, 150, "You don't have %s Gunpowder!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Polvoras[playerid] -= numero;
				Bau[i][bau_Polvora] += numero;
				salvar_bau(i);
				format(str, 150, "You stored %s Gunpowder in the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' stored %s Gunpowder in the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 4) // scraps
			{
				if(!tem_item(playerid, 90, numero))
				{
					format(str, 150, "You don't have %s Scraps in your Inventory!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				diminuir_ingrediente(playerid, 90, numero);
				Bau[i][bau_Sucata] += numero;
				salvar_bau(i);
				format(str, 150, "You stored %s Scraps in the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' stored %s Scraps in the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
		}

		if(GetPVarInt(playerid, "opcao2") == 1) // take //
		{
			if(GetPVarInt(playerid, "opcao") == 0) // wood
			{
				if(Bau[i][bau_Madeira] < numero)
				{
					format(str, 150, "This Materials Chest does not have %s Wood!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Madeiras[playerid] += numero;
				Bau[i][bau_Madeira] -= numero;
				salvar_bau(i);
				format(str, 150, "You took %s Gunpowder from the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' took %s Wood from the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 1) // metals
			{
				if(Bau[i][bau_Metal] < numero)
				{
					format(str, 150, "This Materials Chest does not have %s Metals!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Metais[playerid] += numero;
				Bau[i][bau_Metal] -= numero;
				salvar_bau(i);
				format(str, 150, "You took %s Metals from the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' took %s Metals from the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 2) // stones
			{
				if(Bau[i][bau_Pedra] < numero)
				{
					format(str, 150, "This Materials Chest does not have %s Stones!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Pedras[playerid] += numero;
				Bau[i][bau_Pedra] -= numero;
				salvar_bau(i);
				format(str, 150, "You took %s Stones from the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' took %s Stones from the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 3) // gunpowders
			{
				if(Bau[i][bau_Polvora] < numero)
				{
					format(str, 150, "This Materials Chest does not have %s Gunpowder!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}
				Polvoras[playerid] += numero;
				Bau[i][bau_Polvora] -= numero;
				salvar_bau(i);
				format(str, 150, "You took %s Gunpowder from the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' took %s Gunpowder from the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
			}
			if(GetPVarInt(playerid, "opcao") == 4) // scraps
			{
				if(Bau[i][bau_Sucata] < numero)
				{
					format(str, 150, "This Materials Chest does not have %s Scraps!", ConvertMoney(numero));
					ms(playerid, 0, str);
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}

				if(SlotsVazios(playerid) == 0)
				{
					ms(playerid, 0, "Your Inventory is Full!");
					mostrar_bau(playerid, i, 999, GetPVarInt(playerid, "opcao2"));
					return 1;
				}

				AddInv(playerid, 90, numero);
				Bau[i][bau_Sucata] -= numero;
				salvar_bau(i);
				salvarinv(playerid);
				format(str, 150, "You took %s Scraps from the Base Materials Chest.", ConvertMoney(numero));
				ms(playerid, 1, str);
				mostrar_bau(playerid, i);
				format(str, 150, "Player '%s' took %s Scraps from the Materials Chest.", Nome(playerid), ConvertMoney(numero));
				escrever_log_base(Bau[i][bau_Base], str);
				return 1;
			}
		}
		return 1;
	}


	//    MATERIALS CHEST    //
	if(dialogid == DIALOG_BAU2)
	{
		if(Modo[playerid] != 1) return 1;
		new i = GetPVarInt(playerid, "bau");
		if(!response) return mostrar_bau(playerid, i);
		mostrar_bau(playerid, i, 999, listitem);
		return 1;
	}


	//    MATERIALS CHEST    //
	if(dialogid == DIALOG_BAU)
	{
		if(Modo[playerid] != 1) return 1;
		if(response)
		{
			new i = GetPVarInt(playerid, "bau");
			if(Bau[i][bau_Existe] == 1)
			{
				if(listitem == 0)
				{
					SetPVarInt(playerid, "opcao", 0);
					mostrar_bau(playerid, i, 0);
				}
				if(listitem == 1)
				{
					SetPVarInt(playerid, "opcao", 1);
					mostrar_bau(playerid, i, 1);
				}
				if(listitem == 2)
				{
					SetPVarInt(playerid, "opcao", 2);
					mostrar_bau(playerid, i, 2);
				}
				if(listitem == 3)
				{
					SetPVarInt(playerid, "opcao", 3);
					mostrar_bau(playerid, i, 3);
				}
				if(listitem == 4)
				{
					SetPVarInt(playerid, "opcao", 4);
					mostrar_bau(playerid, i, 4);
				}
				if(listitem == 5)
				{
					if(DonoBase(playerid) != Bau[i][bau_Base] && SubBase(playerid) != Bau[i][bau_Base])
					{
						ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
						mostrar_bau(playerid, i);
						return 1;
					}
					EditDynamicObject2(playerid, Bau[i][bau_Obj], 0);
					ms(playerid, 3, "Move the chest to the desired position to save.");
				}
			}
		}
		return 1;
	}

	//  DIALOG CLIMA  //
	if(dialogid == DIALOG_CLIMA)
	{
		if(response)
		{
			tempo_clima = Clima[listitem][clima_Duracao];
			id_clima_server = Clima[listitem][clima_Clima];
			clima_server = listitem;
			format(str, 150, "Administrator %s has set the Weather to: %s.", Nome(playerid), Clima[listitem][clima_Nome]);
			for(new pla; pla < MAX_PLAYERS; pla++)
			{
				if(Online(pla))
				{
					if(Modo[pla] == 1)
					{
						ms(pla, 4, str);
						SetPlayerWeather(pla, Clima[listitem][clima_Clima]);
					}
				}
			}
		}
		return 1;
	}

	//  EXPLOSIVES  //
	if(dialogid == DIALOG_EXPLOSIVOS)
	{
		if(response)
		{
			new i = lista_explosivos[playerid][listitem];
			if(i == -1)
			{
				ms(playerid, 0, "You don't have a C-4 Explosive installed!");
				explosivos_player(playerid);
				return 1;
			}
			explodir_explosivo(i, playerid);
			explosivos_player(playerid);
		}
		return 1;
	}

	// Hack Vehicles //
	if(dialogid == DIALOG_HACK_PLAYER)
	{
		if(response)
		{
			new i = Players[playerid][listitem];
			if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
			if(i == -1)
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "No player within 150 meters was found!");
				return 1;
			}

			if(hackeando_id[playerid] != -1)
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "You are currently hacking someone!");
				return 1;
			}

			new Float:pos[3];
			GetPlayerPos(i, pos[0], pos[1], pos[2]);
			if(!IsPlayerInRangeOfPoint(playerid, 150, pos[0], pos[1], pos[2]))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Signal lost, unable to hack this player!");
				return 1;
			}

			if(!Online(i))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Signal lost, unable to hack this player!");
				return 1;
			}

			if(GetPlayerInterior(playerid) != GetPlayerInterior(i))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Signal lost, unable to hack this player!");
				return 1;
			}

			if(Modo[i] != 1)
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "This player is no longer in Story Mode!");
				return 1;
			}

			SetPVarInt(playerid, "id_player", i);
			Acao(playerid, 21, 150, "HACKING PLAYER", 1, "COP_AMBIENT",  "COPBROWSE_LOOP", 1);
			SetPVarInt(playerid, "flood_hackear", gettime() + (10*60));
		}
		return 1;
	}

	// Hack Vehicles //
	if(dialogid == DIALOG_HACK_VEICULO)
	{
		if(response)
		{
			new i = LISTA[playerid][listitem];
			if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
			if(i == -1)
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "No vehicle found within 30 meters!");
				return 1;
			}

			if(GetVehicleModel(i) == 0)
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "System error, please try again!");
				return 1;
			}

			new idv = Info_Veiculo[i];
			if(idv == -1)
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "System error, please try again!");
				return 1;
			}

			new Float:pp[3];
			GetVehiclePos(i, pp[0], pp[1], pp[2]);
			if(!IsPlayerInRangeOfPoint(playerid, 30, pp[0], pp[1], pp[2]))
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "Vehicle signal lost, vehicle is more than 30 meters away!");
				return 1;
			}

			SetPVarInt(playerid, "id_veiculo", i);
			Acao(playerid, 20, 300, "HACKING VEHICLE", 1, "COP_AMBIENT",  "COPBROWSE_LOOP", 1);
			SetPVarInt(playerid, "flood_hackear", gettime() + (10*60));
		}
		return 1;
	}

	// Hack Gate //
	if(dialogid == DIALOG_HACK_PORTAO)
	{
		if(response)
		{
			new i = Lista_Portao[playerid][listitem];
			if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
			if(i == -1)
			{
				abrir_laptop(playerid, 3);
				ms(playerid, 0, "No gate found within 50 meters!");
				return 1;
			}

			if(Portao[i][portao_Existe] == 0)
			{
				abrir_laptop(playerid, 3);
				ms(playerid, 0, "This gate no longer exists!");
				return 1;
			}

			if(Portao[i][portao_Aberto] == 1)
			{
				abrir_laptop(playerid, 3);
				ms(playerid, 0, "This gate is already open!");
				return 1;
			}

			SetPVarInt(playerid, "id_portao", i);
			Acao(playerid, 19, 150, "HACKING GATE", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
			SetPVarInt(playerid, "flood_hackear", gettime() + (10*60));
		}
		return 1;
	}

	// Choose Gender //
	if(dialogid == DIALOG_CONFIRMAR)
	{
		if(response)
		{
			criarconta(playerid, senhaplayer[playerid], GetPVarInt(playerid, "sexo"));
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Database", "\n{00ff00}INFO: {ffffff}Account created successfully!\n\n{a1a1a1}Now use your {ffff00}PASSWORD {a1a1a1}to enter the Server.", "Ok", "Close");
		}
		else ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{00ff00}INFO: {a1a1a1}You canceled, the account was not created.", "Ok", "Close");
		return 1;
	}

	// Choose Gender //
	if(dialogid == DIALOG_SEXO)
	{
		if(response)
		{
			SetPVarInt(playerid, "sexo", 0);
			ShowPlayerDialog_(playerid, DIALOG_CONFIRMAR, DIALOG_STYLE_MSGBOX, "{000000}_", "\n{40E0D0}MALE\n\n{ffffff}Please confirm your Gender\nor cancel account creation:\n\n\n", "Confirm", "Cancel");
		}
		else
		{
			SetPVarInt(playerid, "sexo", 1);
			ShowPlayerDialog_(playerid, DIALOG_CONFIRMAR, DIALOG_STYLE_MSGBOX, "{000000}_", "\n{EE82EE}FEMALE\n\n{ffffff}Please confirm your Gender\nor cancel account creation:\n\n\n", "Confirm", "Cancel");
		}
		return 1;
	}

	// Class Skin //
	if(dialogid == DIALOG_SKIN_CLASSE)
	{
		if(response)
		{
			for(new i; i < MAX_LOBBY; i++)
			{
				if(Inventario_Lobby[playerid][i][inv_ID] == 0)
				{
					Inventario_Lobby[playerid][i][inv_ID] = 99;
					Inventario_Lobby[playerid][i][inv_Unidades] = 1;
					Inventario_Lobby[playerid][i][inv_Tipo] = pInfo[playerid][pSkin];
					Inventario_Lobby[playerid][i][inv_Visto] = 1;
					ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{00ff00}[INFO] {ffffff}You used the Class Skin, and your old Skin has been added to your Lobby Inventory!", "Ok", "Close");
					if(pInfo[playerid][pSexo] == 0) SetarSkin(playerid, Classes[id_classe[playerid]][classe_SkinH]);
					if(pInfo[playerid][pSexo] == 1) SetarSkin(playerid, Classes[id_classe[playerid]][classe_SkinM]);
					salvarplayer(playerid);
					return 1;
				}
			}
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{FFFF00}[WARNING] {ffffff}Your Lobby Inventory is full, could not use the Skin!", "Ok", "Close");
		}
		else ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{00ff00}[INFO] {ffffff}You decided not to use the Class Skin.", "Ok", "Close");
		return 1;
	}

	// Radio //
	if(dialogid == DIALOG_RADIO3)
	{
		if(response)
		{
			if(!IsNumeric(inputtext))
			{
				ms(playerid, 0, "Please enter numbers only!");
				OnDialogResponse(playerid, DIALOG_RADIO2, 1, GetPVarInt(playerid, "cont"), "");
				return 1;
			}

			if(strval(inputtext) == playerid)
			{
				ms(playerid, 0, "You cannot add yourself to your contacts!");
				OnDialogResponse(playerid, DIALOG_RADIO2, 1, GetPVarInt(playerid, "cont"), "");
				return 1;
			}

			if(!Online(strval(inputtext)))
			{
				ms(playerid, 0, "This player is not Online!");
				OnDialogResponse(playerid, DIALOG_RADIO2, 1, GetPVarInt(playerid, "cont"), "");
				return 1;
			}

			if(Modo[strval(inputtext)] != 1)
			{
				ms(playerid, 0, "This player is not in Story Mode!");
				OnDialogResponse(playerid, DIALOG_RADIO2, 1, GetPVarInt(playerid, "cont"), "");
				return 1;
			}

			for(new c; c < MAX_CONTATOS; c++)
			{
				if(Comparar(Nome(strval(inputtext)), Contatos[playerid][c]))
				{
					ms(playerid, 0, "This player is already in your contacts list!");
					OnDialogResponse(playerid, DIALOG_RADIO2, 1, GetPVarInt(playerid, "cont"), "");
					return 1;
				}
			}

			new cc = GetPVarInt(playerid, "contato");
			format(Contatos[playerid][cc], MAX_PLAYER_NAME, Nome(strval(inputtext)));
			format(str, 150, "You added '%s' to your contacts list.", Nome(strval(inputtext)));
			ms(playerid, 1, str);
			mostrar_radio(playerid, 1);
		}
		else mostrar_radio(playerid, 1);
		return 1;
	}

	if(dialogid == DIALOG_RADIO2)
	{
		if(response)
		{
			new i = Players[playerid][listitem];
			new cont = GetPVarInt(playerid, "cont");

			if(listitem == cont)
			{
				// add contact //
				for(new c; c < MAX_CONTATOS; c++)
				{
					if(Comparar(Nome(-1), Contatos[playerid][c]))
					{
						SetPVarInt(playerid, "contato", c);
						ShowPlayerDialog_(playerid, DIALOG_RADIO3, DIALOG_STYLE_INPUT, "Add Contact", "\n\n{ffffff}Type the {ffff00}ID {ffffff}of the Player:\n\n", "Add", "Cancel");
						return 1;
					}
				}
				ms(playerid, 0, "Contacts list is full!");
				mostrar_radio(playerid, 1);
			}
			else
			{
				if(i == -1)
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "Contacts list is empty!");
					return 1;
				}

				if(chamando[playerid] != -1)
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "You are already making a call, please wait for the response!");
					return 1;
				}

				if(Canal_Player[playerid] != -1 || Canal_Base_Player[playerid] != -1 )
				{
					ms(playerid, 0, "You need to leave the radio channel you are connected to!");
					mostrar_radio(playerid, 1);
					return 1;
				}

				if(!IsPlayerOnline(Contatos[playerid][listitem]))
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "This contact is not Online!");
					return 1;
				}

				if(Modo[GetPlayerID(Contatos[playerid][listitem])] != 1)
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "This contact is not in Story Mode!");
					return 1;
				}

				new id = GetPlayerID(Contatos[playerid][listitem]);

				if(lstream[id] == SV_NULL)
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "The VOIP of this player was not found!");
					return 1;
				}

				if(Canal_Player[id] != -1 || Canal_Base_Player[id] != -1 )
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "This contact is already in a channel at the moment!");
					return 1;
				}

				if(!tem_item(id, 100))
				{
					mostrar_radio(playerid, 1);
					ms(playerid, 0, "This player does not have a Radio Communicator!");
					return 1;
				}

				for(new re; re < MAX_PLAYERS; re++)
				{
					if(Online(re))
					{
						if(chamando[re] == id)
						{
							mostrar_radio(playerid, 1);
							ms(playerid, 0, "This contact is already receiving a call, try again later!");
							return 1;
						}
					}
				}

				chamando[playerid] = id;
				tempo_chamando[playerid] = 20;
				KillTimer_(timer_chamando[playerid]);
				timer_chamando[playerid] = SetTimerEx("chamando_player", 1000, 1, "dd", playerid, id);
				ms(playerid, 3, "Call started, wait 20 seconds for a response...");
				ms(id, 3, "You are receiving a call on the radio, 20 seconds to answer...");
			}
		}
		else mostrar_radio(playerid);
		return 1;
	}

	if(dialogid == DIALOG_RADIO)
	{
		if(response)
		{
			if(listitem < sizeof Radios)
			{
				if(Canal_Privado[playerid] != -1)
				{
					mostrar_radio(playerid);
					ms(playerid, 0, "You are in a private call, you must disconnect from it first!");
					return 1;
				}

				if(Canal_Player[playerid] == listitem)
				{
					mostrar_radio(playerid);
					ms(playerid, 0, "You are already connected to this Radio channel!");
					return 1;
				}

				if(GetPlayerInterior(playerid) == 0 && GetPlayerVirtualWorld(playerid) == 0)
				{
					if(!IsPlayerInRangeOfPoint(playerid, Radios[listitem][r_R], Radios[listitem][r_X], Radios[listitem][r_Y], Radios[listitem][r_Z]))
					{
						mostrar_radio(playerid);
						ms(playerid, 0, "You are not in range of this channel!");
						return 1;
					}
				}

				if(Canal_Base_Player[playerid] != -1)
				{
					new c = Canal_Base_Player[playerid];
					Canal_Base_Player[playerid] = -1;
					if(CanalBase[c] != SV_NULL) SvDeleteStream(CanalBase[c]);
					format(str, 150, "Base %d", c);
					CanalBase[c] = SvCreateGStream(0xffff00ff, str);
					format(str, 300, "Player '%s' left the Base Radio Channel!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++)
					{
						if(!Online(i)) continue;
						if(i == playerid) continue;
						if(Modo[i] != 1) continue;
						if(Canal_Base_Player[i] != c) continue;
						SvAttachListenerToStream(CanalBase[c], i);
						ms(i, 4, str);
						if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
					}
					format(str, 150, "You left the Base radio channel.");
					ms(playerid, 1, str);
				}

				if(Canal_Player[playerid] != -1)
				{
					new c = Canal_Player[playerid];
					Canal_Player[playerid] = -1;
					if(Radios[c][r_Canal] != SV_NULL) SvDeleteStream(Radios[c][r_Canal]);
					Radios[c][r_Canal] = SvCreateGStream(0xffff00ff, Radios[c][r_Nome]);
					format(str, 300, "Player '%s' left the Radio Channel!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++)
					{
						if(!Online(i)) continue;
						if(i == playerid) continue;
						if(Modo[i] != 1) continue;
						if(Canal_Player[i] != c) continue;
						SvAttachListenerToStream(Radios[c][r_Canal], i);
						ms(i, 4, str);
						if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
					}
					format(str, 150, "You left the Channel '%s'.", Radios[c][r_Nome]);
					ms(playerid, 1, str);
				}

				format(str, 150, "Player '%s' joined the radio channel '%s'.", Nome(playerid), Radios[listitem][r_Nome]);
				for(new ia; ia < MAX_PLAYERS; ia++) 
					if(Online(ia)) 
						if(Canal_Player[ia] == listitem) ms(ia, 4, str);

				Canal_Player[playerid] = listitem;
				SvAttachListenerToStream(Radios[listitem][r_Canal], playerid);
				if(falando[playerid] == 1 && lstream[playerid] != SV_NULL) OnPlayerActivationKeyPress(playerid, 0x42);
				ms(playerid, 1, "You have connected to this Radio channel.");
				ms(playerid, 2, "To leave, use /radio and turn off the radio.");
				return 1;
			}

			if(listitem == sizeof Radios)
			{
				new b = BasePlayer(playerid);
				if(b == -1)
				{
					ms(playerid, 0, "You are not part of a Base!");
					mostrar_radio(playerid);
					return 1;
				}

				if(Canal_Privado[playerid] != -1)
				{
					mostrar_radio(playerid);
					ms(playerid, 0, "You are in a private call, you must disconnect from it first!");
					return 1;
				}

				if(Canal_Base_Player[playerid] == b)
				{
					ms(playerid, 0, "You are already in the Base radio channel!");
					mostrar_radio(playerid);
					return 1;
				}

				if(Canal_Player[playerid] != -1)
				{
					new c = Canal_Player[playerid];
					Canal_Player[playerid] = -1;
					if(Radios[c][r_Canal] != SV_NULL) SvDeleteStream(Radios[c][r_Canal]);
					Radios[c][r_Canal] = SvCreateGStream(0xffff00ff, Radios[c][r_Nome]);
					format(str, 300, "Player '%s' left the Radio Channel!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++)
					{
						if(!Online(i)) continue;
						if(i == playerid) continue;
						if(Modo[i] != 1) continue;
						if(Canal_Player[i] != c) continue;
						SvAttachListenerToStream(Radios[c][r_Canal], i);
						ms(i, 4, str);
						if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
					}
				}

				format(str, 150, "Player '%s' joined the Base Radio channel.", Nome(playerid));
				for(new ia; ia < MAX_PLAYERS; ia++) 
					if(Online(ia)) 
						if(Canal_Base_Player[ia] == b) ms(ia, 4, str);

				Canal_Base_Player[playerid] = b;
				SvAttachListenerToStream(CanalBase[b], playerid);
				if(falando[playerid] == 1 && lstream[playerid] != SV_NULL) OnPlayerActivationKeyPress(playerid, 0x42);
				ms(playerid, 1, "You have connected to the Base Radio channel.");
				ms(playerid, 2, "To leave, use /radio and turn off the radio.");
				return 1;
			}

			if(listitem == sizeof Radios + 1) 
				return mostrar_radio(playerid, 1);

			if(listitem == sizeof Radios + 2)
			{
				if(Canal_Player[playerid] != -1)
				{
					new c = Canal_Player[playerid];
					Canal_Player[playerid] = -1;
					if(Radios[c][r_Canal] != SV_NULL) SvDeleteStream(Radios[c][r_Canal]);
					Radios[c][r_Canal] = SvCreateGStream(0xffff00ff, Radios[c][r_Nome]);
					format(str, 300, "Player '%s' left the Radio Channel!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++)
					{
						if(!Online(i)) continue;
						if(i == playerid) continue;
						if(Modo[i] != 1) continue;
						if(Canal_Player[i] != c) continue;
						SvAttachListenerToStream(Radios[c][r_Canal], i);
						ms(i, 4, str);
						if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
					}
					format(str, 150, "You left the Channel '%s'.", Radios[c][r_Nome]);
					ms(playerid, 1, str);
				}

				if(Canal_Base_Player[playerid] != -1)
				{
					new c = Canal_Base_Player[playerid];
					Canal_Base_Player[playerid] = -1;
					if(CanalBase[c] != SV_NULL) SvDeleteStream(CanalBase[c]);
					format(str, 150, "Base %d", c);
					CanalBase[c] = SvCreateGStream(0xffff00ff, str);
					format(str, 300, "Player '%s' left the Base Radio Channel!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++)
					{
						if(!Online(i)) continue;
						if(i == playerid) continue;
						if(Modo[i] != 1) continue;
						if(Canal_Base_Player[i] != c) continue;
						SvAttachListenerToStream(CanalBase[c], i);
						ms(i, 4, str);
						if(falando[i] == 1 && lstream[i] != SV_NULL) OnPlayerActivationKeyPress(i, 0x42);
					}
					format(str, 150, "You left the Base radio channel.");
					ms(playerid, 1, str);
				}

				if(Canal_Privado[playerid] != -1)
				{
					new c = Canal_Privado[playerid];
					Canal_Privado[playerid] = -1;
					if(CanalPrivado[c] != SV_NULL) SvDeleteStream(CanalPrivado[c]);
					new sdf[100];
					format(sdf, 100, "Private %d", c);
					CanalPrivado[c] = SvCreateGStream(0xffff00ff, sdf);
					format(str, 300, "Player '%s' left the Radio call!", Nome(playerid));
					for(new i; i < MAX_PLAYERS; i++) 
						if(Online(i)) 
							if(Canal_Privado[i] == c) ms(i, 4, str), Canal_Privado[i] = -1;
					ms(playerid, 1, "You left the Radio call.");
				}

				return 1;
			}
		}
		return 1;
	}

	
	if(dialogid == DIALOG_DROPAR2)
	{
		if(response)
		{
			if(Modo[playerid] != 1) return 1;
			new i = GetPVarInt(playerid, "drop");

			if(!IsNumeric(inputtext))
			{
				OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
				ms(playerid, 0, "Gunakan hanya angka, coba lagi!");
				return 1;
			}

			new jumlah = strval(inputtext);
			new const maxDrop = 10000; // Batas maksimal untuk barang biasa
			new const maxGrana = 100000; // Batas maksimal untuk uang (grana)

			if(jumlah <= 0 || (i == 4 ? jumlah > maxGrana : jumlah > maxDrop))
			{
				OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
				ms(playerid, 0, "Masukkan jumlah yang valid!");
				return 1;
			}

			new Float:posisi[3];
			GetPlayerPos(playerid, posisi[0], posisi[1], posisi[2]);

			if(i == 0) // Madeiras
			{
				if(jumlah > Madeiras[playerid])
				{
					OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
					ms(playerid, 0, "Kamu tidak punya kayu sebanyak itu !");
					return 1;
				}

				new item = criar_item(96, posisi[0], posisi[1], posisi[2], jumlah, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[96][item_Tipo]);
				if(item == -1) return ms(playerid, 0, "Terjadi kesalahan, coba lagi nanti!");
				Madeiras[playerid] -= jumlah;
				format(str, 150, "Kamu menjatuhkan %s Kayu di tanah.", ConvertMoney(jumlah));
				ms(playerid, 1, str);
			}

			if(i == 1) // Metais
			{
				if(jumlah > Metais[playerid])
				{
					OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
					ms(playerid, 0, "Kamu tidak punya logam sebanyak itu !");
					return 1;
				}

				new item = criar_item(97, posisi[0], posisi[1], posisi[2], jumlah, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[97][item_Tipo]);
				if(item == -1) return ms(playerid, 0, "Terjadi kesalahan, coba lagi nanti!");
				Metais[playerid] -= jumlah;
				format(str, 150, "Kamu menjatuhkan %s Logam di tanah.", ConvertMoney(jumlah));
				ms(playerid, 1, str);
			}

			if(i == 2) // Pedras
			{
				if(jumlah > Pedras[playerid])
				{
					OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
					ms(playerid, 0, "Kamu tidak punya batu sebanyak itu !");
					return 1;
				}

				new item = criar_item(98, posisi[0], posisi[1], posisi[2], jumlah, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[98][item_Tipo]);
				if(item == -1) return ms(playerid, 0, "Terjadi kesalahan, coba lagi nanti!");
				Pedras[playerid] -= jumlah;
				format(str, 150, "Kamu menjatuhkan %s Batu di tanah.", ConvertMoney(jumlah));
				ms(playerid, 1, str);
			}

			if(i == 3) // Plvoras
			{
				if(jumlah > Polvoras[playerid])
				{
					OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
					ms(playerid, 0, "Kamu tidak punya bubuk mesiu sebanyak itu!");
					return 1;
				}

				new item = criar_item(67, posisi[0], posisi[1], posisi[2], jumlah, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[67][item_Tipo]);
				if(item == -1) return ms(playerid, 0, "Terjadi kesalahan, coba lagi nanti!");
				Polvoras[playerid] -= jumlah;
				format(str, 150, "Kamu menjatuhkan %s Bubuk Mesiu di tanah.", ConvertMoney(jumlah));
				ms(playerid, 1, str);
			}

			if(i == 4) // Grana (uang)
			{
				if(jumlah > GranaPlayer(playerid))
				{
					OnDialogResponse(playerid, DIALOG_DROPAR, 1, i, "");
					ms(playerid, 0, "Kamu tidak punya uang sebanyak itu!");
					return 1;
				}

				new item = criar_item(5, posisi[0], posisi[1], posisi[2], jumlah, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[5][item_Tipo]);
				if(item == -1) return ms(playerid, 0, "Terjadi kesalahan, coba lagi nanti!");
				SetarGrana(playerid, GranaPlayer(playerid) - jumlah);
				format(str, 150, "Kamu menjatuhkan uang Rp%s di tanah.", ConvertMoney(jumlah));
				ms(playerid, 1, str);
			}
		}
		else cmd_drop(playerid, #); // Kembali ke dialog sebelumnya
		return 1;
	}

	if(dialogid == DIALOG_DROPAR)
	{
		if(response)
		{
			if(Modo[playerid] != 1) return 1;
			SetPVarInt(playerid, "drop", listitem);

			if(listitem == 0) format(str, 150, "{ffff00}Jatuhkan Kayu {ffffff}[ {a1a1a1}%s {ffffff}]", ConvertMoney(Madeiras[playerid]));
			if(listitem == 1) format(str, 150, "{ffff00}Jatuhkan Logam {ffffff}[ {a1a1a1}%s {ffffff}]", ConvertMoney(Metais[playerid]));
			if(listitem == 2) format(str, 150, "{ffff00}Jatuhkan Batu {ffffff}[ {a1a1a1}%s {ffffff}]", ConvertMoney(Pedras[playerid]));
			if(listitem == 3) format(str, 150, "{ffff00}Jatuhkan Bubuk Mesiu {ffffff}[ {a1a1a1}%s {ffffff}]", ConvertMoney(Polvoras[playerid]));
			if(listitem == 4) format(str, 150, "{ffff00}Jatuhkan Uang {ffffff}[ {a1a1a1}%s {ffffff}]", ConvertMoney(GranaPlayer(playerid)));

			ShowPlayerDialog_(playerid, DIALOG_DROPAR2, DIALOG_STYLE_INPUT, str, "{00ff00}INFO: {ffffff}Masukkan jumlah yang ingin kamu jatuhkan:\n{a1a1a1}Gunakan hanya angka.", "Jatuhkan", "Kembali");
		}
		return 1;
	}

	if(dialogid == DIALOG_RECICLADORA) // recicladora menu //
	{
		new r = GetPVarInt(playerid, "recicladora");
		if(response)
		{
			if(listitem == 0)
			{
				if(RecicladoraPlayer[playerid][re_Reciclando] == 1)
				{
					MostrarRecicladora(playerid, r);
					ms(playerid, 0, "This recicladora is currently recycling some items, please wait and try again!");
					return 1;
				}

				if(items_recicladora(playerid) < 3)
				{
					MostrarRecicladora(playerid, r);
					ms(playerid, 0, "Please place at least 3 items to recycle!");
					return 1;
				}

				KillTimer_(RecicladoraPlayer[playerid][re_Timer]);
				RecicladoraPlayer[playerid][re_Reciclando] = 1;
				RecicladoraPlayer[playerid][re_Tempo] = 30 * items_recicladora(playerid);
				RecicladoraPlayer[playerid][re_Timer] = SetTimerEx("Reciclar", 1000, 1, "d", playerid);
				format(str, 300, "You placed %d items for recycling, finishing in: %s.", items_recicladora(playerid), ConvertTime(RecicladoraPlayer[playerid][re_Tempo]));
				ms(playerid, 1, str);
				salvar_recicladora_player(playerid);
				return 1;
			}

			if(listitem == 1)
			{
				if(RecicladoraPlayer[playerid][re_Reciclando] == 1)
				{
					MostrarRecicladora(playerid, r);
					ms(playerid, 0, "This recicladora is recycling, you cannot withdraw the items!");
					return 1;
				}
				MostrarRecicladora(playerid, r, 1);
				return 1;
			}

			if(listitem == 2)
			{
				if(DonoBase(playerid) != Recicladora[r][re_Base] && SubBase(playerid) != Recicladora[r][re_Base])
				{
					ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
					MostrarRecicladora(playerid, r);
					return 1;
				}
				EditDynamicObject2(playerid, Recicladora[r][re_Obj], 0);
				return 1;
			}

			if(listitem == 3)
			{
				if(DonoBase(playerid) != Recicladora[r][re_Base] && SubBase(playerid) != Recicladora[r][re_Base])
				{
					ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
					MostrarRecicladora(playerid, r);
					return 1;
				}
				format(str, 300, "{ffff00}WARNING: {ffffff}Are you sure you want to {ff0000}Destroy {ffffff}this Recicladora?\nAll items inside will be permanently lost!");
				ShowPlayerDialog_(playerid, DIALOG_RECICLADORA4, DIALOG_STYLE_MSGBOX, "Destroy Recicladora", str, "Yes", "Cancel");
				return 1;
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_RECICLADORA4) // destroy recicladora //
	{
		new i = GetPVarInt(playerid, "recicladora");
		if(!response) return MostrarRecicladora(playerid, i);

		format(str, 150, "Player '%s' destroyed the Recicladora.", Nome(playerid));
		escrever_log_base(Recicladora[i][re_Base], str);

		destruir_recicladora(i);
		if(Localizando[playerid] == 2 && Localizando_ID[playerid] == i) Localizar_Player(playerid, 0.0, 0.0, 0.0, -1);
		ms(playerid, 0, "You destroyed the Recicladora, and all items inside have been deleted.");
		return 1;
	}

	if(dialogid == DIALOG_RECICLADORA2) // recycling process //
	{
		new r = GetPVarInt(playerid, "recicladora");
		if(response)
		{
			if(listitem == 0)
			{
				if(RecicladoraPlayer[playerid][re_Reciclando] == 1)
				{
					if(RecicladoraPlayer[playerid][re_Tempo] > 0)
					{
						ms(playerid, 0, "Recycling process is not finished yet, please wait and try again!");
						MostrarRecicladora(playerid, r);
						return 1;
					}

					if(SlotsVazios(playerid) == 0)
					{
						MostrarRecicladora(playerid, r);
						ms(playerid, 0, "Your inventory is full!");
						return 1;
					}

					AddInv(playerid, 90, RecicladoraPlayer[playerid][re_Sucata]);
					format(str, 300, "You collected %s scrap from the recicladora, check your inventory.", ConvertMoney(RecicladoraPlayer[playerid][re_Sucata]));
					ms(playerid, 1, str);
					ms(playerid, 2, "This recicladora is ready for use again.");
					RecicladoraPlayer[playerid][re_Tempo] = 0;
					RecicladoraPlayer[playerid][re_Reciclando] = 0;
					RecicladoraPlayer[playerid][re_Sucata] = 0;
					salvarinv(playerid);
					salvar_recicladora_player(playerid);
					return 1;
				}
				MostrarRecicladora(playerid, r);
				return 1;
			}

			if(listitem == 1)
			{
				EditDynamicObject2(playerid, Recicladora[r][re_Obj], 0);
				return 1;
			}

			if(listitem == 2)
			{
				format(str, 300, "{ffff00}WARNING: {ffffff}Are you sure you want to {ff0000}Destroy {ffffff}this Recicladora?\nAll items inside will be permanently lost!");
				ShowPlayerDialog_(playerid, DIALOG_RECICLADORA4, DIALOG_STYLE_MSGBOX, "Destroy Recicladora", str, "Yes", "Cancel");
				return 1;
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_RECICLADORA3) // items in recicladora //
	{
		new r = GetPVarInt(playerid, "recicladora");
		if(!response) return MostrarRecicladora(playerid, r);

		if(RecicladoraPlayer[playerid][re_ID][listitem] == 0)
		{
			ms(playerid, 0, "This slot is empty, open your inventory and add items to recycle!");
			MostrarRecicladora(playerid, r, 1);
			return 1;
		}

		if(SlotsVazios(playerid) == 0)
		{
			MostrarRecicladora(playerid, r);
			ms(playerid, 0, "Your inventory is full!");
			return 1;
		}

		AddInv(playerid, RecicladoraPlayer[playerid][re_ID][listitem], RecicladoraPlayer[playerid][re_Unidades][listitem], RecicladoraPlayer[playerid][re_Tipo][listitem]);
		format(str, 300, "You collected the %s from the recicladora, check your inventory.", Itens[RecicladoraPlayer[playerid][re_ID][listitem]][item_Nome]);
		ms(playerid, 1, str);
		RecicladoraPlayer[playerid][re_ID][listitem] = 0;
		RecicladoraPlayer[playerid][re_Unidades][listitem] = 0;
		RecicladoraPlayer[playerid][re_Tipo][listitem] = 0;
		MostrarRecicladora(playerid, r, 1);
		salvarinv(playerid);
		salvar_recicladora_player(playerid);
		return 1;
	}

	if(dialogid == DIALOG_EDITAR_VEICULO3)
	{
		if(response)
		{
			if(listitem == 0)
			{
				for(new i; i < MAX_SLOTS; i++)
				{
					if(Inventario[playerid][i][inv_ID] == 88)
					{
						SetPVarInt(playerid, "slot", i);
						SetPlayerFacingAngle(playerid, 90.0);
						new valor = 400;
						if(pInfo[playerid][pClasse] == 2) valor = 100;
						Acao(playerid, 14, valor, "REPAIRING ENGINE", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
						SetPlayerAttachedObject(playerid, 9, 19917, 6, 0.343999, 0.558999, -0.393999, 58.200019, 0.000000, -26.800003, 1.000000, 1.000000, 1.000000);
						return 1;
					}
				}
				ms(playerid, 0, "You don't have a damaged vehicle engine in your inventory!");
			}
			if(listitem == 1)
			{
				for(new i; i < MAX_SLOTS; i++)
				{
					if(Inventario[playerid][i][inv_ID] == 84) //83
					{
						SetPVarInt(playerid, "slot", i);
						SetPlayerFacingAngle(playerid, 90.0);
						new valor = 400;
						if(pInfo[playerid][pClasse] == 2) valor = 100;
						Acao(playerid, 15, valor, "CHARGING BATTERY", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
						SetPlayerAttachedObject(playerid, 9, 19918, 6, 0.155999, 0.081000, -0.116999, 59.899997, 0.000000, 47.900001, 1.000000, 1.000000, 1.000000);
						return 1;
					}
				}
				ms(playerid, 0, "You don't have a discharged vehicle battery in your inventory!");
			}
			if(listitem == 2)
			{
				for(new i; i < MAX_SLOTS; i++)
				{
					if(Inventario[playerid][i][inv_ID] == 86) //85
					{
						SetPVarInt(playerid, "slot", i);
						SetPlayerFacingAngle(playerid, 90.0);
						new valor = 400;
						if(pInfo[playerid][pClasse] == 2) valor = 100;
						Acao(playerid, 16, valor, "REPAIRING TIRE", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
						SetPlayerAttachedObject(playerid, 9, 1025, 6, 0.133000, -0.027000, -0.042999, 0.000000, -133.900009, 26.900001, 0.696000, 0.689000, 0.658999);
						return 1;
					}
				}
				ms(playerid, 0, "You don't have a flat vehicle tire in your inventory!");
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_EDITAR_VEICULO2)
	{
		if(response)
		{
			if(!IsPlayerInAnyVehicle(playerid))
			{
				ms(playerid, 0, "You are not in a vehicle!");
				return 1;
			}

			if(listitem == 0)
			{
				new Float:vidacarro;
				new car = GetPlayerVehicleID(playerid);
				GetVehicleHealth(car, vidacarro);
				if(vidacarro >= 950.0)
				{
					ms(playerid, 0, "This vehicle does not need engine repair!");
					mostrar_tunings(playerid, 0);
					return 1;
				}
				SetPVarInt(playerid, "veiculo", car);
				Congelar(playerid);

				new valor = 400;
				if(pInfo[playerid][pClasse] == 2) valor = 100;

				Acao(playerid, 11, valor, "REPAIRING ENGINE", 0, "null", "null", 0);
				ms(playerid, 1, "Repairing the vehicle's engine, please wait.");
			}

			if(listitem == 1)
			{
				new car = GetPlayerVehicleID(playerid);
				new veh = Info_Veiculo[car];
				if(veh != -1)
				{
					if(Veiculo[veh][v_Bateria] >= 95)
					{
						ms(playerid, 0, "This vehicle does not need battery charging!");
						mostrar_tunings(playerid, 0);
						return 1;
					}
					SetPVarInt(playerid, "veiculo", car);
					Congelar(playerid);

					new valor = 400;
					if(pInfo[playerid][pClasse] == 2) valor = 100;

					Acao(playerid, 12, valor, "CHARGING BATTERY", 0, "null", "null", 0);
					ms(playerid, 1, "Charging the vehicle's battery, please wait.");
				}
				else
				{
					ms(playerid, 0, "An unexpected error occurred, please try again!");
					mostrar_tunings(playerid, 0);
				}
			}

			if(listitem == 2)
			{
				new car = GetPlayerVehicleID(playerid);
				new veh = Info_Veiculo[car];
				if(veh != -1)
				{
					for(new p; p < 4; p++)
					{
						if(Veiculo[veh][v_Pneu][p] == 1)
						{
							SetPVarInt(playerid, "veiculo", car);
							SetPVarInt(playerid, "pneu", p);
							Congelar(playerid);

							new valor = 400;
							if(pInfo[playerid][pClasse] == 2) valor = 100;

							Acao(playerid, 13, valor, "REPAIRING TIRE", 0, "null", "null", 0);
							ms(playerid, 1, "Repairing one flat tire on the vehicle, please wait.");
							return 1;
						}
					}
				}
				ms(playerid, 0, "This vehicle does not have a flat tire!");
				mostrar_tunings(playerid, 0);
			}

			if(listitem == 3)
			{
				mostrar_tunings(playerid, 1);
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_EDITAR_VEICULO)
	{
		if(response)
		{
			new Float:pos[3];
			new veh = GetPVarInt(playerid, "veh");
			new v = Info_Veiculo[veh];
			if(GetPlayerVehicleID(playerid) != veh) return ms(playerid, 0, "You need to be in the vehicle to do this");
			if(v != -1)
			{
				if(Veiculo[v][v_Obj_Existe][listitem] == 1)
				{
					GetVehiclePos(veh, pos[0], pos[1], pos[2]);
					SetVehicleZAngle(veh, 0.0);
					DestroyDynamicObject_(Veiculo[v][v_Obj][listitem]);
					Veiculo[v][v_Obj][listitem] = CreateDynamicObject(Tunings[Veiculo[v][v_Obj_ID][listitem]][t_Modelo], pos[0] + Veiculo[v][v_Obj_X][listitem], pos[1] + Veiculo[v][v_Obj_Y][listitem], pos[2] + Veiculo[v][v_Obj_Z][listitem], Veiculo[v][v_Obj_RX][listitem], Veiculo[v][v_Obj_RY][listitem], Veiculo[v][v_Obj_RZ][listitem], 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
					Streamer_Update(playerid);
					SetPVarInt(playerid, "veh", veh);
					SetPVarInt(playerid, "id", listitem);
					SetPVarInt(playerid, "tunning", 1);
					PegarFrente(pos[0], pos[1], 0, -3);
					SetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					EditDynamicObject2(playerid, Veiculo[v][v_Obj][listitem], 0);
					ms(playerid, 1, "Editing item, position and save to complete the edit.");
					ms(playerid, 2, "If you press ESC or cancel editing, the object will be destroyed.");
				}
				else ms(playerid, 0, "An unexpected error occurred, please try again!");
			}
			else ms(playerid, 0, "An unexpected error occurred, please try again!");
		}
		return 1;
	}

	if(dialogid == DIALOG_TUNINGS2) // dialog to add tunings //
	{
		if(!response) return mostrar_tunings(playerid, 1);
		new i = GetPVarInt(playerid, "id_tun");

		if(!IsPlayerInAnyVehicle(playerid))
		{
			OnDialogResponse(playerid, DIALOG_TUNINGS, 1, i, "");
			ms(playerid, 0, "You are not in a vehicle!");
			return 1;
		}

		new v = Info_Veiculo[GetPlayerVehicleID(playerid)];
		if(v != -1)
		{
			for(new a; a < MAX_TUNINGS; a++)
			{
				if(Veiculo[v][v_Obj_Existe][a] == 0)
				{
					if(Tunings[i][t_Madeiras] > 0)
					{
						if(Madeiras[playerid] < Tunings[i][t_Madeiras])
						{
							ms(playerid, 0, "You do not have enough wood for this!");
							OnDialogResponse(playerid, DIALOG_TUNINGS, 1, i, "");
							return 1;
						}
					}

					if(Tunings[i][t_Metais] > 0)
					{
						if(Metais[playerid] < Tunings[i][t_Metais])
						{
							ms(playerid, 0, "You do not have enough metal for this!");
							OnDialogResponse(playerid, DIALOG_TUNINGS, 1, i, "");
							return 1;
						}
					}

					if(Tunings[i][t_Pedras] > 0)
					{
						if(Pedras[playerid] < Tunings[i][t_Pedras])
						{
							ms(playerid, 0, "You do not have enough stone for this!");
							OnDialogResponse(playerid, DIALOG_TUNINGS, 1, i, "");
							return 1;
						}
					}

					if(Tunings[i][t_Polvoras] > 0)
					{
						if(Polvoras[playerid] < Tunings[i][t_Polvoras])
						{
							ms(playerid, 0, "You do not have enough gunpowder for this!");
							OnDialogResponse(playerid, DIALOG_TUNINGS, 1, i, "");
							return 1;
						}
					}

					if(Tunings[i][t_Madeiras] > 0) Madeiras[playerid] -= Tunings[i][t_Madeiras];
					if(Tunings[i][t_Metais] > 0) Metais[playerid] -= Tunings[i][t_Metais];
					if(Tunings[i][t_Pedras] > 0) Pedras[playerid] -= Tunings[i][t_Pedras];
					if(Tunings[i][t_Polvoras] > 0) Polvoras[playerid] -= Tunings[i][t_Polvoras];

					Veiculo[v][v_Obj_Existe][a] = 1;
					Veiculo[v][v_Obj_ID][a] = i;
					Veiculo[v][v_Obj_X][a] = 0;
					Veiculo[v][v_Obj_Y][a] = 0;
					Veiculo[v][v_Obj_Z][a] = 0;
					Veiculo[v][v_Obj_RX][a] = 0;
					Veiculo[v][v_Obj_RY][a] = 0;
					Veiculo[v][v_Obj_RZ][a] = 0;

					new Float:pos[3];
					GetVehiclePos(GetPlayerVehicleID(playerid), pos[0], pos[1], pos[2]);
					SetVehicleZAngle(GetPlayerVehicleID(playerid), 0.0);
					Veiculo[v][v_Obj][a] = CreateDynamicObject(Tunings[i][t_Modelo], pos[0], pos[1], pos[2] + 0.5, 0, 0, 0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
					Streamer_Update(playerid);
					SetPVarInt(playerid, "veh", GetPlayerVehicleID(playerid));
					SetPVarInt(playerid, "id", a);
					SetPVarInt(playerid, "tunning", 1);
					PegarFrente(pos[0], pos[1], 0, -3);
					SetPlayerPos(playerid, pos[0], pos[1], pos[2]);

					EditDynamicObject2(playerid, Veiculo[v][v_Obj][a], 0);
					ms(playerid, 1, "Item added, position and save to complete the edit.");
					ms(playerid, 2, "If you press ESC or cancel the edit, the object will be destroyed.");
					return 1;
				}
			}
		}

		ms(playerid, 0, "This vehicle has reached the maximum number of items!");
		return 1;
	}

	if(dialogid == DIALOG_TUNINGS) // TUNINGS DIALOG //
	{
		if(response)
		{
			if(!IsPlayerInAnyVehicle(playerid))
			{
				ms(playerid, 0, "You are not in a vehicle!");
				mostrar_tunings(playerid, 1);
				return 1;
			}

			String_Gigante[0] = EOS;
			strcat(String_Gigante, "\n{00ffff}");
			strcat(String_Gigante, Tunings[listitem][t_Nome]);
			strcat(String_Gigante, "\n\n");
			if(Tunings[listitem][t_Madeiras] > 0)
			{
				format(str, 300, "{ffffff}Wood: {a1a1a1}%d\n", Tunings[listitem][t_Madeiras]);
				strcat(String_Gigante, str);
			}

			if(Tunings[listitem][t_Metais] > 0)
			{
				format(str, 300, "{ffffff}Metal: {a1a1a1}%d\n", Tunings[listitem][t_Metais]);
				strcat(String_Gigante, str);
			}

			if(Tunings[listitem][t_Pedras] > 0)
			{
				format(str, 300, "{ffffff}Stone: {a1a1a1}%d\n", Tunings[listitem][t_Pedras]);
				strcat(String_Gigante, str);
			}

			if(Tunings[listitem][t_Polvoras] > 0)
			{
				format(str, 300, "{ffffff}Gunpowder: {a1a1a1}%d\n", Tunings[listitem][t_Polvoras]);
				strcat(String_Gigante, str);
			}
			strcat(String_Gigante, "\n");
			strcat(String_Gigante, "Do you want to add this item to the vehicle?\n\n");
			SetPVarInt(playerid, "id_tun", listitem);
			ShowPlayerDialog_(playerid, DIALOG_TUNINGS2, DIALOG_STYLE_MSGBOX, "Add Item", String_Gigante, "Continue", "Back");
		}
		else 
		{
			mostrar_tunings(playerid);
		}
		return 1;
	}


	if(dialogid == DIALOG_AJUDA) // HELP DIALOG //
	{
		if(response)
		{
			String_Gigante[0] = EOS;

			if(listitem == 0)
			{
				for(new i; i < sizeof(info_server); i++) strcat(String_Gigante, info_server[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Information and Systems", String_Gigante, "Ok", "Back");
			}

			if(listitem == 1)
			{
				strcat(String_Gigante, "\n");
				for(new i; i < sizeof(ComandosPlayers); i++)
				{
					strcat(String_Gigante, "{ffffff}");
					strcat(String_Gigante, ComandosPlayers[i][c_Comando]);
					strcat(String_Gigante, "  {a1a1a1}");
					strcat(String_Gigante, ComandosPlayers[i][c_Info]);
					strcat(String_Gigante, "\n");
				}
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Story Mode Commands", String_Gigante, "Ok", "Back");
			}

			if(listitem == 2)
			{
				for(new i; i < sizeof(teclas_server); i++) strcat(String_Gigante, teclas_server[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Used Keys", String_Gigante, "Ok", "Back");
			}

			if(listitem == 3)
			{
				for(new i; i < sizeof(ajuda_loot); i++) strcat(String_Gigante, ajuda_loot[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Loot Box Help", String_Gigante, "Ok", "Back");
			}

			if(listitem == 4)
			{
				for(new i; i < sizeof(ajuda_base); i++) strcat(String_Gigante, ajuda_base[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Base Help", String_Gigante, "Ok", "Back");
			}

			if(listitem == 5)
			{
				for(new i; i < sizeof(ajuda_equipamentos_e_materiais); i++) strcat(String_Gigante, ajuda_equipamentos_e_materiais[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Equipment and Materials Help", String_Gigante, "Ok", "Back");
			}

			if(listitem == 6)
			{
				for(new i; i < sizeof(ajuda_mapa_e_gps); i++) strcat(String_Gigante, ajuda_mapa_e_gps[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Map and GPS", String_Gigante, "Ok", "Back");
			}

			if(listitem == 7)
			{
				for(new i; i < sizeof(ajuda_veiculos); i++) strcat(String_Gigante, ajuda_veiculos[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Vehicles", String_Gigante, "Ok", "Back");
			}

			if(listitem == 8)
			{
				for(new i; i < sizeof(ajuda_portamalas); i++) strcat(String_Gigante, ajuda_portamalas[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Trunks", String_Gigante, "Ok", "Back");
			}

			if(listitem == 9)
			{
				for(new i; i < sizeof(ajuda_respawn); i++) strcat(String_Gigante, ajuda_respawn[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Automatic Respawn", String_Gigante, "Ok", "Back");
			}

			if(listitem == 10)
			{
				for(new i; i < sizeof(ajuda_haid); i++) strcat(String_Gigante, ajuda_haid[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Haid Schedules", String_Gigante, "Ok", "Back");
			}

			if(listitem == 11)
			{
				for(new i; i < sizeof(ajuda_zombies); i++) strcat(String_Gigante, ajuda_zombies[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Zombies Help", String_Gigante, "Ok", "Back");
			}

			if(listitem == 12)
			{
				for(new i; i < sizeof(ajuda_morte); i++) strcat(String_Gigante, ajuda_morte[i]);
				ShowPlayerDialog_(playerid, DIALOG_AJUDA2, DIALOG_STYLE_MSGBOX, "Death System", String_Gigante, "Ok", "Back");
			}
		}

		return 1;
	}


	if(dialogid == DIALOG_AJUDA2) // go back to help dialog //
	{
		cmd_help(playerid, #);
		return 1;
	}


	if(dialogid == DIALOG_ITENS2) // create item dialog //
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "iditem");
			new Float:pos[3];
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			PegarFrente(pos[0], pos[1], random(360), random(8)*0.3);

			if(i == 104) // if it's a Vehicle //
			{
				if(!IsNumeric(inputtext))
				{
					ms(playerid, 0, "Please use numbers only!");
					RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
					return 1;
				}
				if(strval(inputtext) < 400 || strval(inputtext) > 611)
				{
					ms(playerid, 0, "Please use a number from 400 to 611!");
					RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
					return 1;
				}
				RespostaMenu(playerid, menu_id[playerid], 2, escolhendo_menu[playerid]);
				criar_item(i, pos[0], pos[1], pos[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), strval(inputtext));
				return 1;
			}

			if(i == 99) // if it's a Skin //
			{
				if(!IsNumeric(inputtext))
				{
					ms(playerid, 0, "Please use numbers only!");
					RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
					return 1;
				}
				if(strval(inputtext) < 0 || strval(inputtext) > 311)
				{
					ms(playerid, 0, "Please use a number from 0 to 311!");
					RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
					return 1;
				}
				RespostaMenu(playerid, menu_id[playerid], 2, escolhendo_menu[playerid]);
				criar_item(i, pos[0], pos[1], pos[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), strval(inputtext));
				return 1;
			}

			if(!IsNumeric(inputtext))
			{
				ms(playerid, 0, "Preferably use a number greater than 1!");
				RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
				return 1;
			}
			if(strval(inputtext) < 1)
			{
				ms(playerid, 0, "Preferably use a number greater than 1!");
				RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
				return 1;
			}
			RespostaMenu(playerid, menu_id[playerid], 2, escolhendo_menu[playerid]);
			criar_item(i, pos[0], pos[1], pos[2], strval(inputtext), GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[i][item_Tipo]);
		}
		return 1;
	}

	if(dialogid == DIALOG_PNEUS) // tire change dialog //
	{
		if(response)
		{
			new v = GetPVarInt(playerid, "veiculo");
			if(GetVehicleModel(v) != 0)
			{
				new idv = Info_Veiculo[v];
				if(idv != -1)
				{
					if(Veiculo[idv][v_Pneu][listitem] == 0)
					{
						ms(playerid, 0, "This tire is not flat!");
						mostrar_pneus(playerid, idv);
						return 1;
					}
					new Float:p[6];
					SetPVarInt(playerid, "pneu", listitem);
					GetVehiclePos(v, p[0], p[1], p[2]);
					GetVehicleZAngle(v, p[3]);

					if(listitem == 0)
					{
						PegarFrente(p[0], p[1], p[3], 1.5);
						p[4] = p[0];
						p[5] = p[1];
						p[3] -= 90.0;
						if(p[3] < 0.0) p[3] += 360.0;
						PegarFrente(p[4], p[5], p[3], -1.8);
					}

					if(listitem == 1)
					{
						PegarFrente(p[0], p[1], p[3], -1.5);
						p[4] = p[0];
						p[5] = p[1];
						p[3] -= 90.0;
						if(p[3] < 0.0) p[3] += 360.0;
						PegarFrente(p[4], p[5], p[3], -1.8);
					}

					if(listitem == 2)
					{
						PegarFrente(p[0], p[1], p[3], 1.5);
						p[4] = p[0];
						p[5] = p[1];
						p[3] += 90.0;
						if(p[3] > 360.0) p[3] -= 360.0;
						PegarFrente(p[4], p[5], p[3], -1.8);
					}

					if(listitem == 3)
					{
						PegarFrente(p[0], p[1], p[3], -1.5);
						p[4] = p[0];
						p[5] = p[1];
						p[3] += 90.0;
						if(p[3] > 360.0) p[3] -= 360.0;
						PegarFrente(p[4], p[5], p[3], -1.8);
					}

					if(Barra[playerid][b_Acao] == 0)
					{
						SetPlayerPos(playerid, p[4], p[5], p[2]);
						new Float:angs = GetAngleToPoint(p[4], p[5], p[0], p[1]);
						SetPlayerFacingAngle(playerid, angs);

						new valor = 200;
						if(pInfo[playerid][pClasse] == 2) valor = 75;

						Acao(playerid, 9, valor, "CHANGING TIRE", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
						SetPlayerAttachedObject(playerid, 9, 1025, 6, 0.133000, -0.027000, -0.042999, 0.000000, -133.900009, 26.900001, 0.696000, 0.689000, 0.658999);

						format(string_prox, 300, " Player %s is changing a flat tire ", Nome(playerid));
						ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
					}
				}
			}
			else abririnv(playerid, 2);
			return 1;
		}
	}

	if(dialogid == DIALOG_MONTAR_ARMA2) // black market weapon assemble list, confirm assembly, check fragments //
	{
		if(response) montar_arma(playerid, 2, GetPVarInt(playerid, "id_frag"));
		else montar_arma(playerid);
		return 1;
	}

	if(dialogid == DIALOG_MONTAR_ARMA) // black market weapon assemble list //
	{
		if(response) montar_arma(playerid, 1, listitem);
		return 1;
	}

	if(dialogid == DIALOG_MERCADO_NEGRO) // black market list //
	{
		if(response) menu_mercadonegro(playerid, 1, listitem);
		return 1;
	}

	if(dialogid == DIALOG_VEICULOS) // vehicle list //
	{
		if(response)
		{
			new i = LISTA[playerid][listitem];
			if(i == -1) return mostrar_veiculos(playerid, 0);
			mostrar_veiculos(playerid, 1, i);
		}
		return 1;
	}

	if(dialogid == DIALOG_EXCLUIR_VEICULO)
	{
		new i = GetPVarInt(playerid, "veh");
		if(response)
		{
			ms(playerid, 3, "You have permanently deleted this vehicle!");
			DestruirVeiculo(i);
		}
		else mostrar_veiculos(playerid, 0);
		return 1;
	}

	if(dialogid == DIALOG_VEICULOS2) // vehicle list //
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "veh");
			if(GetVehicleModel(i) == 0) return mostrar_veiculos(playerid, 0);
			new engine, lights, alarm, doors, bonnet, boot, objective;
			GetVehicleParamsEx(i, engine, lights, alarm, doors, bonnet, boot, objective);

			if(listitem == 0) // locate //
			{
				new Float:p[3];
				GetVehiclePos(i, p[0], p[1], p[2]);
				Localizar_Player(playerid, p[0], p[1], p[2], 8, i);
				ms(playerid, 3, "Follow the red mark on your radar to locate the vehicle.");
				return 1;
			}

			if(listitem == 1) // park //
			{
				if(GetPlayerVehicleID(playerid) != i) return ms(playerid, 0, "You need to be in the vehicle to do this!");
				new idv = Info_Veiculo[i];
				if(idv != -1)
				{
					GetVehiclePos(i, Veiculo[idv][v_X], Veiculo[idv][v_Y], Veiculo[idv][v_Z]);
					GetVehicleZAngle(i, Veiculo[idv][v_A]);
					SalvarVeiculo(i);
					for(new a; a < MAX_TUNINGS; a++) 
						if(Veiculo[idv][v_Obj_Existe][a] == 1) DestroyDynamicObject_(Veiculo[idv][v_Obj][a]);
					Info_Veiculo[i] = -1;
					DestroyVehicle(i);
					i = CreateVehicle(Veiculo[idv][v_Modelo], Veiculo[idv][v_X], Veiculo[idv][v_Y], Veiculo[idv][v_Z], Veiculo[idv][v_A], Veiculo[idv][v_Cor1], Veiculo[idv][v_Cor2], -1, 0);
					Info_Veiculo[i] = idv;
					Veiculo[idv][v_ID] = i;
					CARRO_DE_FERRO_VELHO[i] = -1;
					SetVehicleHealth(i, Veiculo[idv][v_Vida]);
					ms(playerid, 1, "You parked this vehicle! New spawn location saved.");
					SetTimerEx("carregar_tuning", 2000, 0, "d", i);
					PutPlayerInVehicle(playerid, i, 0);
				}
				return 1;
			}

			if(listitem == 2)
			{
				new Float:vidacarro;
				GetVehicleHealth(i, vidacarro);
				if(vidacarro <= 300.0 )
				{
					ms(playerid, 0, "This vehicle is very damaged, engine repair is needed!");
				}
				else
				{
					if(engine == 1) SetVehicleParamsEx(i, 0, lights, alarm, doors, bonnet, boot, objective);
					else SetVehicleParamsEx(i, 1, lights, alarm, doors, bonnet, boot, objective);
				}
			}
			else if(listitem == 3)
			{
				if(lights == 1) SetVehicleParamsEx(i, engine, 0, alarm, doors, bonnet, boot, objective);
				else SetVehicleParamsEx(i, engine, 1, alarm, doors, bonnet, boot, objective);
			}
			else if(listitem == 4)
			{
				if(bonnet == 1) SetVehicleParamsEx(i, engine, lights, alarm, doors, 0, boot, objective);
				else SetVehicleParamsEx(i, engine, lights, alarm, doors, 1, boot, objective);
			}
			else if(listitem == 5)
			{
				if(boot == 1) SetVehicleParamsEx(i, engine, lights, alarm, doors, bonnet, 0, objective);
				else SetVehicleParamsEx(i, engine, lights, alarm, doors, bonnet, 1, objective);
			}
			else if(listitem == 6)
			{
				new asd = Info_Veiculo[i];
				if(asd != -1)
				{
					if(Veiculo[asd][v_Cadeado] == 0)
					{
						ms(playerid, 0, "This vehicle does not have a lock system; a lock with a key must be added for this!");
						mostrar_veiculos(playerid, 1, i);
						return 1;
					}

					if(Veiculo[asd][v_Trancado] == 1) Veiculo[asd][v_Trancado] = 0;
					else Veiculo[asd][v_Trancado] = 1;
					new Float:pp[3];
					GetVehiclePos(i, pp[0], pp[1], pp[2]);
					Play_Som(1145, pp[0], pp[1], pp[2], 0, 0);
				}
			}

			if(listitem == 7)
			{
				if(GetPlayerVehicleID(playerid) != i) return ms(playerid, 0, "You need to be in the vehicle to do this!");
				String_Gigante[0] = EOS;
				new v = Info_Veiculo[i];
				SetPVarInt(playerid, "veh", i);
				if(v != -1)
				{
					for(new id; id < MAX_TUNINGS; id++)
					{
						if(Veiculo[v][v_Obj_Existe][id] == 0) strcat(String_Gigante, "{a1a1a1}");
						if(Veiculo[v][v_Obj_Existe][id] == 1) strcat(String_Gigante, "{ffff00}");
						if(Veiculo[v][v_Obj_Existe][id] == 0) strcat(String_Gigante, "EMPTY");
						if(Veiculo[v][v_Obj_Existe][id] == 1) strcat(String_Gigante, Tunings[Veiculo[v][v_Obj_ID][id]][t_Nome]);
						strcat(String_Gigante, "\n");
					}
					ShowPlayerDialog_(playerid, DIALOG_EDITAR_VEICULO, DIALOG_STYLE_LIST, "Attached Objects", String_Gigante, "Edit", "Close");
				}
				return 1;
			}

			if(listitem == 8)
			{
				ShowPlayerDialog_(playerid, DIALOG_EXCLUIR_VEICULO, DIALOG_STYLE_MSGBOX, "Delete Vehicle", "\n\n{ff0000}[WARNING] {a1a1a1}Are you sure you want to permanently delete this vehicle?\n\n", "Yes", "Cancel");
				return 1;
			}

			mostrar_veiculos(playerid, 1, i);
		}
		else mostrar_veiculos(playerid, 0);

		return 1;
	}

	if(dialogid == DIALOG_FOGUEIRA4) // adding item to campfire //
	{
		if(response)
		{
			new ok = 1;
			new ff = fogueira_player3[playerid];

			if(Tipo_Fogueira[ff][tf_Ingrediente1] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ingrediente1]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ingrediente1]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}
			if(Tipo_Fogueira[ff][tf_Ingrediente2] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ingrediente2]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ingrediente2]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}
			if(Tipo_Fogueira[ff][tf_Ingrediente3] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ingrediente3]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ingrediente3]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}

			if(Tipo_Fogueira[ff][tf_Ferramenta1] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ferramenta1]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ferramenta1]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}
			if(Tipo_Fogueira[ff][tf_Ferramenta2] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ferramenta2]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ferramenta2]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}
			if(Tipo_Fogueira[ff][tf_Ferramenta3] != -1)
			{
				if(!tem_item(playerid, Tipo_Fogueira[ff][tf_Ferramenta3]))
				{
					format(str, 300, "You don't have a %s in your inventory!", Itens[Tipo_Fogueira[ff][tf_Ferramenta3]][item_Nome]);
					ms(playerid, 0, str);
					ok = 0;
				}
			}

			if(ok == 1)
			{
				if(Tipo_Fogueira[ff][tf_Ingrediente1] != -1) diminuir_ingrediente(playerid, Tipo_Fogueira[ff][tf_Ingrediente1], 1);
				if(Tipo_Fogueira[ff][tf_Ingrediente2] != -1) diminuir_ingrediente(playerid, Tipo_Fogueira[ff][tf_Ingrediente2], 1);
				if(Tipo_Fogueira[ff][tf_Ingrediente3] != -1) diminuir_ingrediente(playerid, Tipo_Fogueira[ff][tf_Ingrediente3], 1);

				format(str, 300, "You added a %s to cook on the campfire!", Tipo_Fogueira[ff][tf_Nome]);
				ms(playerid, 1, str);
				Fogueira[fogueira_player[playerid]][f_Slot][fogueira_player2[playerid]] = fogueira_player3[playerid];
				Fogueira[fogueira_player[playerid]][f_Pronto][fogueira_player2[playerid]] = 0;
				Mostrar_Fogueira(playerid, fogueira_player[playerid]);
			}
			else
			{
				OnDialogResponse(playerid, DIALOG_FOGUEIRA2, 1, fogueira_player3[playerid], "");
			}
		}
		else Mostrar_Itens_Fogueira(playerid);

		return 1;
	}

	if(dialogid == DIALOG_FOGUEIRA2) // item to cook on campfire //
	{
		if(response)
		{
			new sss[500];
			new sss1[100];
			format(sss, 500, "\n{00ff00}%s\n\n{00BFFF}Ingredients: {a1a1a1}", Tipo_Fogueira[listitem][tf_Nome]);

			if(Tipo_Fogueira[listitem][tf_Ingrediente1] != -1)
			{
				format(sss1, 100, "%s", Itens[Tipo_Fogueira[listitem][tf_Ingrediente1]][item_Nome]);
				strcat(sss, sss1);
			}
			if(Tipo_Fogueira[listitem][tf_Ingrediente2] != -1)
			{
				format(sss1, 100, ", %s", Itens[Tipo_Fogueira[listitem][tf_Ingrediente2]][item_Nome]);
				strcat(sss, sss1);
			}
			if(Tipo_Fogueira[listitem][tf_Ingrediente3] != -1)
			{
				format(sss1, 100, ", %s", Itens[Tipo_Fogueira[listitem][tf_Ingrediente3]][item_Nome]);
				strcat(sss, sss1);
			}
			strcat(sss, "\n{00BFFF}Tools: {a1a1a1}");

			if(Tipo_Fogueira[listitem][tf_Ferramenta1] != -1)
			{
				format(sss1, 100, "%s", Itens[Tipo_Fogueira[listitem][tf_Ferramenta1]][item_Nome]);
				strcat(sss, sss1);
			}
			if(Tipo_Fogueira[listitem][tf_Ferramenta2] != -1)
			{
				format(sss1, 100, ", %s", Itens[Tipo_Fogueira[listitem][tf_Ferramenta2]][item_Nome]);
				strcat(sss, sss1);
			}
			if(Tipo_Fogueira[listitem][tf_Ferramenta3] != -1)
			{
				format(sss1, 100, ", %s", Itens[Tipo_Fogueira[listitem][tf_Ferramenta3]][item_Nome]);
				strcat(sss, sss1);
			}
			fogueira_player3[playerid] = listitem;
			strcat(sss, "\n\n{ffffff}Add item to the campfire?\n{a1a1a1}When the item is ready, it will be near the campfire ready to be collected.");
			ShowPlayerDialog_(playerid, DIALOG_FOGUEIRA4, DIALOG_STYLE_MSGBOX, Tipo_Fogueira[listitem][tf_Nome], sss, "Yes", "Cancel");
			return 1;
		}
		Mostrar_Fogueira(playerid, fogueira_player[playerid]);
		return 1;
	}

	if(dialogid == DIALOG_FOGUEIRA3) // delete item from campfire //
	{
		if(response)
		{
			ms(playerid, 0, "You destroyed this item from the campfire!");
			Fogueira[fogueira_player[playerid]][f_Slot][fogueira_player2[playerid]] = -1;
			Fogueira[fogueira_player[playerid]][f_Pronto][fogueira_player2[playerid]] = 0;
		}
		Mostrar_Fogueira(playerid, fogueira_player[playerid]);
		return 1;
	}

	if(dialogid == DIALOG_FOGUEIRA1) // campfire dialog //
	{
		if(response)
		{
			ms(playerid, 0, "You destroyed the campfire!");
			DestruirFogueira(fogueira_player[playerid]);
		}
		else Mostrar_Fogueira(playerid, fogueira_player[playerid]);
		return 1;
	}

	if(dialogid == DIALOG_FOGUEIRA) // campfire dialog //
	{
		if(response)
		{
			new f = fogueira_player[playerid];
			if(Fogueira[f][f_Existe] == 0) return 1;

			if(listitem < 5)
			{
				fogueira_player2[playerid] = listitem;

				if(Fogueira[f][f_Slot][listitem] == -1)
				{
					Mostrar_Itens_Fogueira(playerid);
				}
				else
				{
					ShowPlayerDialog_(playerid, DIALOG_FOGUEIRA3, DIALOG_STYLE_MSGBOX, "Destroy Item", "\n\n{ffffff}Are you sure you want to {ff0000}destroy {ffffff}this item from the campfire?\n{a1a1a1}All ingredients will be lost!\n\n", "Yes", "Cancel");
				}

				return 1;
			}

			if(listitem == 5) return Mostrar_Fogueira(playerid, f);

			if(listitem == 6)
			{
				if(Madeiras[playerid] <= 0) ms(playerid, 0, "You don't have wood to add to the campfire!");
				else if(Fogueira[f][f_Vida] == 1000) ms(playerid, 0, "This campfire is already at 100%!");
				else
				{
					ms(playerid, 1, "You added a piece of wood to the campfire!");
					Madeiras[playerid]--;
					Fogueira[f][f_Vida] += 100;
					if(Fogueira[f][f_Vida] > 1000) Fogueira[f][f_Vida] = 1000;
				}
				Mostrar_Fogueira(playerid, f);
			}

			if(listitem == 7)
			{
				ShowPlayerDialog_(playerid, DIALOG_FOGUEIRA1, DIALOG_STYLE_MSGBOX, "Destroy Campfire", "\n\n{ffffff}Are you sure you want to {ff0000}destroy {ffffff}this campfire?\nAll items in progress will be deleted!\n\n", "Yes", "Cancel");
			}
		}
		return 1;
	}


	if(dialogid == DIALOG_PORTAO5) // player's gates dialog //
	{
		if(response)
		{
			new i = Lista_Portao[playerid][listitem];
			if(i == -1) return cmd_portoes(playerid, #);
			if(Portao[i][portao_Existe] == 0) return cmd_portoes(playerid, #);
			new stri[30];
			format(stri, 30, "%d", i );
			cmd_portao(playerid, stri);
		}
		return 1;
	}

	if(dialogid == DIALOG_PORTAO4) // password to open //
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "portao");

			if(strlen(inputtext) == 0)
			{
				ms(playerid, 0, "Incorrect password!");
				usar_senha_portao(playerid, i);
				return 1;
			}

			if(Comparar(inputtext, Portao[i][portao_Senha]))
			{
				abrir_portao(i);
			}
			else
			{
				ms(playerid, 0, "Incorrect password!");
				usar_senha_portao(playerid, i);
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_PORTAO2) // gate password //
	{
		new i = GetPVarInt(playerid, "portao");
		if(!response) return MostrarPortao(playerid, i);

		if(strlen(inputtext) < 4 || strlen(inputtext) > 8 )
		{
			ms(playerid, 0, "The password must be between 4 and 8 characters!");
			MostrarPortao(playerid, i, 2);
			return 1;
		}

		format(str, 150, "You changed the gate password to '%s'.", inputtext);
		format(Portao[i][portao_Senha], 8, inputtext);
		salvar_portao(i);
		ms(playerid, 1, str);
		MostrarPortao(playerid, i);
		return 1;
	}

	if(dialogid == DIALOG_PORTAO) // gate //
	{
		if(response)
		{
			new i = GetPVarInt(playerid, "portao");
			MostrarPortao(playerid, i, listitem);
		}
		else cmd_portoes(playerid, #);
		return 1;
	}

	if(dialogid == DIALOG_CAIXA3) // store //
	{
		if(Modo[playerid] != 1) return 1;
		new i = Lista_Caixa[playerid][listitem];
		new cc = GetPVarInt(playerid, "caixa");
		if(Caixa[cc][caixa_Existe] == 0)
		{
			ms(playerid, 0, "This box no longer exists!");
			return 1;
		}
		if(!response) return MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), -1);
		if( i == -1 ) return MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), 1);

		if(Itens[Inventario[playerid][i][inv_ID]][item_Combinavel] == 1)
		{
			for(new c; c<MAX_SLOTS; c++)
			{
				if(Caixa[cc][caixa_ID][c] == Inventario[playerid][i][inv_ID])
				{
					Caixa[cc][caixa_Unidades][c] += Inventario[playerid][i][inv_Unidades];
					Inventario[playerid][i][inv_ID] = 0;
					Inventario[playerid][i][inv_Unidades] = 0;
					Inventario[playerid][i][inv_Tipo] = 0;
					MostrarCaixa(playerid, cc, 1);
					ms(playerid, 1, "You stored an item in the box; it was combined with a similar item.");
					salvar_caixa(cc);
					salvarinv(playerid);
					return 1;
				}
			}
		}

		for(new c; c<MAX_SLOTS; c++)
		{
			if(Caixa[cc][caixa_ID][c] == 0)
			{
				Caixa[cc][caixa_ID][c] = Inventario[playerid][i][inv_ID];
				Caixa[cc][caixa_Unidades][c] = Inventario[playerid][i][inv_Unidades];
				Caixa[cc][caixa_Tipo][c] = Inventario[playerid][i][inv_Tipo];
				Inventario[playerid][i][inv_ID] = 0;
				Inventario[playerid][i][inv_Unidades] = 0;
				Inventario[playerid][i][inv_Tipo] = 0;
				MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), 1);
				ms(playerid, 1, "You stored an item in the box.");
				texto_caixa(cc);
				salvar_caixa(cc);
				salvarinv(playerid);
				return 1;
			}
		}

		MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), 1);
		ms(playerid, 0, "This item box is already full!");
		return 1;
	}

	if(dialogid == DIALOG_CAIXA2) // take //
	{
		if(Modo[playerid] != 1) return 1;
		new i = Lista_Caixa[playerid][listitem];
		new cc = GetPVarInt(playerid, "caixa");
		if(cc < 0 || cc >= MAX_CAIXAS)
		{
			ms(playerid, 0, "This box no longer exists!");
			return 1;
		}
		if(Caixa[cc][caixa_Existe] == 0)
		{
			ms(playerid, 0, "This box no longer exists!");
			return 1;
		}
		if(!response) return MostrarCaixa(playerid, cc, -1);
		if( i == -1 ) return MostrarCaixa(playerid, cc,  0);
		if(Caixa[cc][caixa_ID][i] == 0)
		{
			ms(playerid, 0, "This item is no longer in the box, please try again!");
			MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), 0);
			return 1;
		}

		if(SlotsVazios(playerid) == 0)
		{
			MostrarCaixa(playerid, cc, 0);
			ms(playerid, 0, "Your inventory is full!");
			return 1;
		}

		AddInv(playerid, Caixa[cc][caixa_ID][i], Caixa[cc][caixa_Unidades][i], Caixa[cc][caixa_Tipo][i] );
		Caixa[cc][caixa_ID][i] = 0;
		Caixa[cc][caixa_Unidades][i] = 0;
		Caixa[cc][caixa_Tipo][i] = 0;
		MostrarCaixa(playerid, cc, 0);
		ms(playerid, 1, "You took an item from the box.");
		texto_caixa(cc);
		salvar_caixa(cc);
		salvarinv(playerid);
		return 1;
	}

	if(dialogid == DIALOG_CAIXA)
	{
		if(Modo[playerid] != 1) return 1;
		if(response)
		{
			MostrarCaixa(playerid, GetPVarInt(playerid, "caixa"), listitem);
		}
		return 1;
	}

	if(dialogid == DIALOG_BASE13)
	{
		new i = GetPVarInt(playerid, "base");
		MenuBase(playerid, i);
		return 1;
	}

	if(dialogid == DIALOG_BASE12)
	{
		if(!response) return OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
		new ii = GetPVarInt(playerid, "ii");
		destruir_objeto(ii);
		ms(playerid, 1, "The object was successfully destroyed!");
		OnDialogResponse(playerid, DIALOG_BASE, 1, 3, "");
		return 1;
	}

	if(dialogid == DIALOG_BASE11)
	{
		if(!response) return OnDialogResponse(playerid, DIALOG_BASE, 1, 4, "");
		new ii = GetPVarInt(playerid, "ii");
		new i = Obj[ii][obj_ID];

		if(listitem == 0)
		{
			EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[Obj[ii][obj_ID]][obj_Modelo]);
		}

		if(listitem == 1)
		{
			Obj[ii][obj_RY] += 90.0;
			if(Obj[ii][obj_RY] > 360.0) Obj[ii][obj_RY] -= 360.0;
			atualizar_objeto(ii);
			salvar_objeto(ii);
			Streamer_Update(playerid);
			OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
		}

		if(listitem == 2)
		{
			Obj[ii][obj_RZ] += 90.0;
			if(Obj[ii][obj_RZ] > 360.0) Obj[ii][obj_RZ] -= 360.0;
			atualizar_objeto(ii);
			salvar_objeto(ii);
			Streamer_Update(playerid);
			OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
		}

		if(listitem == 3)
		{
			if(Objetos[i][obj_Madeiras] > 0 && Madeiras[playerid] < Objetos[i][obj_Madeiras])
			{
				ms(playerid, 0, "You do not have enough wood to copy this object!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				return 1;
			}
			if(Objetos[i][obj_Metais] > 0 && Metais[playerid] < Objetos[i][obj_Metais])
			{
				ms(playerid, 0, "You do not have enough metal to copy this object!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				return 1;
			}
			if(Objetos[i][obj_Pedras] > 0 && Pedras[playerid] < Objetos[i][obj_Pedras])
			{
				ms(playerid, 0, "You do not have enough stone to copy this object!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				return 1;
			}
			if(Objetos[i][obj_Polvoras] > 0 && Polvoras[playerid] < Objetos[i][obj_Polvoras])
			{
				ms(playerid, 0, "You do not have enough gunpowder to copy this object!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				return 1;
			}

			for(new iii; iii<MAX_OBJETOS; iii++)
			{
				if(Obj[iii][obj_Existe] == 0)
				{
					Obj[iii][obj_Existe] = 1;
					Obj[iii][obj_Dinamite] = -1;
					Obj[iii][obj_Vida] = 100;
					Obj[iii][obj_Tipo] = Obj[ii][obj_Tipo];
					Obj[iii][obj_Status] = Obj[ii][obj_Status];
					Obj[iii][obj_Base] = Obj[ii][obj_Base];
					Obj[iii][obj_ID] = Obj[ii][obj_ID];
					Obj[iii][obj_X] = Obj[ii][obj_X];
					Obj[iii][obj_Y] = Obj[ii][obj_Y];
					Obj[iii][obj_Z] = Obj[ii][obj_Z];
					Obj[iii][obj_RX] = Obj[ii][obj_RX];
					Obj[iii][obj_RY] = Obj[ii][obj_RY];
					Obj[iii][obj_RZ] = Obj[ii][obj_RZ];
					atualizar_objeto(iii);
					salvar_objeto(iii);
					Madeiras[playerid] -= Objetos[i][obj_Madeiras];
					Metais[playerid] -= Objetos[i][obj_Metais];
					Pedras[playerid] -= Objetos[i][obj_Pedras];
					Polvoras[playerid] -= Objetos[i][obj_Polvoras];
					EditDynamicObject2(playerid, Obj[iii][obj_Obj], Objetos[i][obj_Modelo]);
					break;
				}
			}
			return 1;
		}

		if(listitem == 4)
		{
			if(Obj[ii][obj_Vida] >= 100)
			{
				ms(playerid, 0, "This object does not need repair!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				return 1;
			}

			if(tem_item(playerid, 90, 15))
			{
				diminuir_ingrediente(playerid, 90, 15);
				Obj[ii][obj_Vida] = 100;
				ms(playerid, 3, "You used 15 scraps from inventory and repaired this object!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
				texto_objeto(ii);
			}
			else
			{
				ms(playerid, 0, "You don't have 15 scraps in your inventory to do this!");
				OnDialogResponse(playerid, DIALOG_BASE10, 1, GetPVarInt(playerid, "iii"), "");
			}
		}

		if(listitem == 5)
		{
			ShowPlayerDialog_(playerid, DIALOG_BASE12, DIALOG_STYLE_MSGBOX, "Delete Object", "{ffffff}Are you sure you want to {ff0000}delete {ffffff}this object from the base?", "Yes", "Cancel");
		}

		return 1;
	}

	if(dialogid == DIALOG_BASE10)
	{
		if(!response) return 1;
		new ii = Objetos_Proximos[playerid][listitem];
		if(ii == -1)
		{
			OnDialogResponse(playerid, DIALOG_BASE, 1, 3, "");
			return 1;
		}

		if(Obj[ii][obj_Existe] == 0)
		{
			ms(playerid, 0, "This object no longer exists!");
			OnDialogResponse(playerid, DIALOG_BASE, 1, 3, "");
			return 1;
		}

		SetPVarInt(playerid, "base", Obj[ii][obj_Base]);
		SetPVarInt(playerid, "ii", ii);
		SetPVarInt(playerid, "iii", listitem);
		ShowPlayerDialog_(playerid, DIALOG_BASE11, DIALOG_STYLE_LIST, Objetos[Obj[ii][obj_ID]][obj_Nome], "Move\nLay down\nRotate\nCopy\nRepair\n{ff0000}Delete", "Continue", "Back");
		return 1;
	}

	if(dialogid == DIALOG_BASE14)
	{
		new i = GetPVarInt(playerid, "base");
		if(!response) return MenuBase(playerid, i);

		if(Base[i][base_Level] < ClasseBase[listitem][classe_Level])
		{
			ms(playerid, 0, "Your base has not reached the required Level for this Class!");
			OnDialogResponse(playerid, DIALOG_BASE, 1, 5, "");
			return 1;
		}

		if(Base[i][base_Classe] == listitem)
		{
			ms(playerid, 0, "Your base is already using this Class!");
			OnDialogResponse(playerid, DIALOG_BASE, 1, 5, "");
			return 1;
		}
		SetPVarInt(playerid, "class", listitem);
		new sss[150];
		format(sss, 150, "\n\n{ffffff}Do you really want to choose the Class {%06x}%s {ffffff}for your base?\n\n", ClasseBase[listitem][classe_Cor] >>> 8, ClasseBase[listitem][classe_Nome]);
		ShowPlayerDialog_(playerid, DIALOG_BASE15, DIALOG_STYLE_MSGBOX, "Choose Class", sss, "Confirm", "Cancel");
		return 1;
	}

	if(dialogid == DIALOG_BASE15)
	{
		if(response)
		{
			new listid = GetPVarInt(playerid, "class");
			new i = GetPVarInt(playerid, "base");
			setar_classe_base(i, listid);
		}
		else OnDialogResponse(playerid, DIALOG_BASE, 1, 5, "");
		return 1;
	}

	if(dialogid == DIALOG_BASE9)
	{
		new i = GetPVarInt(playerid, "base");
		if(!response) return MenuBase(playerid, i);
		new achou;
		if(Comparar(Nome(playerid), Membro[i][0]))
		{
			ms(playerid, 1, "You left the base members list.");
			format(Membro[i][0], MAX_PLAYER_NAME, Nome(-1));
			for(new iii=1; iii<MAX_MEMBROS; iii++)
			{
				if(!Comparar(Nome(-1), Membro[i][iii]))
				{
					format(str, 200, "The leader '%s' left the base, '%s' became the new leader.", Nome(playerid), Membro[i][iii]);
					escrever_log_base(i, str);

					achou = 1;
					format(Membro[i][0], MAX_PLAYER_NAME, Membro[i][iii]);
					format(Membro[i][iii], MAX_PLAYER_NAME, Nome(-1));
					if(IsPlayerOnline(Membro[i][0]))
					{
						new id = GetPlayerID(Membro[i][0]);
						if(Online(id))
						{
							ms(playerid, 3, "The leader left the Base, you are now the new Owner.");
						}
					}
					break;
				}
			}

			if(achou == 0)
			{
				ms(playerid, 1, "The base was destroyed!");
				destruir_base(i);
				return 1;
			}

			format(str, 150, "Player '%s' left the base members list.", Nome(playerid));
			escrever_log_base(i, str);
			for(new p; p<MAX_PLAYERS; p++)
			{
				if(Online(p))
				{
					if(BasePlayer(p) == i)
					{
						ms(p, 3, str);
					}
				}
			}
			atualizar_base(i, 1);
			salvar_base(i);
			base_player[playerid] = -1;
			return 1;
		}

		for(new ii; ii<MAX_MEMBROS; ii++)
		{
			if(Comparar(Nome(playerid), Membro[i][ii]))
			{
				format(str, 150, "Player '%s' left the base members list.", Nome(playerid));
				escrever_log_base(i, str);
				format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
				for(new p; p<MAX_PLAYERS; p++)
				{
					if(Online(p))
					{
						if(BasePlayer(p) == i)
						{
							ms(p, 3, str);
						}
					}
				}
				ms(playerid, 1, "You left the base members list.");
				atualizar_base(i, 1);
				salvar_base(i);
				base_player[playerid] = -1;
				return 1;
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_BASE8)
	{
		new i = GetPVarInt(playerid, "base");
		new ii = GetPVarInt(playerid, "membro");

		if(response)
		{
			format(Membro[i][0], MAX_PLAYER_NAME, Membro[i][ii]);
			format(Membro[i][ii], MAX_PLAYER_NAME, Nome(playerid));
			format(str, 150, "You have passed the Base leadership to '%s'.", Membro[i][0]);
			ms(playerid, 1, str);

			format(str, 150, "The Leader '%s' has passed the Base leadership to '%s'.", Nome(playerid), Membro[i][0]);
			escrever_log_base(i, str);

			if(IsPlayerOnline(Membro[i][0]))
			{
				format(str, 150, "%s has passed the Base leadership to you.", Nome(playerid));
				ms(GetPlayerID(Membro[i][0]), 3, str);
			}
			MenuBase(playerid, i);
			atualizar_base(i, 1);
			salvar_base(i);
			return 1;
		}

		OnDialogResponse(playerid, DIALOG_BASE2, 1, ii, "");
		return 1;
	}

	if(dialogid == DIALOG_BASE7)
	{
		if(response) // request to join //
		{
			new string[1000];
			new i = GetPVarInt(playerid, "base");
			if(BasePlayer(playerid) != -1)
			{
				ms(playerid, 0, "You are already part of a base.");
				return 1;
			}
			else if(GetPVarInt(playerid, "flood_pedir") > gettime())
			{
				return ms(playerid, 0, "You can only request to join a base every 5 minutes.");
			}
			else
			{
				format(string, 150, "Player '%s' has requested to join the Base members list.", Nome(playerid));
				new tem;

				if(IsPlayerOnline(Membro[i][0]))
				{
					ms(GetPlayerID(Membro[i][0]), 3, string);
					ms(GetPlayerID(Membro[i][0]), 3, "Use /acceptrequest to add them.");
					tem = 1;
				}

				if(IsPlayerOnline(Membro[i][1]))
				{
					ms(GetPlayerID(Membro[i][1]), 3, string);
					ms(GetPlayerID(Membro[i][1]), 3, "Use /acceptrequest to add them.");
					tem = 1;
				}

				if(IsPlayerOnline(Membro[i][2]))
				{
					ms(GetPlayerID(Membro[i][2]), 3, string);
					ms(GetPlayerID(Membro[i][2]), 3, "Use /acceptrequest to add them.");
					tem = 1;
				}

				if(tem == 1)
				{
					ms(playerid, 3, "You requested to join the members list; if the Owner is online, they will see your request.");
					SetPVarInt(playerid, "entrar_base", i);
					SetPVarInt(playerid, "flood_pedir", gettime() + (5 * 60));
				}
				else ms(playerid, 0, "The Owner and Sub Owners of the Base are not online, try again later.");
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_BASE6)
	{
		new ii = GetPVarInt(playerid, "membro");
		OnDialogResponse(playerid, DIALOG_BASE2, 1, ii, "");
		return 1;
	}

	if(dialogid == DIALOG_BASE5)
	{
		new i = GetPVarInt(playerid, "base");
		new ii = GetPVarInt(playerid, "membro");
		if(!response) return MenuBase(playerid, i, 50);

		for(new ca; ca < MAX_CAMERAS; ca++)
		{
			if(Camera[ca][ca_Existe] == 0) continue;
			if(Comparar(Membro[i][ii], Camera[ca][ca_Dono]))
			{
				Camera[ca][ca_Base] = -1;
				salvar_camera(ca);
			}
		}

		format(str, 200, "The leader '%s' expelled '%s' from the base.", Nome(playerid), Membro[i][ii]);
		escrever_log_base(i, str);

		if(IsPlayerOnline(Membro[i][ii]))
		{
			new id = GetPlayerID(Membro[i][ii]);
			format(str, 300, "You were expelled from the base members list '%s'.", Base[i][base_Nome]);
			ms(id, 3, str);
			base_player[id] = -1;
		}

		format(str, 300, "You expelled '%s' from the base members list.", Membro[i][ii]);
		format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
		ms(playerid, 1, str);
		MenuBase(playerid, i, 2);
		salvar_base(i);
		return 1;
	}

	if(dialogid == DIALOG_BASE4)
	{
		new ii = GetPVarInt(playerid, "membro");
		new i = GetPVarInt(playerid, "base");
		if(!response) return MenuBase(playerid, i, 2);

		if(listitem == 0) // expel //
		{
			format(str, 300, "{ffffff}Are you sure you want to expel {00ffff}%s{ffffff} from the\nbase members list?", Membro[i][ii]);
			ShowPlayerDialog_(playerid, DIALOG_BASE5, DIALOG_STYLE_MSGBOX, "Expel member", str, "Yes", "No");
		}

		if(listitem == 1) // information //
		{
			new string[1000];
			if(IsPlayerOnline(Membro[i][ii]))
			{
				new id = GetPlayerID(Membro[i][ii]);
				format(string, 1000,
					"\n{ffffff}Nick: {ffff00}%s\n\
					{ffffff}Level: {00ffff}%d\n\n\
					{ffffff}Last Login of this Member\n\
					{a1a1a1}%02d/%02d/%04d at %02d:%02d\n\n", Membro[i][ii], pInfo[id][pLevel],
					pInfo[id][pDia], pInfo[id][pMes], pInfo[id][pAno], pInfo[id][pHora], pInfo[id][pMinuto]);
			}
			else
			{
				new file[80];
				format(file, 80, "Whitelist/%s.txt", Membro[i][ii]);
				format(string, 1000,
					"\n{ffffff}Nick: {ffff00}%s\n\
					{ffffff}Level: {00ffff}%d\n\
					{ffffff}Last Login: {a1a1a1}%02d/%02d/%04d - %02d:%02\n\n", Membro[i][ii], DOF2_GetInt(file, "pLevel"),
					DOF2_GetInt(file, "pDia"), DOF2_GetInt(file, "pMes"), DOF2_GetInt(file, "pAno"), DOF2_GetInt(file, "pHora"),
					DOF2_GetInt(file, "pMinuto"));
			}
			ShowPlayerDialog_(playerid, DIALOG_BASE6, DIALOG_STYLE_MSGBOX, "Information", string, "Ok", "Back");
		}

		if(listitem == 2) // pass leadership //
		{
			format(str, 300, "{ffffff}Are you sure you want to pass the leadership of your Base to {00ffff}%s?", Membro[i][ii]);
			ShowPlayerDialog_(playerid, DIALOG_BASE8, DIALOG_STYLE_MSGBOX, "New leadership", str, "Yes", "No");
		}

		if(listitem == 3) // set or remove sub-owner //
		{
			if(GetPVarInt(playerid, "subs") == 0)
			{
				if(Comparar(Nome(-1), Membro[i][1]))
				{
					format(Membro[i][1], MAX_PLAYER_NAME, Membro[i][ii]);
					format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
					if(IsPlayerOnline(Membro[i][ii]))
					{
						new ids = GetPlayerID(Membro[i][ii]);
						format(str, 300, "The Leader/Owner %s has set you as a Sub Owner of Base %s.", Nome(playerid), Base[i][base_Nome]);
						ms(ids, 4, str);
					}
					format(str, 300, "You set %s as a Sub Owner of Base %s.", Membro[i][ii], Base[i][base_Nome]);
					ms(playerid, 4, str);
					SetPVarInt(playerid, "membro", 1);
					MenuBase(playerid, i, 50);
					salvar_base(i);
					return 1;
				}

				if(Comparar(Nome(-1), Membro[i][2]))
				{
					format(Membro[i][2], MAX_PLAYER_NAME, Membro[i][ii]);
					format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
					if(IsPlayerOnline(Membro[i][ii]))
					{
						new ids = GetPlayerID(Membro[i][ii]);
						format(str, 300, "The Leader/Owner %s has set you as a Sub Owner of Base %s.", Nome(playerid), Base[i][base_Nome]);
						ms(ids, 4, str);
					}
					format(str, 300, "You set %s as a Sub Owner of Base %s.", Membro[i][ii], Base[i][base_Nome]);
					ms(playerid, 4, str);
					SetPVarInt(playerid, "membro", 2);
					MenuBase(playerid, i, 50);
					salvar_base(i);
					return 1;
				}
				ms(playerid, 0, "Sub Leader slots are currently full!");
				MenuBase(playerid, i, 50);
			}
			else
			{
				for(new aa = 3; aa < MAX_MEMBROS; aa++)
				{
					if(Comparar(Nome(-1), Membro[i][aa]))
					{
						format(Membro[i][aa], MAX_PLAYER_NAME, Membro[i][ii]);
						format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
						if(IsPlayerOnline(Membro[i][aa]))
						{
							new ids = GetPlayerID(Membro[i][aa]);
							format(str, 300, "The Leader/Owner %s has removed you as a Sub Owner of Base %s.", Nome(playerid), Base[i][base_Nome]);
							ms(ids, 4, str);
						}
						format(str, 300, "You removed %s from Sub Owner of Base %s.", Membro[i][aa], Base[i][base_Nome]);
						ms(playerid, 4, str);
						SetPVarInt(playerid, "membro", aa);
						MenuBase(playerid, i, 50);
						salvar_base(i);
						return 1;
					}
				}
				ms(playerid, 0, "Member slots are full, please clear a slot and try again!");
				MenuBase(playerid, i, 50);
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_BASE3)
	{
		new i = GetPVarInt(playerid, "base");
		if(!response) return MenuBase(playerid, i);
		if(strlen(inputtext) < 4)
		{
			ms(playerid, 0, "The name must have at least 4 characters.");
			MenuBase(playerid, i, 3);
			return 1;
		}

		format(str, 300, "You changed the base name to '%s'.", inputtext);
		ms(playerid, 1, str);
		format(Base[i][base_Nome], 40, inputtext);
		atualizar_base(i, 1);
		salvar_base(i);
		MenuBase(playerid, i);
		return 1;
	}

	if(dialogid == DIALOG_BASE2)
	{
		new i = GetPVarInt(playerid, "base");
		if(!response) return MenuBase(playerid, i);
		if(!Comparar(Nome(playerid), Membro[i][0]) && !Comparar(Nome(playerid), Membro[i][1]) && !Comparar(Nome(playerid), Membro[i][2]))
		{
			ms(playerid, 0, "Only the Owner and Subs can do this!");
			MenuBase(playerid, 2);
			return 1;
		}
		if(listitem == 0)
		{
			ms(playerid, 0, "The Base Leader slot cannot be changed.");
			MenuBase(playerid, i, 2);
			return 1;
		}

		if(Comparar(Nome(-1), Membro[i][listitem]))
		{
			ms(playerid, 0, "Empty slot!");
			MenuBase(playerid, i, 2);
			return 1;
		}

		if(listitem == 1 || listitem == 2)
		{
			if(!Comparar(Nome(playerid), Membro[i][0]))
			{
				ms(playerid, 0, "Only the Owner can change the Sub slots.");
				MenuBase(playerid, i, 2);
				return 1;
			}
		}

		SetPVarInt(playerid, "membro", listitem);
		MenuBase(playerid, i, 50);
		return 1;
	}

	if(dialogid == DIALOG_BASE)
	{
		if(!response) return 1;
		new i = GetPVarInt(playerid, "base");
		MenuBase(playerid, i, listitem+1);
		return 1;
	}

	if(dialogid == DIALOG_LOGAR)
	{
		if(response)
		{
			new file[80];
			format(file, 80, "Whitelist/%s.txt", Nome(playerid));
			if(DOF2_FileExists(file))
			{
				if(strlen(inputtext) == 0)
				{
					BotaoEntrar(playerid);
					ms(playerid, 0, "Incorrect password!");
					return 1;
				}

				if(!Comparar(inputtext, DOF2_GetString(file, "senha")))
				{
					BotaoEntrar(playerid);
					ms(playerid, 0, "Incorrect password!");
					return 1;
				}

				if(!VerificarNick(Nome(playerid)))
				{
					BasePlayer2(playerid);
					mudar_novo_nick(playerid);
					return 1;
				}

				TogglePlayerSpectating(playerid, false);
				Logado[playerid] = 1;
				Modo[playerid] = 0;
				carregarplayer(playerid);
				SpawnPlayer(playerid);
				ms(playerid, 1, "You have successfully logged in.");
				carregar_veiculos_player(playerid);

				new dd, mm, aa, hh, mi, ss;
				gettime(hh, mi, ss);
				getdate(aa, mm, dd);
				DOF2_SetInt(file, "pDia", dd);
				DOF2_SetInt(file, "pMes", mm);
				DOF2_SetInt(file, "pAno", aa);
				DOF2_SetInt(file, "pHora", hh);
				DOF2_SetInt(file, "pMinuto", mi);
				DOF2_SetInt(file, "pSegundo", dd);
				DOF2_SaveFile();
			}
		}
		return 1;
	}

	if(dialogid == DIALOG_CRIAR_CONTA)
	{
		if(response)
		{
			if(strlen(inputtext) < 4 || strlen(inputtext) > 12)
			{
				BotaoEntrar(playerid);
				ms(playerid, 0, "Your password must be between 4 and 12 characters!");
				return 1;
			}
			format(senhaplayer[playerid], 20, inputtext);
			escolher_sexo(playerid);
		}
		return 1;
	}

	if(dialogid == DIALOG_PVP)
	{
		if(response)
		{
			if(Modo[playerid] != 0) return ms(playerid, 0, "Return to the Lobby to create or join a PVP room.");
			if(listitem == 0)
			{
				if(SalaPlayer[playerid] == -1)
				{
					for(new i; i < MAX_SALAS; i++)
					{
						if(Sala[i][sala_Existe] == 0)
						{
							Sala[i][sala_Existe] = 1;
							tempo_mudar[i] = 5;
							Sala[i][sala_Jogando] = 0;
							Sala[i][sala_Rounds] = 3;
							Sala[i][sala_Tempo] = 90;
							Sala[i][sala_Mapa] = 0;
							format(Sala[i][sala_Nome], 60, Nome(playerid));
							Sala[i][sala_Senha] = 0;
							dono_sala[playerid] = 1;
							SalaPlayer[playerid] = i;
							TimePlayer[playerid] = 0;
							MostrarSala(playerid, 0);
							esconderLobby(playerid);
							ms(playerid, 1, "You created a New Room");
							// hide cash textdraw //
							PlayerTextDrawHide(playerid, T_Cash[playerid][0]);
							PlayerTextDrawHide(playerid, T_Cash[playerid][1]);
							GZ_EsconderGzPlayer(playerid, GZ_PRETA);
							return 1;
						}
					}
				}
				return 1;
			}

			new s = Salas[playerid][listitem-1];

			if(s == -1)
			{
				ms(playerid, 0, "No room available at the moment, please try again!");
				funcao_pvp(playerid);
				return 1;
			}

			if(Sala[s][sala_Existe] == 0)
			{
				ms(playerid, 0, "This room no longer exists.");
				funcao_pvp(playerid);
				return 1;
			}
			if(Sala[s][sala_Jogando] == 1)
			{
				ms(playerid, 0, "The Room match has already started!");
				funcao_pvp(playerid);
				return 1;
			}

			if(!setar_sala(playerid, s))
			{
				ms(playerid, 0, "The room is full!");
				funcao_pvp(playerid);
				return 1;
			}

			if(Sala[s][sala_Senha] == 1)
			{
				ms(playerid, 0, "The room is Closed!");
				funcao_pvp(playerid);
				return 1;
			}

			ms(playerid, 1, "You have entered the room.");
			format(str, 120, "Player %s entered the room.", Nome(playerid));
			msg_sala(s, str, playerid);
			Sala_(s, 5);
		}
		return 1;
	}

	if(dialogid == DIALOG_KIKAR_SALA)
	{
		if(response)
		{
			new id = Players[playerid][listitem];
			if(id == -1)
			{
				if(SalaPlayer[playerid] != -1)
				{
					lista_kikar(playerid, SalaPlayer[playerid]);
					return 1;
				}
			}

			if(!Online(id))
			{
				ms(playerid, 0, "This player is no longer online.");
				lista_kikar(playerid, SalaPlayer[playerid]);
				return 1;
			}

			if(Logado[id] == 0)
			{
				ms(playerid, 0, "This player is no longer online.");
				lista_kikar(playerid, SalaPlayer[playerid]);
				return 1;
			}

			if(SalaPlayer[id] != SalaPlayer[playerid])
			{
				ms(playerid, 0, "This player is no longer in the room.");
				lista_kikar(playerid, SalaPlayer[playerid]);
				return 1;
			}

			sair_sala(id, SalaPlayer[playerid]);
			ms(id, 3, "You have been kicked from the room.");
			ms(playerid, 1, "You kicked this player from the room.");
			lista_kikar(playerid, SalaPlayer[playerid]);
			esconder_resultado(id);
		}
		return 1;
	}


	if(dialogid == DIALOG_CONVIDAR_SALA2)
	{
		if(Modo[playerid] != 0) return 1;

		if(response)
		{
			new s = GetPVarInt(playerid, "sala_convite");
			if(Sala[s][sala_Existe] == 0)
			{
				ms(playerid, 0, "This room no longer exists.");
				return 1;
			}
			if(Sala[s][sala_Jogando] == 1)
			{
				ms(playerid, 0, "The room match has already started!");
				return 1;
			}
			if(pInfo[playerid][pCadeia] > 0)
			{
				ms(playerid, 0, "You must serve your punishment!");
				return 1;
			}
			if(!setar_sala(playerid, s))
			{
				ms(playerid, 0, "The room is full!");
				return 1;
			}

			ms(playerid, 1, "You entered the room.");
			Sala_(s, 5);
		}
		return 1;
	}


	if(dialogid == DIALOG_CONVIDAR_SALA)
	{
		if(response)
		{
			new id = Players[playerid][listitem];
			if(id == -1)
			{
				if(SalaPlayer[playerid] != -1)
				{
					lista_convidar(playerid);
					return 1;
				}
			}

			if(Online(id))
			{
				if(Logado[id] == 0)
				{
					ms(playerid, 0, "This player is no longer online.");
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
				if(Modo[id] != 0)
				{
					ms(playerid, 0, "This player is already playing.");
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
				if(SalaPlayer[id] != -1)
				{
					ms(playerid, 0, "This player is already in a room.");
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
				if(pInfo[id][pCadeia] > 0)
				{
					ms(playerid, 0, "This player is currently serving a punishment.");
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
				if(GetPVarInt(id, "flood_convite") < gettime())
				{
					if(SalaPlayer[playerid] == -1)
					{
						ms(playerid, 0, "You are no longer in a room.");
						if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
						return 1;
					}
					format(str, 300, "{ffffff}Player {00ffff}%s {ffffff}is inviting you to their {ff00ff}PVP Room{ffffff}.", Nome(playerid));
					SetPVarInt(id, "flood_convite", gettime() + 10);
					SetPVarInt(id, "sala_convite", SalaPlayer[playerid]);
					ShowPlayerDialog_(id, DIALOG_CONVIDAR_SALA2, DIALOG_STYLE_MSGBOX, "New PVP Room Invitation", str, "Accept", "Decline");
					format(str, 300, "{ffffff}You invited {00ffff}%s {ffffff}to your {ff00ff}PVP Room{ffffff}.", Nome(id));
					ms(playerid, 3, str);
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
				else
				{
					ms(playerid, 0, "This player has been invited to a room recently.");
					if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
					return 1;
				}
			}
			else
			{
				ms(playerid, 0, "This player is no longer online.");
				if(SalaPlayer[playerid] != -1) lista_convidar(playerid);
				return 1;
			}
		}

		return 1;
	}


	if(dialogid == DIALOG_CAMERAS3)
	{
	    new c = GetPVarInt(playerid, "camera");
	    if(response)
	    {
	        if(strlen(inputtext) < 1)
	        {
	            MostrarCameras(  playerid, 2, c);
	            return 1;
	        }
	        format(Camera[c][ca_Nome], 100, "%s", inputtext);
	        MostrarCameras( playerid, 1, c);
	        salvar_camera(c);
	    }
	    else MostrarCameras( playerid, 1, c);
	    return 1;
	}
	
	if(dialogid == DIALOG_CAMERAS2)
	{
		new c = GetPVarInt(playerid, "camera");
		if(response)
		{
			if(listitem == 0)
			{
				VerCamera(playerid, c);
			}
			if(listitem == 1)
			{
				MostrarCameras(playerid, 2, c);
			}
			if(listitem == 2)
			{
				GetPlayerPos(playerid, Camera[c][ca_XX], Camera[c][ca_YY], Camera[c][ca_ZZ]);
				salvar_camera(c);
				MostrarCameras(playerid, 1, c);
				ms(playerid, 1, "The camera focus was successfully saved!");
			}
			if(listitem == 3)
			{
				EditDynamicObject2(playerid, Camera[c][ca_Obj], 1886);
			}
			if(listitem == 4)
			{
				if(SlotsVazios(playerid) == 0)
				{
					ms(playerid, 0, "Your inventory is full!");
					MostrarCameras(playerid, 1, c);
					return 1;
				}
				AddInv(playerid, 1, 1);
				DestruirCamera(c);
				MostrarCameras(playerid, 0, -1);
				salvarinv(playerid);
			}
		}
		else MostrarCameras(playerid, 0, -1);
		return 1;
	}

	if(dialogid == DIALOG_CAMERAS)
	{
		new c = cameras[playerid][listitem];
		if(response)
		{
			if(c == -1)
			{
				ms(playerid, 0, "You don't have a camera installed!");
				MostrarCameras(playerid, 0, -1);
				return 1;
			}

			if(Camera[c][ca_Existe] == 1)
			{
				if(Comparar(Nome(playerid), Camera[c][ca_Dono]))
				{
					if(olhando_camera[playerid] != -1) VerCamera(playerid, c);
					else MostrarCameras(playerid, 1, c);
				}
				else
				{
					VerCamera(playerid, c);
				}
			}
		}
		return 1;
	}


	if(dialogid == DIALOG_DESTRUIR_PEDRA)
	{
	    new i = GetPVarInt(playerid, "id_pedra");
	    if(response)
	    {
	        if(Pedra[i][ar_Existe] == 1)
	        {
	            DestruirPedra(i);
	        }
	    }
        DeletePVar(playerid, "id_pedra");
	}

	if(dialogid == DIALOG_DESTRUIR_ARVORE)
	{
	    new i = GetPVarInt(playerid, "id_arvore");
	    if(response)
	    {
	        if(Arvore[i][ar_Existe] == 1)
	        {
	            DestruirArvore(i);
	        }
	    }
        DeletePVar(playerid, "id_arvore");
	}

	if(dialogid == DIALOG_SEPARAR)
	{
		if(response)
		{
			if(!IsNumeric(inputtext) || strlen(inputtext) > 5) // validasi digit maksimal 5
			{
				ShowPlayerDialog_(playerid, DIALOG_SEPARAR, DIALOG_STYLE_INPUT,
					Itens[Inventario[playerid][separando[playerid]][inv_ID]][item_Nome],
					"{00ffff}INFO {ffffff}Masukkan jumlah unit yang ingin dipisahkan:",
					"Lanjutkan", "Batal");

				ms(playerid, 0, "Gunakan hanya angka, maksimal 5 digit!");
				return 1;
			}

			new jumlah = strval(inputtext);

			if(jumlah <= 0)
			{
				ShowPlayerDialog_(playerid, DIALOG_SEPARAR, DIALOG_STYLE_INPUT,
					Itens[Inventario[playerid][separando[playerid]][inv_ID]][item_Nome],
					"{00ffff}INFO {ffffff}Masukkan jumlah unit yang ingin dipisahkan:",
					"Lanjutkan", "Batal");

				ms(playerid, 0, "Masukkan jumlah lebih dari 0!");
				return 1;
			}

			if(jumlah >= Inventario[playerid][separando[playerid]][inv_Unidades])
			{
				ShowPlayerDialog_(playerid, DIALOG_SEPARAR, DIALOG_STYLE_INPUT,
					Itens[Inventario[playerid][separando[playerid]][inv_ID]][item_Nome],
					"{00ffff}INFO {ffffff}Masukkan jumlah unit yang ingin dipisahkan:",
					"Lanjutkan", "Batal");

				ms(playerid, 0, "Masukkan jumlah yang lebih kecil dari jumlah yang kamu punya!");
				return 1;
			}

			if(SlotsVazios(playerid) == 0)
			{
				ms(playerid, 0, "Inventorimu sudah penuh!");
				separando[playerid] = -1;
				return 1;
			}

			AddInv2(playerid,
				Inventario[playerid][separando[playerid]][inv_ID],
				jumlah,
				Inventario[playerid][separando[playerid]][inv_Tipo]);

			Inventario[playerid][separando[playerid]][inv_Unidades] -= jumlah;

			abririnv(playerid, 2);
			ms(playerid, 2, "Kamu berhasil memisahkan item ini.");
			fechar_opcoes(playerid);
			salvarinv(playerid);
		}
		else
		{
			separando[playerid] = -1;
		}
		return 1;
	}


	if(dialogid == DIALOG_ANIMS_INCLUDE)
	{
	    if(response)
		{
			ShowAnimsLib(playerid,GetAnimsLibFromId(listitem));
			anims_lastlib[playerid] = "\0";
			strcat(anims_lastlib[playerid], GetAnimsLibFromId(listitem));
		}
		else anims_lastlib[playerid] = "\0";
		return 1;
	}

	if(dialogid == DIALOG_ANIMS_INCLUDE2)
	{
	    if(response)
		{
			anims_String = "\0";//Reset the global string
			format(anims_String,sizeof(anims_String),"[SERVER] Running animation (Animations/%s/%s)",anims_lastlib[playerid],inputtext);
			SendClientMessage(playerid, 0xF2FF00AA, anims_String);
			ApplyAnimation(playerid, n_animtrim(anims_lastlib[playerid]), n_animtrim(inputtext), 4.1, 1, 0, 0, 0, 0, 1);
		}
		else
		{
			anims_lastlib[playerid] = "\0";
			ShowAnimsDialog(playerid);
		}
		return 1;
	}


	return 1;
}


public OnPlayerClickPlayer(playerid, clickedplayerid, source)
{
    if(IsPlayerNPC(playerid)) return 0;

    /*
    if(PlayerRT(playerid))
    {
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}SUSPEITA DE POSSIVEL RT\n\n{a1a1a1}Por favor relogue, voce pode estar com um ping muito elevado ou\nseu relogio esta travado, isso faz com que algums sistemas\ndo servidor nao funcionem muito bem.", "Ok", "Fechar");
        return 1;
    }
    */

    new sss[150];
    format(sss, 150, "%d", clickedplayerid);
	cmd_info(playerid, sss);
	return 1;
}

public OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)
{
    if(IsPlayerNPC(playerid)) return 0;
	if(dialog_player[playerid] != -1) return 1;

	/*
	if(PlayerRT(playerid))
    {
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}SUSPEITA DE POSSIVEL RT\n\n{a1a1a1}Por favor relogue, voce pode estar com um ping muito elevado ou\nseu relogio esta travado, isso faz com que algums sistemas\ndo servidor nao funcionem muito bem.", "Ok", "Fechar");
        return 1;
    }
    */


    // menu //
    for(new m; m<7; m++)
    {
        if(playertextid == T_Menu_p[playerid][m+4])
        {
            new i = m+(pagina_menu[playerid]*7);
            if(escolhendo_menu[playerid] == i) return 1;
            escolhendo_menu[playerid] = i;
           	mostrar_menu(playerid, menu_id[playerid]);
           	return 1;
		}
    }

    // confirmar menu //
	if(playertextid == T_Menu_p[playerid][1])
	{
	    RespostaMenu(playerid, menu_id[playerid], 1, escolhendo_menu[playerid]);
	    return 1;
	}

	for(new as; as < 5; as++)
	{
		// free rewards //
		if(playertextid == T_Passe_p[playerid][as+1])
		{
			new sss[150];
			new id_item = as + (PaginaPasseFree[playerid] * 5);
			if(PremioRecolhidoFree[playerid][id_item] == 1) return 1;
			if(PremioRecolhidoFree[playerid][id_item] == -1)
			{
				format(sss, 150, "\n\n{ff0000}[INFO] {a1a1a1}The pass level '{ffffff}%d{a1a1a1}' has not been reached yet!\n\n", id_item + 1);
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
				return 1;
			}

			if(SlotsVaziosLobby(playerid) == 0)
			{
				format(sss, 150, "\n\n{ff0000}[INFO] {a1a1a1}Your Lobby inventory is full!\n\n");
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
				return 1;
			}

			format(sss, 150, "\n\n{00ff00}[INFO] {ffffff}Reward claimed successfully!\n{a1a1a1}Check your Lobby inventory\n\n");
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
			AddInvLobby(playerid, PremiosPasseFree[id_item][0], PremiosPasseFree[id_item][1], PremiosPasseFree[id_item][2]);
			PremioRecolhidoFree[playerid][id_item] = 1;
			salvarpasse(playerid);
			salvarinvLobby(playerid);
			atualizarpaginafree(playerid);
		}

		// paid rewards //
		if(playertextid == T_Passe_p[playerid][as + 16])
		{
			new sss[150];
			new id_item = as + (PaginaPassePago[playerid] * 5);
			if(PremioRecolhidoPago[playerid][id_item] == 1) return 1;

			if(PlayerPasse[playerid] == 0)
			{
				format(sss, 150, "\n\n{ff0000}[INFO] {a1a1a1}You do not have the season pass! You cannot claim these rewards.\n\n");
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
				return 1;
			}

			if(PremioRecolhidoPago[playerid][id_item] == -1)
			{
				format(sss, 150, "\n\n{ff0000}[INFO] {a1a1a1}The pass level '{ffffff}%d{a1a1a1}' has not been reached yet!\n\n", id_item + 1);
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
				return 1;
			}

			if(SlotsVaziosLobby(playerid) == 0)
			{
				format(sss, 150, "\n\n{ff0000}[INFO] {a1a1a1}Your Lobby inventory is full!\n\n");
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
				return 1;
			}

			format(sss, 150, "\n\n{00ff00}[INFO] {ffffff}Reward claimed successfully!\n{a1a1a1}Check your Lobby inventory\n\n");
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", sss, "Ok", "Close");
			AddInvLobby(playerid, PremiosPassePago[id_item][0], PremiosPassePago[id_item][1], PremiosPassePago[id_item][2]);
			PremioRecolhidoPago[playerid][id_item] = 1;
			salvarpasse(playerid);
			salvarinvLobby(playerid);
			atualizarpaginapago(playerid);
		}
	}

	if(playertextid == TextSalas_p[playerid][3])
	{
		if(dono_sala[playerid] == 1)
		{
			if(SalaPlayer[playerid] == -1) return 1;
			if(!tem_dois_times(SalaPlayer[playerid])) return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ffffff}One of the teams is incomplete!", "Ok", "Close");
			new stt[150];
			format(stt, 150, "\n{ffffff}Player {ffff00}%s {ffffff}is not ready yet!\n\n", Nome(pode_iniciar(SalaPlayer[playerid])));
			if(pode_iniciar(SalaPlayer[playerid]) != -1) return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", stt, "Ok", "Close");
			iniciar_sala(SalaPlayer[playerid]);
		}
		else
		{
			if(Pronto[playerid] == 0) Pronto[playerid] = 1;
			else Pronto[playerid] = 0;
			Sala_(SalaPlayer[playerid], 5);
		}
		return 1;
	}


	for(new ll; ll<6; ll++)
	{
	    if(playertextid == T_PortaMalasModelo_p[playerid][ll])
	    {
	        if(Modo[playerid] != 1)
	        {
	            fechar_portamalas(playerid);
	            if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
	            return 1;
	        }

			new frt = mostrando_portamalas[playerid];
			if(frt != -1)
			{
			    new ff = ll + (pagina_portamalas[playerid]*6);
			    if(ff < 0 || ff >= MAX_PORTA_MALAS)
			    {
			        selecionando_portamalas[playerid] = -1;
		            abrir_portamalas(playerid, frt);
			        return 1;
			    }
		        new aa = ListaPortaMalas[playerid][ff];
		        if(aa < 0 || aa >= MAX_PORTA_MALAS)
		        {
		            selecionando_portamalas[playerid] = -1;
		            abrir_portamalas(playerid, frt);
		            return 1;
		        }
		        if(selecionando_portamalas[playerid] != aa)
		        {
                    selecionando_portamalas[playerid] = aa;
                    abrir_portamalas(playerid, frt);
		        }
		        else
		        {
		            pegar_portamalas(playerid, aa);
		        }
	        }
	        return 1;
	    }
	}

	for(new ooo; ooo<8; ooo++)
	{
	    if(playertextid == TextLojaCash_p[playerid][ooo])
	    {
	        if(id_loja_cash[playerid] != ooo + (pagina_loja_cash[playerid]*8))
	        {
	        	id_loja_cash[playerid] = ooo + (pagina_loja_cash[playerid]*8);
	        	abrir_loja(playerid, 3);
	        }
	        return 1;
	    }
	}

	for(new a; a<5; a++)
	{
	    if(playertextid == TextLoja_p[playerid][a])
	    {
	        if(a == 0)  item_loja[playerid] = 4;
	        if(a == 1)  item_loja[playerid] = 3;
	        if(a == 2)  item_loja[playerid] = 2;
	        if(a == 3)  item_loja[playerid] = 1;
	        if(a == 4)  item_loja[playerid] = 0;
	        pagina_loja[playerid] = 0;
            MostrarLoja(playerid, 2);
	        return 1;
	    }
	}

	for(new il; il<6; il++)
	{
	    if(playertextid == T_Inv_Lobby_p[playerid][il])
	    {
	        new iii = il + (pagina_Lobby[playerid]*6);
	        if(iii < 0 || iii >= MAX_LOBBY)
			{
			    abrir_inv_Lobby(playerid, 10);
			    return 1;
			}
	        escolhendo_Lobby[playerid] = Lista_Lobby[playerid][iii];
	        if(escolhendo_Lobby[playerid] < 0 || escolhendo_Lobby[playerid] >= MAX_LOBBY)
	        {
	            abrir_inv_Lobby(playerid, 10);
			    return 1;
	        }
	        Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Visto] = 1;
	        abrir_inv_Lobby(playerid, 2);
	        return 1;
	    }
	}

	for(new o; o < 12; o++)
	{
		if(playertextid == InvItens[playerid][o])
		{
			if(Modo[playerid] != 1)
			{
				fecharinv(playerid);
				if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
				return 1;
			}

			new idlist = o + (pagina_itens[playerid] * 12);
			if(guardando[playerid] == 1)
			{
				if(idlist >= 0 && idlist < MAX_SLOTS)
				{
					if(escolhendo[playerid] == Lista_Inventario[playerid][idlist])
					{
						new porta_malas = GetPVarInt(playerid, "id_info");
						if(porta_malas == -1) return 1;
						new slot = escolhendo[playerid];
						if(slot == -1) return 1;
						new id = Inventario[playerid][slot][inv_ID];
						if(Veiculo[porta_malas][v_Trancado] == 1) return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Trunk", "{FF0000}[ERROR] {A1A1A1}The vehicle is locked, cannot open the trunk!", "Ok", "Close");

						new Float:p[3];
						new vv = GetPVarInt(playerid, "veiculo");
						GetVehiclePos(vv, p[0], p[1], p[2]);
						if(!IsPlayerInRangeOfPoint(playerid, 10, p[0], p[1], p[2]))
						{
							fechar_portamalas(playerid);
							ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Trunk", "{FF0000}[ERROR] {A1A1A1}You are too far from the vehicle!", "Ok", "Close");
							return 1;
						}

						for(new po; po < MAX_PORTA_MALAS; po++)
						{
							if(PortaMalas[porta_malas][po][inv_ID] == 0)
							{
								PortaMalas[porta_malas][po][inv_ID] = Inventario[playerid][slot][inv_ID];
								PortaMalas[porta_malas][po][inv_Unidades] = Inventario[playerid][slot][inv_Unidades];
								PortaMalas[porta_malas][po][inv_Tipo] = Inventario[playerid][slot][inv_Tipo];
								Inventario[playerid][slot][inv_ID] = 0;
								Inventario[playerid][slot][inv_Unidades] = 0;
								Inventario[playerid][slot][inv_Tipo] = 0;
								format(string_prox, 300, " %s stored %s %s in the trunk of vehicle '%s' ", Nome(playerid), ConvertMoney(PortaMalas[porta_malas][po][inv_Unidades]), Itens[id][item_Nome], NomeVeiculos[Veiculo[porta_malas][v_Modelo] - 400]);
								ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
								SalvarVeiculo(Veiculo[porta_malas][v_ID]);
								salvarinv(playerid);
								escolhendo[playerid] = -1;
								abririnv(playerid, 2);
								return 1;
							}
						}
						ms(playerid, 0, "The vehicle's trunk is full!");
					}
					else
					{
						escolhendo[playerid] = Lista_Inventario[playerid][idlist];
						abririnv(playerid, 2);
					}
				}
				return 1;
			}

			if(combinando[playerid] != -1)
			{
				if(idlist >= 0 && idlist < MAX_SLOTS)
				{
					if(combinando[playerid] == Lista_Inventario[playerid][idlist])
					{
						ms(playerid, 0, "Select an item to combine!");
						return 1;
					}

					if(Inventario[playerid][Lista_Inventario[playerid][idlist]][inv_ID] != Inventario[playerid][combinando[playerid]][inv_ID])
					{
						ms(playerid, 0, "Select identical items!");
						return 1;
					}

					Inventario[playerid][combinando[playerid]][inv_Unidades] += Inventario[playerid][Lista_Inventario[playerid][idlist]][inv_Unidades];
					Inventario[playerid][Lista_Inventario[playerid][idlist]][inv_ID] = 0;
					Inventario[playerid][Lista_Inventario[playerid][idlist]][inv_Unidades] = 0;
					Inventario[playerid][Lista_Inventario[playerid][idlist]][inv_Tipo] = 0;
					combinando[playerid] = -1;
					abririnv(playerid, 2);
					ms(playerid, 1, "You combined 2 identical items.");
					fechar_opcoes(playerid);
					return 1;
				}
			}

			if(idlist >= 0 && idlist < MAX_SLOTS)
			{
				if(escolhendo[playerid] == Lista_Inventario[playerid][idlist])
				{
					if(mostrando_opcoes[playerid] == 1) return 1;
					else mostrar_opcoes(playerid);
				}
				escolhendo[playerid] = Lista_Inventario[playerid][idlist];
				mostrar_opcoes(playerid);
				abririnv(playerid, 2);
			}
			else abririnv(playerid, 2);
		}
	}
	return 1;
	}

mostrar_opcoes(playerid)
{
	new i = escolhendo[playerid];
	if(i >= 0 && i < MAX_SLOTS)
	{
		new sss[300];
		mostrando_opcoes[playerid] = 1;
		format(sss, 300, "%s", Itens[Inventario[playerid][i][inv_ID]][item_Nome]);
		PlayerTextDrawSetString(playerid, InvOpcoes_p[playerid][0], sss);
		format(sss, 300, "%s", Itens[Inventario[playerid][i][inv_ID]][item_Info]);
		PlayerTextDrawSetString(playerid, InvOpcoes_p[playerid][1], sss);
	    for(new q; q<sizeof InvOpcoes; q++) TextDrawShowForPlayer(playerid, InvOpcoes[q]);
	    PlayerTextDrawShow(playerid, InvOpcoes_p[playerid][0]);
	    PlayerTextDrawShow(playerid, InvOpcoes_p[playerid][1]);
    }
	return 1;
}

public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
    if(IsPlayerNPC(playerid)) return 0;
	if(ModoAdmin[playerid] == 1)
	{
	    if(AdminPlayer(playerid) > 4)
	    {
    		PegarAltura(fX, fY, fZ, 350);
    		if(!IsPlayerInAnyVehicle(playerid))
			{
				SetPlayerPos(playerid, fX, fY, fZ+1);
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
			}
			else
			{
    			SetVehiclePos(GetPlayerVehicleID(playerid), fX, fY, fZ+1);
    			LinkVehicleToInterior(GetPlayerVehicleID(playerid), 0);
    			SetVehicleVirtualWorld(GetPlayerVehicleID(playerid), 0);
    		}
    	}
    }
    return 1;
}

public OnPlayerClickTextDraw( playerid, Text:clickedid )
{
    if(IsPlayerNPC(playerid)) return 0;
    if(dialog_player[playerid] != -1) return 1;

    /*
    if(PlayerRT(playerid))
    {
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}SUSPEITA DE POSSIVEL RT\n\n{a1a1a1}Por favor relogue, voce pode estar com um ping muito elevado ou\nseu relogio esta travado, isso faz com que algums sistemas\ndo servidor nao funcionem muito bem.", "Ok", "Fechar");
        return 1;
    }
    */


	if(clickedid == Text:INVALID_TEXT_DRAW)
	{
	    selecionando[playerid] = 0;

		if(Morto[playerid] > 0)
		{
		    SelectTextDraw_(playerid, 0x00ffffff);
		}

		if(mostrando_menu[playerid] == 1)
		{
		    RespostaMenu(playerid, menu_id[playerid], 0, escolhendo_menu[playerid]);
		}

	    if(mostrando_laptop[playerid] == 1)
	    {
			fechar_laptop(playerid);
	    }

	    if(mostrando_portamalas[playerid] != -1)
	    {
	        fechar_portamalas(playerid);
	    }

	    if(Modo[playerid] == 3)
		{
		    SelectTextDraw_(playerid, 0x00ffffff);
		}

	    if(olhando_satelite[playerid] == 1)
	    {
			SelectTextDraw_(playerid, 0x00ffffff);
	    }

    	if(mostrando_mapa[playerid] == 1)
		{
		    fechar_mapa(playerid);
		}

	    if(mostrando_classes[playerid] == 1)
	    {
	        fechar_classes(playerid);
	        mostrarLobby(playerid);
	    }

	    if(mostrando_loja_cash[playerid] != 0)
	    {
	        abrir_loja(playerid, 1);
	    }

	    if(mostrando_inv_Lobby[playerid] == 1)
		{
		    fechar_info_Lobby(playerid);
		    SelectTextDraw_(playerid, 0x00ffffff);
		}

	    if(Logado[playerid] == 0)
	    {
	        Congelar(playerid);
 			SelectTextDraw_(playerid, 0x00ffffff);
	    }

	    if(mostrando_resultado[playerid] == 1)
	    {
	        esconder_resultado(playerid);
	    }

	    if(mostrando_loja[playerid] == 1)
	    {
	        SelectTextDraw_(playerid, 0xffff00ff);
	    }

	    if(olhando_camera[playerid] != -1)
	    {
	        if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
            if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
			SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
	        SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
	        SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
	        SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
	        Descongelar(playerid);
			SetCameraBehindPlayer(playerid);
			olhando_camera[playerid] = -1;
	    }

	    if(mostrando_inv_Lobby[playerid] != 0)
	    {
	        fechar_inv_Lobby(playerid);
	        mostrarLobby(playerid);
	    }

	    if(invaberto[playerid] != 0)
	    {
	        fecharinv(playerid);
	    }

	    if(mostrando_arma[playerid] != 0)
	    {
			esconderarmas(playerid);
	    }

	    if(mostrando_mn[playerid] == 1)
	    {
	        mostrando_mn[playerid] = 0;
			PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][0]);
			PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][1]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[0]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[1]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[2]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[3]);
			CancelSelectTextDraw_(playerid);
	    }

	    if(Modo[playerid] == 0)
	    {
	        SelectTextDraw_(playerid, 0x00ffffff);
		}

	    return 1;
	}

	if(clickedid == T_Ligando_Server[9])
	{
	    if(esperando[playerid] == 0)
	    {
	        if(GetPVarInt(playerid, "flood_conect") <= gettime())
	        {
	            tempo_conectar[playerid] = 0;
		        for(new a; a<sizeof T_Ligando_Server; a++) TextDrawHideForPlayer(playerid, T_Ligando_Server[a]);
				mostrar_tela_de_login(playerid);
				SetPVarInt(playerid, "flood_conect", gettime()+10);
				remover_objetos_player(playerid);
				carregar_coisas(playerid);
			}
	    }
	    return 1;
	}

	// aceitar morte //
	if( clickedid == TextMorreu[8] )
	{
	    if(Morto[playerid] > 0)
	    {
	        Morto[playerid] = 0;
	        Morrendo(playerid);
	    }
	    return 1;
	}
	
	// auto revive //
	if(clickedid == TextMorreu[7])
	{
		new idrem = tem_remedio(playerid);
		if(idrem != -1)
		{
			if(GetPVarInt(playerid, "salvando") == -1)
			{
				SetPVarInt(playerid, "idrem", idrem);
				Reanimando[playerid] = 1;
				mostrar_morte(playerid);
			}
			else ms(playerid, 0, "You are already being revived, please wait!");
		}
		else ms(playerid, 0, "You don't have a Medicine in your inventory!");
		return 1;
	}



	// menu //
	if( clickedid == T_Menu[1])
	{
	    RespostaMenu(playerid, menu_id[playerid], 0, escolhendo_menu[playerid]);
	    return 1;
	}

	// voltar menu //
	if(clickedid == T_Menu[3])
	{
		if(pagina_menu[playerid] > 0)
		{
		    pagina_menu[playerid] --;
			mostrar_menu(playerid, menu_id[playerid]);
		}
		return 1;
	}

	// avancar menu //
	if(clickedid == T_Menu[4])
	{
	    if((pagina_menu[playerid]+1) < paginas(7, max_menu[playerid]))
	    {
	        pagina_menu[playerid] += 1;
	        mostrar_menu(playerid, menu_id[playerid]);
	    }
	    return 1;
	}

	// voltar passe free //
	if(clickedid == T_Passe[5])
	{
		if(PaginaPasseFree[playerid] > 0)
		{
		    PaginaPasseFree[playerid] --;
			atualizarpaginafree(playerid);
		}
		return 1;
	}

	// voltar passe pago //
	if(clickedid == T_Passe[7])
	{
		if(PaginaPassePago[playerid] > 0)
		{
		    PaginaPassePago[playerid] --;
			atualizarpaginapago(playerid);
		}
		return 1;
	}

	// avancar pagina passe free //
	if(clickedid == T_Passe[6])
	{
	    if((PaginaPasseFree[playerid]+1) < paginas(5, MAX_PASSE))
	    {
	        PaginaPasseFree[playerid] += 1;
	        atualizarpaginafree(playerid);
	    }
	    return 1;
	}

	// avancar pagina passe pago //
	if(clickedid == T_Passe[8])
	{
	    if((PaginaPassePago[playerid]+1) < paginas(5, MAX_PASSE))
	    {
	        PaginaPassePago[playerid] += 1;
	        atualizarpaginapago(playerid);
	    }
	    return 1;
	}


	// fechar passe da temporada //
	if( clickedid == T_Passe[19] )
	{
        esconder_passe(playerid);
        mostrarLobby(playerid);
	    return 1;
	}

	if(clickedid == T_PortaMalas[1])
	{
		if(mostrando_portamalas[playerid] != -1)
	    {
	        fechar_portamalas(playerid);
	    }
		return 1;
	}

	if(clickedid == T_PortaMalas[2])
	{
		if(pagina_portamalas[playerid] > 0)
		{
		    pagina_portamalas[playerid] --;
			abrir_portamalas(playerid, mostrando_portamalas[playerid]);
		}
		return 1;
	}

	if(clickedid == T_PortaMalas[3])
	{
		if(mostrando_portamalas[playerid] != -1)
		{
		    new i = mostrando_portamalas[playerid];
			new cont;
			for(new a; a<MAX_PORTA_MALAS; a++) if(PortaMalas[i][a][inv_ID] != 0) cont++;
			new pags;
		    new sobra;
		    new div;
		    if(cont <= 6)
		    {
				pags = 1;
				sobra = 0;
		    }
		    else
		    {
		        pags = cont/6;
		        div = pags*6;
		        sobra = cont - (div);
		        if(sobra > 0) pags ++;
		    }

		    if(pagina_portamalas[playerid]+1 < pags)
			{
			    pagina_portamalas[playerid] ++;
				abrir_portamalas(playerid, mostrando_portamalas[playerid]);
			}
		}
		return 1;
	}

	// avancar tutorial  //
	if( clickedid == T_Tutorial[1] )
	{
		KillTimer_(timer_tutorial[playerid]);
		KillTimer_(timer_tutorial2[playerid]);
		tutorial_player(playerid);
	    return 1;
	}

	// satellite view //
	if(clickedid == T_LapTop_Botoes[0])
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return ms(playerid, 0, "You cannot do this indoors.");
		abrir_laptop(playerid, 1);
		return 1;
	}

	// hack gates //
	if(clickedid == T_LapTop_Botoes[2])
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
		abrir_laptop(playerid, 3);
		return 1;
	}

	// hack VEHICLES //
	if(clickedid == T_LapTop_Botoes[4])
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
		abrir_laptop(playerid, 4);
		return 1;
	}

	// hack Player //
	if(clickedid == T_LapTop_Botoes[6])
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "You cannot do this while in Combat!");
		abrir_laptop(playerid, 5);
		return 1;
	}


	// subir camera satelite //
	if( clickedid == T_Satelite[5] )
	{
	    if(satelite_player[playerid][2] < 500.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][2] += 50.0;
	    	abrir_laptop(playerid, 2);
	    }
		return 1;
	}

	// descer camera satelite //
	if( clickedid == T_Satelite[6] )
	{
	    if(satelite_player[playerid][2] > 100.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][2] -= 50.0;
	    	abrir_laptop(playerid, 2);
	    }
		return 1;
	}


	// subir Y  satelite //
	if( clickedid == T_Satelite[0] )
	{
	    if(satelite_player[playerid][1] < 2800.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][1] += 50.0;
	    	abrir_laptop(playerid, 2);
	    }
	    return 1;
	}

	// descer Y  satelite //
	if( clickedid == T_Satelite[1] )
	{
	    if(satelite_player[playerid][1] > -2800.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][1] -= 50.0;
	    	abrir_laptop(playerid, 2);
	    }
	    return 1;
	}

	// esquerda X satelite //
	if( clickedid == T_Satelite[2] )
	{
	    if(satelite_player[playerid][0] > -2800.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][0] -= 50.0;
	    	abrir_laptop(playerid, 2);
	    }
	    return 1;
	}

	// direita X satelite //
	if( clickedid == T_Satelite[3] )
	{
	    if(satelite_player[playerid][0] < 2800.0)
	    {
	        if(pode_mecher[playerid] == 1) return 1;
	        satelite_player[playerid][0] += 50.0;
	    	abrir_laptop(playerid, 2);
	    }
	    return 1;
	}

	// sair satelite //
	if( clickedid == T_Satelite[7] )
	{
	    sair_satelite(playerid);
	    return 1;
	}

	// fechar notbook //
	if( clickedid == T_LapTop[4] )
	{
	    fechar_laptop(playerid);
	    return 1;
	}

	// localizar mapa //
	for(new ofi; ofi<MAX_OFICINAS; ofi++)
	{
	    if(Oficina[ofi][o_Existe] == 0) continue;
	    if(clickedid == T_Mapa_Oficina[ofi])
	    {
            Localizar_Player(playerid, Oficina[ofi][o_X], Oficina[ofi][o_Y], Oficina[ofi][o_Z], 5, ofi);
            fechar_mapa(playerid);
			return 1;
    	}
	}

	for(new poo; poo<MAX_POSTOS; poo++)
	{
	    if(Posto[poo][posto_Existe] == 0) continue;
	    if(clickedid == T_Mapa_Posto[poo])
	    {
            Localizar_Player(playerid, Posto[poo][posto_X], Posto[poo][posto_Y], Posto[poo][posto_Z], 6, poo);
            fechar_mapa(playerid);
			return 1;
    	}
	}

	for(new saa; saa<MAX_MERCADO_NEGRO; saa++)
	{
	    if(MercadoNegro[saa][mn_Existe] == 0) continue;
	    if(clickedid == T_Mapa_Mercado[saa])
	    {
            Localizar_Player(playerid, MercadoNegro[saa][mn_EntrarX], MercadoNegro[saa][mn_EntrarY], MercadoNegro[saa][mn_EntrarZ], 7, saa);
			fechar_mapa(playerid);
			return 1;
    	}
	}

	// mostrar mercados //
	if( clickedid == T_Mapa[2] )
	{
		if(mostrando_mapa[playerid] == 1)
		{
		    id_mapa[playerid] = 1;
		    mostrar_mapa(playerid);
		}
	}

	// mostrar postos //
	if( clickedid == T_Mapa[3] )
	{
		if(mostrando_mapa[playerid] == 1)
		{
		    id_mapa[playerid] = 2;
		    mostrar_mapa(playerid);
		}
	}

	// mostrar oficinas //
	if( clickedid == T_Mapa[4] )
	{
		if(mostrando_mapa[playerid] == 1)
		{
		    id_mapa[playerid] = 3;
		    mostrar_mapa(playerid);
		}
	}


	// fechar mapa //
	if( clickedid == T_Mapa[5] )
	{
		if(mostrando_mapa[playerid] == 1)
		{
		    fechar_mapa(playerid);
		}
	}

	// SELECIONAR CLASSES //
	if( clickedid == T_Classes[4] )
	{
		selecionar_classe(playerid);
	}

	// mostrar classes //
	if( clickedid == T_Botao_Classe[0] )
	{
		mostrar_classes(playerid);
	}

	// fechar classes //
	if( clickedid == T_Classes[1] )
	{
		fechar_classes(playerid);
		mostrarLobby(playerid);
	}

	// voltar classes //
	if( clickedid == T_Classes[2] )
	{
		if(id_classe[playerid] > 0)
		{
			id_classe[playerid] --;
			mostrar_classes(playerid);
		}
	}

	// avancar classes //
	if( clickedid == T_Classes[3] )
	{
        if(id_classe[playerid] < sizeof Classes-1)
		{
			id_classe[playerid] ++;
			mostrar_classes(playerid);
		}
	}

	if(Modo[playerid] == 0)
    {
        SelectTextDraw_(playerid, 0x00ffffff);
    }

	// execute cash store purchase //
	if(clickedid == T_Loja_Cash[2])
	{
		new str[150];
		new id = GetPVarInt(playerid, "item_cash");
		if(pInfo[playerid][pCash] < Items_Loja_Cash[id][2])
		{
			format(str, 150, "{ff0000}[ERROR] {a1a1a1}You don't have {ffff00}%s {a1a1a1}of {ffffff}Cash {a1a1a1}!", ConvertMoney(Items_Loja_Cash[id][2]));
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", str, "Ok", "Close");
			return 1;
		}

		if(id == 0)
		{
			if(PlayerPasse[playerid] == TEMPORADA) return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}[ERROR] {a1a1a1}You already own the Season Pass!", "Ok", "Close");
			PlayerPasse[playerid] = -1;
			pInfo[playerid][pCash] -= Items_Loja_Cash[id][2];
			salvarplayer(playerid);
			PlayerPasse[playerid] = TEMPORADA;
			salvarpasse(playerid);

			mostrando_item_cash[playerid] = 0;
			PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][0]);
			PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][1]);
			TextDrawHideForPlayer(playerid, T_Loja_Cash[0]);
			TextDrawHideForPlayer(playerid, T_Loja_Cash[1]);
			TextDrawHideForPlayer(playerid, T_Loja_Cash[2]);
			TextDrawHideForPlayer(playerid, T_Loja_Cash[3]);

			abrir_loja(playerid, 0);
			format(str, 150, "{00FF00}[INFO] {a1a1a1}You bought the {00ffff}SEASON PASS {a1a1a1}for {ffff00}%s {a1a1a1}of {ffffff}Cash {a1a1a1}!", ConvertMoney(Items_Loja_Cash[id][2]));
			ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", str, "Ok", "Close");
			return 1;
		}

		for(new i; i < MAX_LOBBY; i++)
		{
			if(Inventario_Lobby[playerid][i][inv_ID] == 0)
			{
				Inventario_Lobby[playerid][i][inv_ID] = Items_Loja_Cash[id][0];
				Inventario_Lobby[playerid][i][inv_Unidades] = Items_Loja_Cash[id][1];
				Inventario_Lobby[playerid][i][inv_Tipo] = Itens[Items_Loja_Cash[id][0]][item_Tipo];
				Inventario_Lobby[playerid][i][inv_Visto] = 0;
				mostrando_item_cash[playerid] = 0;
				PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][0]);
				PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][1]);
				TextDrawHideForPlayer(playerid, T_Loja_Cash[0]);
				TextDrawHideForPlayer(playerid, T_Loja_Cash[1]);
				TextDrawHideForPlayer(playerid, T_Loja_Cash[2]);
				TextDrawHideForPlayer(playerid, T_Loja_Cash[3]);
				abrir_loja(playerid, 0);
				format(str, 150, "{00FF00}[INFO] {a1a1a1}You bought %s {00ffff}%s {a1a1a1}for {ffff00}%s {a1a1a1}of {ffffff}Cash {a1a1a1}!\nCheck your Lobby inventory.", ConvertMoney(Items_Loja_Cash[id][1]), Itens[Items_Loja_Cash[id][0]][item_Nome], ConvertMoney(Items_Loja_Cash[id][2]));
				ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", str, "Ok", "Close");
				pInfo[playerid][pCash] -= Items_Loja_Cash[id][2];
				salvarplayer(playerid);
				return 1;
			}
		}
		ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}[ERROR] {a1a1a1}Your Lobby inventory is full,\nuse or delete something and try again!", "Ok", "Close");
		return 1;
	}


	// cancelar compra loja cash //
	if( clickedid == T_Loja_Cash[3] )
	{
        mostrando_item_cash[playerid] = 0;
	    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][0]);
	    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][1]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[0]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[1]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[2]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[3]);
        abrir_loja(playerid, 0);
	    return 1;
	}

	// comprar loja cash //
	if( clickedid == TextLojaCash[5] )
	{
	    comprar_loja_cash(playerid, id_loja_cash[playerid]);
	    return 1;
	}

	// abrir loja cash //
	if( clickedid == T_Loja[0] )
	{
        abrir_loja(playerid, 0);
	    return 1;
	}

	// abrir passe da temporada //
	if( clickedid == T_Passe_Botao[0] )
	{
        mostrar_passe(playerid);
	    return 1;
	}

	// fechar visualizacao de recompenssas //
	if( clickedid == T_Premios[6] )
	{
        fechar_recompenssas(playerid);
        mostrarLobby(playerid);
	    return 1;
	}

	// voltar visualizacao de recompenssas //
	if( clickedid == T_Premios[1] )
	{
        if(mostrando_premios[playerid] > 0)
        {
            mostrando_premios[playerid] --;
            mostrar_recompenssas(playerid);
        }
	    return 1;
	}

	// avancar visualizacao de recompenssas //
	if( clickedid == T_Premios[2] )
	{
        if(mostrando_premios[playerid] < (sizeof(Recompensas)-1))
        {
            mostrando_premios[playerid] ++;
            mostrar_recompenssas(playerid);
        }
	    return 1;
	}

	// comprar item mercado negro //
	if( clickedid == T_MercadoNegro[2] )
	{
        menu_mercadonegro(playerid, 2, GetPVarInt(playerid, "item_mn"));
	    return 1;
	}

	// abrir recompenssas //

	if( clickedid == T_Recomp[0] )
	{
        mostrar_recompenssas(playerid);
	    return 1;
	}

	// fechar info inv Lobby //
	if( clickedid == T_Info_Inv_Lobby[1])
	{
	    fechar_info_Lobby(playerid);
	    return 1;
	}

	// excluir info inv Lobby //
	if( clickedid == T_Info_Inv_Lobby[2])
	{
	    excluir_item_inv_Lobby(playerid);
	    return 1;
	}

	// usar info inv Lobby //
	if( clickedid == T_Info_Inv_Lobby[3])
	{
	    usar_item_inv_Lobby(playerid);
	    return 1;
	}


	// cancelar item mercado negro //
	if( clickedid == T_MercadoNegro[3] )
	{
	    if(mostrando_mn[playerid] == 1)
	    {
	        mostrando_mn[playerid] = 0;
			PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][0]);
			PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][1]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[0]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[1]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[2]);
			TextDrawHideForPlayer(playerid, T_MercadoNegro[3]);
			CancelSelectTextDraw_(playerid);
	    }
        menu_mercadonegro(playerid);
	    return 1;
	}

	// VOLTAR LOJA DE CASH //
	if( clickedid == TextLojaCash[3] )
	{
		if(pagina_loja_cash[playerid] == 0) return 1;
		pagina_loja_cash[playerid] --;
		abrir_loja(playerid, 2);
		return 1;
	}

	// VOLTAR INV Lobby //
	if( clickedid == T_Inv_Lobby[3] )
	{
		if(pagina_Lobby[playerid] == 0) return 1;
		pagina_Lobby[playerid] --;
		abrir_inv_Lobby(playerid, 10);
		return 1;
	}

	// AVANCAR INV Lobby //
	if( clickedid == T_Inv_Lobby[4] )
	{
        new cont = listar_inv_Lobby(playerid);
        new pags;
        new sobra;
        new div;
        if(cont <= 6)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/6;
            div = pags*6;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }

        if(pagina_Lobby[playerid] >= pags-1) return 1;
        pagina_Lobby[playerid] ++;
        abrir_inv_Lobby(playerid, 10);
		return 1;
	}

	// AVANCAR LOJA DE CASH //
	if( clickedid == TextLojaCash[4] )
	{
        new cont = sizeof Items_Loja_Cash;
        new pags;
        new sobra;
        new div;
        if(cont <= 8)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/8;
            div = pags*8;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }

        if(pagina_loja_cash[playerid] >= pags-1) return 1;
        pagina_loja_cash[playerid] ++;
        abrir_loja(playerid, 2);
		return 1;
	}

	// FECHAR LISTA DA LOJA DE CASH //
	if( clickedid == TextLojaCash[2] )
	{
	    if(mostrando_loja_cash[playerid] == 1)
	    {
	        abrir_loja(playerid, 1);
	        return 1;
	    }
	}

	// FECHAR RESULTADOS //
	if( clickedid == TextResultado[2] )
	{
	    esconder_resultado(playerid);
	    return 1;
	}

	// loja armas //
	if( clickedid == TextLoja[1] )
	{
	    MostrarLoja(playerid, 3);
	    return 1;
	}

	if( clickedid == TextLoja[2] )
	{
		if(pagina_loja[playerid] == 0) return 1;
        pagina_loja[playerid] --;
        MostrarLoja(playerid, 2);
	    return 1;
	}

	if( clickedid == TextLoja[3] )
	{
	    new maxxx;
	    if(item_loja[playerid] == 4) maxxx = sizeof Armas_Loja1;
	    if(item_loja[playerid] == 3) maxxx = sizeof Armas_Loja2;
	    if(item_loja[playerid] == 2) maxxx = sizeof Armas_Loja3;
	    if(item_loja[playerid] == 1) maxxx = sizeof Armas_Loja4;
	    if(item_loja[playerid] == 0) maxxx = sizeof Armas_Loja5;
		if(pagina_loja[playerid] == maxxx-1) return 1;
		pagina_loja[playerid] ++;
		MostrarLoja(playerid, 2);
	    return 1;
	}

	// botao de entrar //
	if( clickedid == FundoLobby[9])
	{
	    BotaoEntrar(playerid);
	    return 1;
	}

	// inventario  do  Lobby //
	if( clickedid == FundoLobby2[1])
	{
	    abrir_inv_Lobby(playerid);
	    return 1;
	}

	// CREDITOS //
	if( clickedid == FundoLobby2[8])
	{
	    cmd_credits(playerid, #);
	    return 1;
	}

	// INVENTARIO Lobby FECHAR //
	if( clickedid == T_Inv_Lobby[2])
	{
		fechar_inv_Lobby(playerid);
		mostrarLobby(playerid);
	    return 1;
	}

	// configuracoes Lobby //
	if( clickedid == FundoLobby2[2])
	{
		mostrar_configuracoes(playerid);
	    return 1;
	}

	// INFORMATION button //
	if(clickedid == FundoLobby2[12])
	{
		String_Gigante[0] = EOS;
		for(new i; i < sizeof(info_server); i++) strcat(String_Gigante, info_server[i]);
		ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Information and Systems", String_Gigante, "Ok", "Back");
		return 1;
	}

	// ROOM SYSTEM ///
	if(clickedid == TextSalas[2] || clickedid == TextSalas[3]) // change team //
	{
		if(SalaPlayer[playerid] != -1)
		{
			if(GetPVarInt(playerid, "flood_mudar") > gettime()) 
				return ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "\n\n{a1a1a1}You can't do this too frequently!\n\n", "Ok", "Close");
			if(!mudar_lado(playerid, SalaPlayer[playerid])) 
				return ms(playerid, 0, "The other team is full!");
			Sala_(SalaPlayer[playerid], 5);
			ms(playerid, 3, "You changed teams.");
			SetPVarInt(playerid, "flood_mudar", gettime() + 2);
		}
		return 1;
	}



	if( clickedid == TextSalas[10]) // kikar //
	{
        if(dono_sala[playerid] == 1)
	    {
	        if(SalaPlayer[playerid] != -1)
	        {
				lista_kikar(playerid, SalaPlayer[playerid]);
			}
		}
	    return 1;
	}

	if( clickedid == TextSalas[9]) // convidar //
	{
	    if(dono_sala[playerid] == 1)
	    {
	        if(SalaPlayer[playerid] != -1)
	        {
				lista_convidar(playerid);
			}
		}
	    return 1;
	}



	if( clickedid == TextSalas[1]) // keluar //
	{
		if(dono_sala[playerid] == 1)
		{
			new s = SalaPlayer[playerid];
			if(s != -1)
			{
				if(!passar_dono(playerid, SalaPlayer[playerid]))
				{
					ms(playerid, 1, "Kamu meninggalkan ruang dan ruang tersebut dihapus.");
				}
				else ms(playerid, 1 , "Kamu meninggalkan ruang dan menyerahkan kepemilikan ke peserta lain.");
				Sala_(SalaPlayer[playerid], 1);
				SpawnPlayer(playerid);
			}
		}
		else
		{
			if(SalaPlayer[playerid] != -1)
			{
				new s = SalaPlayer[playerid];
				sair_sala(playerid, SalaPlayer[playerid]);
				for(new i; i<MAX_PLAYERS; i++)
				{
					if(Online(i))
					{
						if(!IsPlayerNPC(i))
						{
							if(Modo[i] == 0)
							{
								if(SalaPlayer[i] == s)
								{
									ms(i, 3, "Seorang peserta meninggalkan ruang.");
								}
							}
						}
					}
				}
			}
		}
		return 1;
	}


	if( clickedid == TextSalas[5]) // BUKA ATAU TUTUP RUANG //
	{
		if(dono_sala[playerid] == 1)
		{
			if(SalaPlayer[playerid] != -1)
			{
				if(Sala[SalaPlayer[playerid]][sala_Senha] == 1)
				{
					Sala[SalaPlayer[playerid]][sala_Senha] = 0;
					ms(playerid, 1, "Kamu membuka ruang untuk peserta baru!");
				}
				else
				{
					Sala[SalaPlayer[playerid]][sala_Senha] = 1;
					ms(playerid, 1, "Kamu menutup ruang, hanya yang diundang yang bisa masuk!");
				}
			}
		}
		return 1;
	}


	if( clickedid == TextSalas[6]) // mudar o mapa //
	{
	    if(dono_sala[playerid] == 1)
	    {
	        Sala_(SalaPlayer[playerid], 2);
	    }
		return 1;
	}

	if( clickedid == TextSalas[7]) // mudar quantidade de rounds //
	{
	    if(dono_sala[playerid] == 1)
	    {
	        Sala_(SalaPlayer[playerid], 3);
	    }
		return 1;
	}

	if( clickedid == TextSalas[8]) // mudar tempo dos rounds //
	{
	    if(dono_sala[playerid] == 1)
	    {
	        Sala_(SalaPlayer[playerid], 4);
	    }
		return 1;
	}




	//  Lobby //
	if( clickedid == FundoLobby2[15]) // historia //
	{
		click_historia(playerid);
		return 1;
	}

	if( clickedid == FundoLobby2[14]) // pvp //
	{
		if(Modo[playerid] == 0)
		{
			if(SalaPlayer[playerid] != -1)
			{
				ms(playerid, 0, "Kamu harus keluar dari Ruang PVP untuk melakukan ini!");
				return 1;
			}
			funcao_pvp(playerid);
		}
		return 1;
	}



	//  mostrando armas  //
	if( clickedid == TextArma[6]) // fechar
	{
	    if(mostrando_arma[playerid] != 0)
	    {
			esconderarmas(playerid);
	    }
	    return 1;
	}

	if( clickedid == TextArma[1]) // voltar
	{
		if(maximo_armas[playerid] == 1) return 1;
		if(mostrando_id[playerid] == 0)
		{
		    mostrando_id[playerid] = maximo_armas[playerid]-1;
		}
		else
		{
		    mostrando_id[playerid] --;
		}
        mostrararmas(playerid);
        return 1;
	}

	if( clickedid == TextArma[2])// avancar
	{
	    if(maximo_armas[playerid] == 1) return 1;

        if(mostrando_id[playerid] == maximo_armas[playerid]-1)
		{
		    mostrando_id[playerid] = 0;
		}
		else
		{
		    mostrando_id[playerid] ++;
		}
		mostrararmas(playerid);
		return 1;
	}

	if( clickedid == TextArma[4])// guardar
	{
	    if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
	    if(Modo[playerid] != 1)
        {
            esconderarmas(playerid);
	    	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
            return 1;
        }
		new art[13][2];
	    new slota = armas[playerid][mostrando_id[playerid]][2];
	    for(new i; i<13; i++) GetPlayerWeaponData(playerid, i, art[i][0], art[i][1] );

	    if(slota == 8 || slota == 7)
		{
		    if(SlotsVazios(playerid) == 0)
			{
				ms(playerid, 0, "Inventarismu penuh!");
				SetTimerEx("mostrararmas", 550, 0, "d", playerid);
				return 1;
			}
		    else
		    {
		        // continuar guardar //
		        Acao(playerid, 24, 50, "GUARDANDO ARMA", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
		        SetPlayerAttachedObject(playerid, 9, 19559, 1, 0.054999, 0.635999, 0.000000, 0.000000, 90.0000, 0.0000, 1,1,1);
				SetPVarInt(playerid, "arma_1", art[slota][0]);
				SetPVarInt(playerid, "municao_1", art[slota][1]);
				SetPVarInt(playerid, "arma_2", -1);
				SetPVarInt(playerid, "municao_2", -1);
                ResetPlayerWeapons(playerid);
			    for(new ii; ii<13; ii++)
			    {
			        if(ii != slota)
			        {
			            GivePlayerWeapon(playerid, art[ii][0], art[ii][1]);
			        }
       			}
       			esconderarmas(playerid);
		    }
		    return 1;
		}

		if(SlotsVazios(playerid)< 2)
		{
			ms(playerid, 0, "Inventarismu penuh!");
			SetTimerEx("mostrararmas", 550, 0, "d", playerid);
			return 1;
		}

		// continuar guardar //
		Acao(playerid, 24, 50, "GUARDANDO ARMA", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
		SetPlayerAttachedObject(playerid, 9, 19559, 1, 0.054999, 0.635999, 0.000000, 0.000000, 90.0000, 0.0000, 1,1,1);
		SetPVarInt(playerid, "arma_1", art[slota][0]);
		SetPVarInt(playerid, "municao_1", 1);

	    if(art[slota][1] > 0)
	    {
		    for(new c=62; c<67; c++)
		    {
		        if(Itens[c][item_Tipo] == slota)
		        {
		            SetPVarInt(playerid, "arma_2", c);
					SetPVarInt(playerid, "municao_2", art[slota][1]);
					SetPVarInt(playerid, "tipo_2", slota);
				    break;
			    }
		    }
	    }
	    else
	    {
	        SetPVarInt(playerid, "arma_2", 0);
			SetPVarInt(playerid, "municao_2", 0);
			SetPVarInt(playerid, "tipo_2", 0);
	    }

	    ResetPlayerWeapons(playerid);
	    for(new ii; ii<13; ii++)
	    {
	        if(ii != slota)
	        {
	            GivePlayerWeapon(playerid, art[ii][0], art[ii][1]);
	        }
	    }
	    esconderarmas(playerid);
	    armas_costas(playerid);
	    return 1;
	}

	if( clickedid == TextArma[5])// dropar
	{
	    if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
	    if(Modo[playerid] != 1)
        {
            esconderarmas(playerid);
	    	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
            return 1;
        }
	    new artt[13][2];
		new Float:ps[3];
		GetPlayerPos(playerid, ps[0], ps[1], ps[2]);
	    new slota = armas[playerid][mostrando_id[playerid]][2];
	    for(new i; i<13; i++) GetPlayerWeaponData(playerid, i, artt[i][0], artt[i][1] );

		if(slota == 2 || slota == 3 || slota == 4 || slota == 5 || slota == 6)
		{
		    Acao(playerid, 25, 50, "DROPANDO ARMA", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
	        SetPVarInt(playerid, "slo1", 1);
			SetPVarInt(playerid, "slo2", 1);
	        SetPVarInt(playerid, "arma_1", artt[slota][0]);
			SetPVarInt(playerid, "municao_1", 1);
			SetPVarInt(playerid, "tipo_1", slota);

			if(artt[slota][1] > 0)
			{
			    for(new c=62; c<67; c++)
			    {
			        if(Itens[c][item_Tipo] == slota)
			        {
			            SetPVarInt(playerid, "arma_2", c);
						SetPVarInt(playerid, "municao_2", artt[slota][1]);
						SetPVarInt(playerid, "tipo_2", slota);
						break;
					}
				}
			}
			else
			{
			    SetPVarInt(playerid, "arma_2", 0);
				SetPVarInt(playerid, "municao_2", 0);
				SetPVarInt(playerid, "tipo_2", 0);
			}

			ResetPlayerWeapons(playerid);
		    for(new ii; ii<13; ii++)
		    {
		        if(ii != slota)
		        {
		            GivePlayerWeapon(playerid, artt[ii][0], artt[ii][1]);
		        }
		    }
			esconderarmas(playerid);
		    return 1;
		}

		SetPVarInt(playerid, "slo1", 1);
		SetPVarInt(playerid, "slo2", -1);
		SetPVarInt(playerid, "arma_1", artt[slota][0]);
		SetPVarInt(playerid, "municao_1", artt[slota][1]);
		SetPVarInt(playerid, "tipo_1", slota);

		Acao(playerid, 25, 50, "DROPANDO ARMA", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
	    ResetPlayerWeapons(playerid);
	    for(new ii; ii<13; ii++)
	    {
	        if(ii != slota)
	        {
	            GivePlayerWeapon(playerid, artt[ii][0], artt[ii][1]);
	        }
	    }
	    esconderarmas(playerid);
        return 1;
	}



	// INVENTARIO //

	if(clickedid == InvEquipamentos[11])
	{
		if(Capacete[playerid][0] == 0 || Capacete[playerid][1] == 0)
		{
			ms(playerid, 0, "Kamu tidak punya Helm untuk dilepas!");
			return 1;
		}

		if(SlotsVazios(playerid) == 0)
		{
			new Float:pos[3];
			GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
			criar_item(15+Capacete[playerid][0], pos[0],pos[1],pos[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Capacete[playerid][1]);
			ms(playerid, 1, "Kamu telah melepas helmmu.");
			Setar_Capacete(playerid, 0, 0);
			abririnv(playerid, 3);
			salvarplayer(playerid);
			return 1;
		}

		AddInv(playerid, 15+Capacete[playerid][0], 1, Capacete[playerid][1]);
		Setar_Capacete(playerid, 0, 0);
		ms(playerid, 1, "Kamu telah melepas helmmu.");
		Setar_Capacete(playerid, 0);
		abririnv(playerid, 3);
		salvarplayer(playerid);
		return 1;
	}


    if(clickedid == InvEquipamentos[12])
	{
		if(Mascara[playerid] == 0 )
		{
			ms(playerid, 0, "Kamu tidak punya Masker untuk dilepas!");
			return 1;
		}

		if(SlotsVazios(playerid) == 0)
		{
			new Float:pos[3];
			GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
			criar_item(4, pos[0],pos[1],pos[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Mascara[playerid]);
			ms(playerid, 1, "Kamu telah melepas Maskermu.");
			Setar_Mascara(playerid, 0);
			abririnv(playerid, 3);
			salvarplayer(playerid);
			return 1;
		}
		AddInv(playerid, 4, 1, Mascara[playerid]);
		Setar_Mascara(playerid, 0);
		ms(playerid, 1, "Kamu telah melepas Maskermu.");
		Setar_Mascara(playerid, 0);
		abririnv(playerid, 3);
		salvarplayer(playerid);
		return 1;
	}

	if(clickedid == InvEquipamentos[13])
	{
		if(Colete[playerid][0] == 0 || Colete[playerid][1] == 0)
		{
			ms(playerid, 0, "Kamu tidak punya Rompi untuk dilepas!");
			return 1;
		}

		if(SlotsVazios(playerid) == 0)
		{
			new Float:pos[3];
			GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
			criar_item(12+Colete[playerid][0], pos[0],pos[1],pos[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Colete[playerid][1]);
			ms(playerid, 1, "Kamu telah melepas Rompimu.");
			Setar_Colete(playerid, 0, 0);
			abririnv(playerid, 3);
			salvarplayer(playerid);
			return 1;
		}

		AddInv(playerid, 12+Colete[playerid][0], 1, Colete[playerid][1]);
		Setar_Colete(playerid, 0, 0);
		ms(playerid, 1, "Kamu telah melepas Rompimu.");
		Setar_Colete(playerid, 0);
		abririnv(playerid, 3);
		salvarplayer(playerid);
		return 1;
	}




	// opcoes

	if(clickedid == InvOpcoes[3])
    {
        if(Modo[playerid] != 1)
        {
            fecharinv(playerid);
	    	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
            return 1;
        }
        if(escolhendo[playerid] > -1 && escolhendo[playerid] < MAX_SLOTS)
        {
			Usar_Item(playerid, escolhendo[playerid], Inventario[playerid][escolhendo[playerid]][inv_ID]);
		}
		return 1;
    }

    if(clickedid == InvOpcoes[4])
    {
        if(Modo[playerid] != 1)
        {
            fecharinv(playerid);
	    	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
            return 1;
        }
		if(escolhendo[playerid] > -1 && escolhendo[playerid] < MAX_SLOTS)
			{
				if(Inventario[playerid][escolhendo[playerid]][inv_Unidades] <= 1)
				{
					ms(playerid, 0, "Item ini hanya memiliki 1 unit!");
					return 1;
				}

				separando[playerid] = escolhendo[playerid];
				escolhendo[playerid] = -1;
				ShowPlayerDialog_( playerid, DIALOG_SEPARAR, DIALOG_STYLE_INPUT, Itens[Inventario[playerid][separando[playerid]][inv_ID]][item_Nome], "{00ffff}INFO {ffffff}Masukkan jumlah unit yang ingin dipisahkan:" , "Pisahkan" , "Batal" );

			}
		return 1;
	}

    if(clickedid == InvOpcoes[5])
	{
		if(Modo[playerid] != 1)
		{
			fecharinv(playerid);
			if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
			return 1;
		}

		if(escolhendo[playerid] > -1 && escolhendo[playerid] < MAX_SLOTS)
		{
			if(Inventario[playerid][escolhendo[playerid]][inv_Unidades] <= 1)
			{
				ms(playerid, 0, "This item only has 1 unit!");
				return 1;
			}

			separando[playerid] = escolhendo[playerid];
			escolhendo[playerid] = -1;
			ShowPlayerDialog_(playerid, DIALOG_SEPARAR, DIALOG_STYLE_INPUT, Itens[Inventario[playerid][separando[playerid]][inv_ID]][item_Nome], "{00ffff}INFO {ffffff}Enter how many units you want to separate:", "Separate", "Cancel");
		}

		return 1;
	}


    if(clickedid == InvOpcoes[6])
    {
        if(Modo[playerid] != 1)
        {
            fecharinv(playerid);
	    	if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);
            return 1;
        }

		Dropar_Item(playerid);
		return 1;
    }

	// fim opcoes //
	if(clickedid == InvOpcoes[1])
    {
		fechar_opcoes(playerid);
    }

    if(clickedid == InvFundo[4])
    {
		fecharinv(playerid);
    }
    if(clickedid == InvFundo[1])
    {
        abririnv(playerid, 1);
    }
    if(clickedid == InvFundo[2])
    {
        abririnv(playerid, 2);
    }
    if(clickedid == InvFundo[3])
    {
        abririnv(playerid, 3);
    }

    if(clickedid == InvRecolher[3])
    {
        if(invaberto[playerid] == 1)
        {
	        if(pagina_recolher[playerid] > 0)
	        {
	            pagina_recolher[playerid] --;
	            abririnv(playerid, 1);
	        }
        }


        if(invaberto[playerid] == 2)
        {
            if(pagina_itens[playerid] > 0)
	        {
	            pagina_itens[playerid] --;
	            abririnv(playerid, 2);
	        }
        }
    }

    if(clickedid == InvRecolher[4])
    {
        teste_crash(playerid, invaberto[playerid]);
        return 1;
    }

    if(clickedid == InvRecolher[0])
    {
        new att = 0 + pagina_recolher[playerid]*3;
        if(att < 0 || att > MAX_ITENS) return 1;
		if(recolhendo[playerid] != Lista_Player[playerid][att])
		{
		    if(Lista_Player[playerid][att] != -1)
		    {
				recolhendo[playerid] = Lista_Player[playerid][att];
		    	abririnv(playerid, 1);
		    }
		}
		else
		{
		    if(Modo[playerid] == 2)
			{
				new item = Lista_Player[playerid][att];
			    if(item != -1)
			    {
				    new arma = Item[item][item_Tipo];
				    new municao = Item[item][item_Unidades];
				    new arms, munis;
				    GetPlayerWeaponData(playerid, slot_arma(arma), arms, munis);

					if(arms > 0 && munis > 0)
					{
					    new Float:poss[3];
						GetPlayerPos(playerid, poss[0],poss[1], poss[2]);
						PegarFrente(poss[0],poss[1], random(360), random(5)*0.3);
						criar_item(arma_id(arms), poss[0],poss[1], poss[2], munis, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[arma_id(arms)][item_Tipo], 30);
					}
					GivePlayerWeapon(playerid, arma, 0);
					SetPlayerAmmo(playerid, arma, municao);
					destruiritem(item);
					fecharinv(playerid);
				}
			}
			else
			{
			    if(recolhendo[playerid] != -1)
			    {
					recolherinv(playerid, recolhendo[playerid]);
				}
			}
		}
    }

    if(clickedid == InvRecolher[1])
    {
        new att = 1 + pagina_recolher[playerid]*3;
        if(att < 0 || att > MAX_ITENS) return 1;
		if(recolhendo[playerid] != Lista_Player[playerid][att])
		{
			if(Lista_Player[playerid][att] != -1)
		    {
				recolhendo[playerid] = Lista_Player[playerid][att];
		    	abririnv(playerid, 1);
		    }
		}
		else
		{
		    if(Modo[playerid] == 2)
			{
			    new item = Lista_Player[playerid][att];
			    if(item != -1)
			    {
				    new arma = Item[item][item_Tipo];
				    new municao = Item[item][item_Unidades];
				    new arms, munis;
				    GetPlayerWeaponData(playerid, slot_arma(arma), arms, munis);

					if(arms > 0 && munis > 0)
					{
					    new Float:poss[3];
						GetPlayerPos(playerid, poss[0],poss[1], poss[2]);
						PegarFrente(poss[0],poss[1], random(360), random(5)*0.3);
						criar_item(arma_id(arms), poss[0],poss[1], poss[2], munis, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[arma_id(arms)][item_Tipo], 30);
					}
					GivePlayerWeapon(playerid, arma, 0);
					SetPlayerAmmo(playerid, arma, municao);
					destruiritem(item);
					fecharinv(playerid);
				}
			}
			else
			{
			    if(recolhendo[playerid] != -1)
			    {
					recolherinv(playerid, recolhendo[playerid]);
				}
			}
		}
    }

    if(clickedid == InvRecolher[2])
    {
        new att = 2 + pagina_recolher[playerid]*3;
        if(att < 0 || att > MAX_ITENS) return 1;
		if(recolhendo[playerid] != Lista_Player[playerid][att])
		{
		   	if(Lista_Player[playerid][att] != -1)
		    {
				recolhendo[playerid] = Lista_Player[playerid][att];
		    	abririnv(playerid, 1);
		    }
		}
		else
		{
		    if(Modo[playerid] == 2)
			{
			    new item = Lista_Player[playerid][att];
			    if(item != -1)
			    {
				    new arma = Item[item][item_Tipo];
				    new municao = Item[item][item_Unidades];
				    new arms, munis;
				    GetPlayerWeaponData(playerid, slot_arma(arma), arms, munis);

					if(arms > 0 && munis > 0)
					{
					    new Float:poss[3];
						GetPlayerPos(playerid, poss[0],poss[1], poss[2]);
						PegarFrente(poss[0],poss[1], random(360), random(5)*0.3);
						criar_item(arma_id(arms), poss[0],poss[1], poss[2], munis, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[arma_id(arms)][item_Tipo], 30);
					}
					GivePlayerWeapon(playerid, arma, 0);
					SetPlayerAmmo(playerid, arma, municao);
					destruiritem(item);
					fecharinv(playerid);
				}
			}
			else
			{
			    if(recolhendo[playerid] != -1)
			    {
					recolherinv(playerid, recolhendo[playerid]);
				}
			}
		}
    }


    return 1;
}

CREDITOS()
{
	print(" ");
	print(" ");
    print("Alexxxxxx");
    print(" ");
    print(" ");
    print(" ");
    return 1;
}

abririnv(playerid, funcao)
{
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
	if(mostrando_arma[playerid] != 0) return 1;
	if(mostrando_mapa[playerid] != 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam kendaraan!");
	if(cadeira_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat sedang duduk!");
	if(cama_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat sedang berbaring di tempat tidur!");
	if(Barra[playerid][b_Acao] != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat ini!");
	if(olhando_camera[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat sedang mengamati kamera!");
	if(Morto[playerid] != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat ini!");
	if(com_jetpack[playerid] == 1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat menggunakan Jetpack, keluarlah terlebih dahulu!");
	if(pos[2] <= 0.30) return ms(playerid, 0, "Kamu tidak bisa membuka inventaris di air!");
	if(tv_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa membuka inventaris dalam Mode /tv!");

	new string[150];

	TextDrawHideForPlayer(playerid, T_Rodape[0]);
	TextDrawHideForPlayer(playerid, T_Rodape[1]);
	TextDrawHideForPlayer(playerid, T_Rodape[2]);
	PlayerTextDrawHide(playerid, T_Rodape_p[playerid][0]);

    if(invaberto[playerid] == 0)
	{
	    esconder_busola(playerid);
	    Play_Som(1039, pos[0],pos[1],pos[2], 0, 0);
	    pagina_recolher[playerid] = 0;
	    escolhendo[playerid] = -1;
	    recolhendo[playerid] = -1;
	    separando[playerid] = -1;
	    combinando[playerid] = -1;
        TextDrawShowForPlayer(playerid, InvFundo[0]);
        TextDrawShowForPlayer(playerid, InvFundo[4]);
        SelectTextDraw_(playerid, 0x00ffffff);
	}
    if(funcao != 4) invaberto[playerid] = funcao;

    if(funcao != 1)
	{
	    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][0]);
	    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][1]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][2]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][3]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][4]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][5]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][6]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][7]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][8]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][9]);
		TextDrawHideForPlayer(playerid, InvRecolher[0]);
		TextDrawHideForPlayer(playerid, InvRecolher[1]);
		TextDrawHideForPlayer(playerid, InvRecolher[2]);
		TextDrawHideForPlayer(playerid, InvRecolher[3]);
		TextDrawHideForPlayer(playerid, InvRecolher[4]);
		TextDrawHideForPlayer(playerid, InvRecolher[5]);
		TextDrawHideForPlayer(playerid, InvRecolher[6]);
		TextDrawHideForPlayer(playerid, InvRecolher[7]);
		TextDrawHideForPlayer(playerid, InvRecolher2[0]);
		TextDrawHideForPlayer(playerid, InvRecolher2[1]);
		TextDrawHideForPlayer(playerid, InvRecolher2[2]);
	}

	if(funcao != 2)
	{
	    fechar_opcoes(playerid);
	    for(new i; i<12; i++)
		{
			PlayerTextDrawHide(playerid, InvItens[playerid][i]);
			PlayerTextDrawHide(playerid, InvNomes[playerid][i]);
			PlayerTextDrawHide(playerid, InvUnidades[playerid][i]);
		}
	    TextDrawHideForPlayer(playerid, InvRecolher[3]);
		TextDrawHideForPlayer(playerid, InvRecolher[4]);
		PlayerTextDrawHide(playerid, InvRecolher_p[playerid][0]);
		if(combinando[playerid] != -1) combinando[playerid] = -1;
		if(separando[playerid] != -1) separando[playerid] = -1;
	}

	if(funcao != 3)
	{
        for(new i; i<3; i++) PlayerTextDrawHide(playerid, InvEquipamentos_p[playerid][i]);
        for(new ii; ii<sizeof InvEquipamentos; ii++) TextDrawHideForPlayer(playerid, InvEquipamentos[ii]);
	}

	if(!IsPlayerInAnyVehicle(playerid))
	{
		ApplyAnimation(playerid, "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 0,0, 0, 0, 1);
		SetPlayerAttachedObject(playerid, 9, 19559, 1, 0.054999, 0.635999, 0.000000, 0.000000, 90.0000, 0.0000, 1,1,1);
	}

	if(funcao == 1) // RECOLHER //
	{
	    if(Modo[playerid] != 2)
	    {
	        TextDrawHideForPlayer(playerid, InvFundo[6]);
	        TextDrawHideForPlayer(playerid, InvFundo[7]);
	        TextDrawShowForPlayer(playerid, InvFundo[5]);
	        TextDrawShowForPlayer(playerid, InvFundo[2]);
	        TextDrawShowForPlayer(playerid, InvFundo[3]);
	        TextDrawHideForPlayer(playerid, InvFundo[1]);
        }
        else
        {
            TextDrawShowForPlayer(playerid, InvFundo[1]);
            TextDrawShowForPlayer(playerid, InvFundo[5]);
            TextDrawHideForPlayer(playerid, InvFundo[2]);
            TextDrawHideForPlayer(playerid, InvFundo[3]);
            TextDrawHideForPlayer(playerid, InvFundo[6]);
            TextDrawHideForPlayer(playerid, InvFundo[7]);
		}

        new cont;
        for(new ia; ia<MAX_ITENS; ia++)
        {
            Lista_Player[playerid][ia] = -1;
            if(IsPlayerInRangeOfPoint(playerid, 5.0, Item[ia][item_X], Item[ia][item_Y], Item[ia][item_Z]))
            {
				if(GetPlayerInterior(playerid) == Item[ia][item_Interior])
				{
                    if(GetPlayerVirtualWorld(playerid) == Item[ia][item_Mundo])
					{
                        Lista_Player[playerid][cont] = ia;
                        cont ++;
                    }
                }
            }
        }

        if(cont == 0)
        {
            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][0]);
		    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][1]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][2]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][3]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][4]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][5]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][6]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][7]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][8]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][9]);
			TextDrawHideForPlayer(playerid, InvRecolher[0]);
			TextDrawHideForPlayer(playerid, InvRecolher[1]);
			TextDrawHideForPlayer(playerid, InvRecolher[2]);
			TextDrawHideForPlayer(playerid, InvRecolher[3]);
			TextDrawHideForPlayer(playerid, InvRecolher[4]);
			TextDrawHideForPlayer(playerid, InvRecolher[5]);
			TextDrawHideForPlayer(playerid, InvRecolher[6]);
			TextDrawHideForPlayer(playerid, InvRecolher[7]);
			TextDrawHideForPlayer(playerid, InvRecolher2[0]);
			TextDrawHideForPlayer(playerid, InvRecolher2[1]);
			TextDrawHideForPlayer(playerid, InvRecolher2[2]);
            return 1;
        }

        new pags;
        new sobra;
        new div;
        if(cont <= 3)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/3;
            div = pags*3;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }

		if(pagina_recolher[playerid] > pags-1) pagina_recolher[playerid] = pags-1;
		if(pagina_recolher[playerid] < 0) pagina_recolher[playerid] = 0;
		format(string, 150, "Page~N~~N~%d / %d", pagina_recolher[playerid]+1, pags);
		PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][0], string);
		PlayerTextDrawShow(playerid, InvRecolher_p[playerid][0]);

		if(pagina_recolher[playerid] < pags-1 ) TextDrawShowForPlayer(playerid, InvRecolher[4]);
		else TextDrawHideForPlayer(playerid, InvRecolher[4]);
		if(pagina_recolher[playerid] > 0 ) TextDrawShowForPlayer(playerid, InvRecolher[3]);
		else TextDrawHideForPlayer(playerid, InvRecolher[3]);
        new atg;

		atg = 0 + pagina_recolher[playerid]*3;
		if(atg != -1 && atg < MAX_ITENS)
		{
			if(Lista_Player[playerid][atg] != -1)
			{

			    if(recolhendo[playerid] == Lista_Player[playerid][atg]) TextDrawShowForPlayer(playerid, InvRecolher2[0]);
			    else TextDrawHideForPlayer(playerid, InvRecolher2[0]);
			    new aki = Item[Lista_Player[playerid][atg]][item_ID];
			    PlayerTextDrawSetPreviewRot(playerid, InvRecolher_p[playerid][1], Itens[aki][item_PreX],Itens[aki][item_PreY],Itens[aki][item_PreZ],Itens[aki][item_PreV]);
	            PlayerTextDrawColor(playerid, InvRecolher_p[playerid][1], Itens[aki][item_Cor]);
				if(Itens[aki][item_Modelo] == 1248) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][1], Item[Lista_Player[playerid][0 + pagina_recolher[playerid]*3]][item_Tipo]);
				else if(Itens[aki][item_ID] == 99) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][1], Item[Lista_Player[playerid][0 + pagina_recolher[playerid]*3]][item_Tipo]);
				else PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][1], Itens[aki][item_Modelo]);
				format(string, 150, "%d", Item[Lista_Player[playerid][0 + pagina_recolher[playerid]*3]][item_Unidades]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][4], string);
				format(string, 150, "%s", Itens[Item[Lista_Player[playerid][0 + pagina_recolher[playerid]*3]][item_ID]][item_Nome]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][7], string);

				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][1]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][4]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][7]);
				TextDrawShowForPlayer(playerid, InvRecolher[0]);
				TextDrawShowForPlayer(playerid, InvRecolher[5]);

			}
			else
			{
			    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][1]);
			    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][4]);
			    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][7]);
			    TextDrawHideForPlayer(playerid, InvRecolher[0]);
			    TextDrawHideForPlayer(playerid, InvRecolher[5]);
			    TextDrawHideForPlayer(playerid, InvRecolher2[0]);
			}
		}
		else
		{
		    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][1]);
		    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][4]);
		    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][7]);
		    TextDrawHideForPlayer(playerid, InvRecolher[0]);
		    TextDrawHideForPlayer(playerid, InvRecolher[5]);
		    TextDrawHideForPlayer(playerid, InvRecolher2[0]);
		}

        atg = 1 + pagina_recolher[playerid]*3;
		if(atg != -1 && atg < MAX_ITENS)
		{
			if(Lista_Player[playerid][atg] != -1)
			{

			    if(recolhendo[playerid] == Lista_Player[playerid][atg]) TextDrawShowForPlayer(playerid, InvRecolher2[1]);
			    else TextDrawHideForPlayer(playerid, InvRecolher2[1]);
	            new aki = Item[Lista_Player[playerid][atg]][item_ID];
			    PlayerTextDrawSetPreviewRot(playerid, InvRecolher_p[playerid][2], Itens[aki][item_PreX],Itens[aki][item_PreY],Itens[aki][item_PreZ],Itens[aki][item_PreV]);
	            PlayerTextDrawColor(playerid, InvRecolher_p[playerid][2], Itens[aki][item_Cor]);
				if(Itens[aki][item_Modelo] == 1248) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][2], Item[Lista_Player[playerid][1 + pagina_recolher[playerid]*3]][item_Tipo]);
	            else if(Itens[aki][item_ID] == 99) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][2], Item[Lista_Player[playerid][1 + pagina_recolher[playerid]*3]][item_Tipo]);
	            else PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][2], Itens[Item[Lista_Player[playerid][1 + pagina_recolher[playerid]*3]][item_ID]][item_Modelo]);
	            format(string, 150, "%d", Item[Lista_Player[playerid][1 + pagina_recolher[playerid]*3]][item_Unidades]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][5], string);
				format(string, 150, "%s", Itens[Item[Lista_Player[playerid][1 + pagina_recolher[playerid]*3]][item_ID]][item_Nome]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][8], string);

	            PlayerTextDrawShow(playerid, InvRecolher_p[playerid][2]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][5]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][8]);
	            TextDrawShowForPlayer(playerid, InvRecolher[1]);
	            TextDrawShowForPlayer(playerid, InvRecolher[6]);
			}
			else
			{
	            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][2]);
	            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][5]);
	            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][8]);
	            TextDrawHideForPlayer(playerid, InvRecolher[1]);
	            TextDrawHideForPlayer(playerid, InvRecolher[6]);
	            TextDrawHideForPlayer(playerid, InvRecolher2[1]);
			}
		}
		else
		{
            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][2]);
            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][5]);
            PlayerTextDrawHide(playerid, InvRecolher_p[playerid][8]);
            TextDrawHideForPlayer(playerid, InvRecolher[1]);
            TextDrawHideForPlayer(playerid, InvRecolher[6]);
            TextDrawHideForPlayer(playerid, InvRecolher2[1]);
		}

        atg = 2 + pagina_recolher[playerid]*3;
		if(atg != -1 && atg < MAX_ITENS)
		{
			if(Lista_Player[playerid][atg] != -1)
			{
			    if(recolhendo[playerid] == Lista_Player[playerid][atg]) TextDrawShowForPlayer(playerid, InvRecolher2[2]);
			    else TextDrawHideForPlayer(playerid, InvRecolher2[2]);

	            new aki = Item[Lista_Player[playerid][atg]][item_ID];
			    PlayerTextDrawSetPreviewRot(playerid, InvRecolher_p[playerid][3], Itens[aki][item_PreX],Itens[aki][item_PreY],Itens[aki][item_PreZ],Itens[aki][item_PreV]);
	            PlayerTextDrawColor(playerid, InvRecolher_p[playerid][3], Itens[aki][item_Cor]);
				if(Itens[aki][item_Modelo] == 1248) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][3], Item[Lista_Player[playerid][2 + pagina_recolher[playerid]*3]][item_Tipo]);
	            else if(Itens[aki][item_ID] == 99) PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][3], Item[Lista_Player[playerid][2 + pagina_recolher[playerid]*3]][item_Tipo]);
	            else PlayerTextDrawSetPreviewModel(playerid, InvRecolher_p[playerid][3], Itens[Item[Lista_Player[playerid][2 + pagina_recolher[playerid]*3]][item_ID]][item_Modelo]);
	            format(string, 150, "%d", Item[Lista_Player[playerid][2 + pagina_recolher[playerid]*3]][item_Unidades]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][6], string);
				format(string, 150, "%s", Itens[Item[Lista_Player[playerid][2 + pagina_recolher[playerid]*3]][item_ID]][item_Nome]);
				PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][9], string);

				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][3]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][6]);
				PlayerTextDrawShow(playerid, InvRecolher_p[playerid][9]);
	            TextDrawShowForPlayer(playerid, InvRecolher[2]);
	            TextDrawShowForPlayer(playerid, InvRecolher[7]);
			}
			else
			{
				PlayerTextDrawHide(playerid, InvRecolher_p[playerid][3]);
				PlayerTextDrawHide(playerid, InvRecolher_p[playerid][6]);
				PlayerTextDrawHide(playerid, InvRecolher_p[playerid][9]);
				TextDrawHideForPlayer(playerid, InvRecolher[2]);
				TextDrawHideForPlayer(playerid, InvRecolher[7]);
				TextDrawHideForPlayer(playerid, InvRecolher2[2]);
			}
		}
		else
		{
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][3]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][6]);
			PlayerTextDrawHide(playerid, InvRecolher_p[playerid][9]);
			TextDrawHideForPlayer(playerid, InvRecolher[2]);
			TextDrawHideForPlayer(playerid, InvRecolher[7]);
			TextDrawHideForPlayer(playerid, InvRecolher2[2]);
		}
		return 1;
	}

	if(funcao == 2) // MOCHILA //
	{
	    TextDrawHideForPlayer(playerid, InvFundo[5]);
        TextDrawHideForPlayer(playerid, InvFundo[7]);
        TextDrawShowForPlayer(playerid, InvFundo[6]);
        TextDrawShowForPlayer(playerid, InvFundo[1]);
        TextDrawShowForPlayer(playerid, InvFundo[3]);
        TextDrawHideForPlayer(playerid, InvFundo[2]);

        new cont;
        for(new ia; ia<MAX_SLOTS; ia++)
        {
            Lista_Inventario[playerid][ia] = -1;
            if(Inventario[playerid][ia][inv_ID] != 0)
            {
                Lista_Inventario[playerid][cont] = ia;
                cont ++;
            }
        }

        new pags;
        new sobra;
        new div;
        if(cont <= 12)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/12;
            div = pags*12;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }

		if(pagina_itens[playerid] > pags-1) pagina_itens[playerid] = pags-1;
		if(pagina_itens[playerid] < 0) pagina_itens[playerid] = 0;
        if(cont > 0)
        {
            format(string, 150, "PAGE~N~~N~%d / %d", pagina_itens[playerid]+1, pags);
            PlayerTextDrawSetString(playerid, InvRecolher_p[playerid][0], string);
            PlayerTextDrawShow(playerid, InvRecolher_p[playerid][0]);
        }
		else PlayerTextDrawHide(playerid, InvRecolher_p[playerid][0]);

        if(pagina_itens[playerid] < pags-1 ) TextDrawShowForPlayer(playerid, InvRecolher[4]);
		else TextDrawHideForPlayer(playerid, InvRecolher[4]);
		if(pagina_itens[playerid] > 0 ) TextDrawShowForPlayer(playerid, InvRecolher[3]);
		else TextDrawHideForPlayer(playerid, InvRecolher[3]);

        for(new i; i<12; i++)
        {
            new att = i + pagina_itens[playerid]*12;
			if(att < MAX_SLOTS)
			{
	            if(Lista_Inventario[playerid][att] != -1)
	            {
	                new oi = Lista_Inventario[playerid][i + pagina_itens[playerid]*12];
	                new ei = Inventario[playerid][oi][inv_ID];

				    PlayerTextDrawSetPreviewRot(playerid, InvItens[playerid][i], Itens[ei][item_PreX],Itens[ei][item_PreY],Itens[ei][item_PreZ],Itens[ei][item_PreV]);
					PlayerTextDrawColor(playerid, InvItens[playerid][i], Itens[ei][item_Cor]);
					if( Itens[ei][item_Modelo] == 1248 ) PlayerTextDrawSetPreviewModel(playerid, InvItens[playerid][i], Inventario[playerid][oi][inv_Tipo]);
		            else if( Itens[ei][item_ID] == 99 ) PlayerTextDrawSetPreviewModel(playerid, InvItens[playerid][i], Inventario[playerid][oi][inv_Tipo]);
		            else PlayerTextDrawSetPreviewModel(playerid, InvItens[playerid][i], Itens[ei][item_Modelo]);

					format(string, 150, "%s", ConvertMoney(Inventario[playerid][oi][inv_Unidades]));
					PlayerTextDrawSetString(playerid, InvUnidades[playerid][i], string);
					format(string, 150, "%s", Itens[ei][item_Nome]);
					PlayerTextDrawSetString(playerid, InvNomes[playerid][i], string);

					if(escolhendo[playerid] == oi) PlayerTextDrawBackgroundColor(playerid, InvItens[playerid][i], 0x00ffff50);
					else PlayerTextDrawBackgroundColor(playerid, InvItens[playerid][i], 0xffffff20);

					PlayerTextDrawShow(playerid, InvItens[playerid][i]);
					PlayerTextDrawShow(playerid, InvUnidades[playerid][i]);
					PlayerTextDrawShow(playerid, InvNomes[playerid][i]);
				}
				else
				{
				    PlayerTextDrawHide(playerid, InvItens[playerid][i]);
					PlayerTextDrawHide(playerid, InvUnidades[playerid][i]);
					PlayerTextDrawHide(playerid, InvNomes[playerid][i]);
				}
			}
			else
			{
			    PlayerTextDrawHide(playerid, InvItens[playerid][i]);
				PlayerTextDrawHide(playerid, InvUnidades[playerid][i]);
				PlayerTextDrawHide(playerid, InvNomes[playerid][i]);
			}
        }

        return 1;
	}

	if(funcao == 3) // EQUIPMENT //
	{
		TextDrawHideForPlayer(playerid, InvFundo[5]);
		TextDrawHideForPlayer(playerid, InvFundo[6]);
		TextDrawShowForPlayer(playerid, InvFundo[7]);
		TextDrawShowForPlayer(playerid, InvFundo[1]);
		TextDrawShowForPlayer(playerid, InvFundo[2]);
		TextDrawHideForPlayer(playerid, InvFundo[3]);

		for(new i; i<sizeof(InvEquipamentos); i++)
		{
			TextDrawShowForPlayer(playerid, InvEquipamentos[i]);
		}

		format(string, 100, "~r~~h~No Helmet");
		if(Capacete[playerid][0] != 0) format(string, 100, "~w~Helmet ~y~Lv %d~n~~g~%d%%", Capacete[playerid][0], Capacete[playerid][1]);
		PlayerTextDrawSetString(playerid, InvEquipamentos_p[playerid][0], string);
		PlayerTextDrawShow(playerid, InvEquipamentos_p[playerid][0]);

		format(string, 100, "~r~~h~No Mask");
		if(Mascara[playerid] != 0) format(string, 100, "Mask~n~~g~%d%%", Mascara[playerid]/3);
		PlayerTextDrawSetString(playerid, InvEquipamentos_p[playerid][1], string);
		PlayerTextDrawShow(playerid, InvEquipamentos_p[playerid][1]);

		format(string, 100, "~r~~h~No Vest");
		if(Colete[playerid][0] != 0) format(string, 100, "Vest ~y~Lv %d~n~~g~%d%%", Colete[playerid][0], Colete[playerid][1]);
		PlayerTextDrawSetString(playerid, InvEquipamentos_p[playerid][2], string);
		PlayerTextDrawShow(playerid, InvEquipamentos_p[playerid][2]);
	}

	return 1;
}

fecharinv(playerid)
{
	if(Modo[playerid] == 1)
	{
	    if(pInfo[playerid][pConfig][6] == 0)
	    {
	        mostrar_busola(playerid);
	    }
	}
	ClearAnimations(playerid, 1);
    fechar_opcoes(playerid);
	CancelSelectTextDraw_(playerid);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 9))RemovePlayerAttachedObject(playerid, 9);
	for(new q; q<sizeof(InvFundo); q++) TextDrawHideForPlayer(playerid, InvFundo[q]);
	for(new a; a<sizeof(InvRecolher); a++) TextDrawHideForPlayer(playerid, InvRecolher[a]);
	for(new v; v<sizeof(InvRecolher2); v++) TextDrawHideForPlayer(playerid, InvRecolher2[v]);
	for(new qq; qq<sizeof(InvRecolher); qq++) TextDrawHideForPlayer(playerid, InvRecolher[qq]);
	for(new i; i<12; i++) PlayerTextDrawHide(playerid, InvItens[playerid][i]);
	for(new i; i<12; i++) PlayerTextDrawHide(playerid, InvNomes[playerid][i]);
	for(new i; i<12; i++) PlayerTextDrawHide(playerid, InvUnidades[playerid][i]);
	for(new ia; ia<3; ia++) PlayerTextDrawHide(playerid, InvEquipamentos_p[playerid][ia]);
 	for(new ii; ii<sizeof(InvEquipamentos); ii++) TextDrawHideForPlayer(playerid, InvEquipamentos[ii]);

	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][0]);
    PlayerTextDrawHide(playerid, InvRecolher_p[playerid][1]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][2]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][3]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][4]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][5]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][6]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][7]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][8]);
	PlayerTextDrawHide(playerid, InvRecolher_p[playerid][9]);

    invaberto[playerid] = 0;
    guardando[playerid] = 0;

    if(Modo[playerid] == 1)
    {
		TextDrawShowForPlayer(playerid, T_Rodape[0]);
		TextDrawShowForPlayer(playerid, T_Rodape[1]);
		TextDrawShowForPlayer(playerid, T_Rodape[2]);
		PlayerTextDrawShow(playerid, T_Rodape_p[playerid][0]);
	}

	return 1;
}


Nome(playerid)
{
    static nameplayer[MAX_PLAYER_NAME];
    format(nameplayer, sizeof(nameplayer), "Nobody");
    if(playerid >= 0 && playerid < MAX_PLAYERS) return nome_player[playerid];
    return nameplayer;
}


salvarinv(playerid)
{
	if(Online(playerid))
	{
		new file[100];
		format(file, 100, "Inventarios/%s.txt", Nome(playerid));
		if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
		new string[100];
		for(new i; i<MAX_SLOTS; i++)
		{
		    format(string, 100, "ID_%d", i);
			DOF2_SetInt(file, string, Inventario[playerid][i][inv_ID]);
			format(string, 100, "Unidades_%d", i);
			DOF2_SetInt(file, string, Inventario[playerid][i][inv_Unidades]);
			format(string, 100, "Tipo_%d", i);
			DOF2_SetInt(file, string, Inventario[playerid][i][inv_Tipo]);
		}
		DOF2_SaveFile();
	}
	return 1;
}

salvarinvLobby(playerid)
{
	if(Online(playerid))
	{
		new file[100];
		format(file, 100, "Inventarios_Loby/%s.txt", Nome(playerid));
		if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
		new string[100];
		for(new i; i<MAX_SLOTS; i++)
		{
		    format(string, 100, "ID_%d", i);
			DOF2_SetInt(file, string, Inventario_Lobby[playerid][i][inv_ID]);
			format(string, 100, "Unidades_%d", i);
			DOF2_SetInt(file, string, Inventario_Lobby[playerid][i][inv_Unidades]);
			format(string, 100, "Tipo_%d", i);
			DOF2_SetInt(file, string, Inventario_Lobby[playerid][i][inv_Tipo]);
			format(string, 100, "Visto_%d", i);
			DOF2_SetInt(file, string, Inventario_Lobby[playerid][i][inv_Visto]);
		}
		DOF2_SaveFile();
	}
	return 1;
}

carregarinv(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    for(new ii; ii<MAX_SLOTS; ii++)
	    {
	        Inventario[playerid][ii][inv_ID] = 0;
	        Inventario[playerid][ii][inv_Tipo] = 0;
	        Inventario[playerid][ii][inv_Unidades] = 0;
	    }

		new file[100];
		format(file, 100, "Inventarios/%s.txt", Nome(playerid));
		if(DOF2_FileExists(file))
		{
			new string[100];
			for(new i; i<MAX_SLOTS; i++)
			{
			    format(string, 100, "ID_%d", i);
				Inventario[playerid][i][inv_ID] = DOF2_GetInt(file, string);
				format(string, 100, "Unidades_%d", i);
				Inventario[playerid][i][inv_Unidades] = DOF2_GetInt(file, string);
				format(string, 100, "Tipo_%d", i);
				Inventario[playerid][i][inv_Tipo] = DOF2_GetInt(file, string);
			}
		}
	}
	return 1;
}

carregarinvLobby(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    for(new ii; ii<MAX_LOBBY; ii++)
	    {
	        Inventario_Lobby[playerid][ii][inv_ID] = 0;
	        Inventario_Lobby[playerid][ii][inv_Tipo] = 0;
	        Inventario_Lobby[playerid][ii][inv_Unidades] = 0;
	        Inventario_Lobby[playerid][ii][inv_Visto] = 0;
	    }

		new file[100];
		format(file, 100, "Inventarios_Loby/%s.txt", Nome(playerid));
		if(DOF2_FileExists(file))
		{
			new string[100];
			for(new i; i<MAX_LOBBY; i++)
			{
			    format(string, 100, "ID_%d", i);
				Inventario_Lobby[playerid][i][inv_ID] = DOF2_GetInt(file, string);
				format(string, 100, "Unidades_%d", i);
				Inventario_Lobby[playerid][i][inv_Unidades] = DOF2_GetInt(file, string);
				format(string, 100, "Tipo_%d", i);
				Inventario_Lobby[playerid][i][inv_Tipo] = DOF2_GetInt(file, string);
				format(string, 100, "Visto_%d", i);
				Inventario_Lobby[playerid][i][inv_Visto] = DOF2_GetInt(file, string);
			}
		}
	}
	return 1;
}


criarconta(playerid, senha[], sexo)
{
    new file[100];
	format(file, 100, "Whitelist/%s.txt", Nome(playerid));
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);

    DOF2_SetInt(file, "pMissaoDia", getdate());
    DOF2_SetInt(file, "pMissaoColetado", 0);

    GetPlayerIp(playerid, pInfo[playerid][pIP], 100);
    DOF2_SetString(file, "pIP", pInfo[playerid][pIP]);
    DOF2_SetInt(file, "pSkin", SkinInicial[sexo]);
    DOF2_SetInt(file, "pTutorial", 0);
    DOF2_SetInt(file, "pSexo", sexo);
    DOF2_SetInt(file, "pFome", 0);
    DOF2_SetInt(file, "pVip", 0);
    DOF2_SetInt(file, "pLobby", 0);
    DOF2_SetInt(file, "pCadeia", 0);
    DOF2_SetString(file, "pCadeiaMotivo", "Nenhum");
    DOF2_SetString(file, "pCadeiaAdmin", Nome(-1));
    DOF2_SetInt(file, "pSede", 0);
    DOF2_SetInt(file, "pFrio", 0);
    DOF2_SetInt(file, "pSono", 0);
    DOF2_SetInt(file, "pZombies", 0);
    DOF2_SetInt(file, "pVivo", 0);
    DOF2_SetInt(file, "pMorreu", 0);
    DOF2_SetInt(file, "pMatou", 0);
    DOF2_SetInt(file, "pArmaMorreu", 0);
    DOF2_SetString(file, "pKiller", Nome(-1));
    DOF2_SetString(file, "senha", senha);
	DOF2_SetInt(file, "Vida", 100);
    DOF2_SetInt(file, "Mascara", 0);
    DOF2_SetInt(file, "Colete1", 0);
    DOF2_SetInt(file, "Colete2", 0);
    DOF2_SetInt(file, "Capacete1", 0);
    DOF2_SetInt(file, "Capacete2", 0);
    DOF2_SetInt(file, "pGrana", 5000);
    DOF2_SetInt(file, "pJogado", 0);
    DOF2_SetInt(file, "pClasse", -1);
    DOF2_SetInt(file, "pUpar", 0);
    DOF2_SetInt(file, "pCash", 0);
    DOF2_SetInt(file, "pXP", 0);
    DOF2_SetInt(file, "pRank", 1);
    DOF2_SetInt(file, "pXPH", 0);
    DOF2_SetInt(file, "pLevel", 0);
    DOF2_SetInt(file, "Madeiras", 35);
    DOF2_SetInt(file, "Metais", 20);
    DOF2_SetInt(file, "Pedras", 20);
    DOF2_SetInt(file, "Polvoras", 15);
    DOF2_SetInt(file, "pInterior", 0);
    DOF2_SetInt(file, "pMundo", 0);
    DOF2_SetFloat(file, "pX", 0.0);
    DOF2_SetFloat(file, "pY", 0.0);
    DOF2_SetFloat(file, "pZ", 0.0);
    DOF2_SetFloat(file, "pA", 0.0);
    DOF2_SetInt(file, "pConfig1", 0);
    DOF2_SetInt(file, "pConfig2", 0);
    DOF2_SetInt(file, "pConfig3", 0);
    DOF2_SetInt(file, "pConfig4", 0);
    DOF2_SetInt(file, "pConfig5", 0);
    DOF2_SetInt(file, "pConfig6", 0);
    DOF2_SetInt(file, "pConfig7", 0);

    DOF2_SetFloat(file, "Morto", 0);

    new sss1[40], sss2[40];
    for(new a; a<13; a++)
    {
        format(sss1, 40, "Arma_%d", a);
        format(sss2, 40, "Municao_%d", a);
        DOF2_SetInt(file, sss1, 0);
        DOF2_SetInt(file, sss2, 0);
    }

    DOF2_SaveFile();
    carregarconta(playerid);
    salvarconta(playerid);
	return 1;
}

salvarconta(playerid)
{
    new file[100];
	format(file, 100, "Whitelist/%s.txt", Nome(playerid));
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);

	DOF2_SetInt(file, "pMissaoDia", pInfo[playerid][pMissaoDia]);
	DOF2_SetInt(file, "pMissaoColetado", pInfo[playerid][pMissaoColetado]);

    DOF2_SetInt(file, "pTutorial", pInfo[playerid][pTutorial]);
    DOF2_SetInt(file, "pVip", pInfo[playerid][pVip]);
    DOF2_SetInt(file, "pLobby", pInfo[playerid][pLobby]);
    GetPlayerIp(playerid, pInfo[playerid][pIP], 100);
    DOF2_SetString(file, "pIP",  pInfo[playerid][pIP]);
    DOF2_SetInt(file, "pCadeia", pInfo[playerid][pCadeia]);
    DOF2_SetString(file, "pCadeiaMotivo", pInfo[playerid][pCadeiaMotivo]);
    DOF2_SetString(file, "pCadeiaAdmin", pInfo[playerid][pCadeiaAdmin]);
    DOF2_SetInt(file, "pSexo", pInfo[playerid][pSexo]);
    DOF2_SetInt(file, "pFome", pInfo[playerid][pFome]);
    DOF2_SetInt(file, "pSede", pInfo[playerid][pSede]);
    DOF2_SetInt(file, "pSono", pInfo[playerid][pSono]);
    DOF2_SetInt(file, "pFrio", pInfo[playerid][pFrio]);
    DOF2_SetInt(file, "pVivo", pInfo[playerid][pVivo]);
    DOF2_SetInt(file, "pMorreu", pInfo[playerid][pMorreu]);
    DOF2_SetInt(file, "pMatou", pInfo[playerid][pMatou]);
    DOF2_SetString(file, "pKiller", pInfo[playerid][pKiller]);
    DOF2_SetInt(file, "pArmaMorreu", pInfo[playerid][pArmaMorreu]);
    DOF2_SetInt(file, "pZombies", pInfo[playerid][pZombies]);
    DOF2_SetInt(file, "pGrana", pInfo[playerid][pGrana]);
    DOF2_SetInt(file, "pJogado", pInfo[playerid][pJogado]);
    DOF2_SetInt(file, "pClasse", pInfo[playerid][pClasse]);
    DOF2_SetInt(file, "pUpar", pInfo[playerid][pUpar]);
    DOF2_SetInt(file, "pCash", pInfo[playerid][pCash]);
    DOF2_SetInt(file, "pSkin", pInfo[playerid][pSkin]);
    DOF2_SetInt(file, "pXP", pInfo[playerid][pXP]);
    DOF2_SetInt(file, "pRank", pInfo[playerid][pRank]);
    DOF2_SetInt(file, "pXPH", pInfo[playerid][pXPH]);
    DOF2_SetInt(file, "pLevel", pInfo[playerid][pLevel]);
    DOF2_SetInt(file, "Madeiras", Madeiras[playerid]);
    DOF2_SetInt(file, "Metais", Metais[playerid]);
    DOF2_SetInt(file, "Pedras", Pedras[playerid]);
    DOF2_SetInt(file, "Polvoras", Polvoras[playerid]);
    DOF2_SetInt(file, "pConfig1", pInfo[playerid][pConfig][0]);
    DOF2_SetInt(file, "pConfig2", pInfo[playerid][pConfig][1]);
    DOF2_SetInt(file, "pConfig3", pInfo[playerid][pConfig][2]);
    DOF2_SetInt(file, "pConfig4", pInfo[playerid][pConfig][3]);
    DOF2_SetInt(file, "pConfig5", pInfo[playerid][pConfig][4]);
    DOF2_SetInt(file, "pConfig6", pInfo[playerid][pConfig][5]);
    DOF2_SetInt(file, "pConfig7", pInfo[playerid][pConfig][6]);

    if(Modo[playerid] == 1)
    {
        if(!IsPlayerInRangeOfPoint(playerid, 50, 248.3148, 302.1143, 999.1484))
        {
            if(olhando_camera[playerid] == -1)
            {
                if(olhando_satelite[playerid] == 0)
                {
                    if(RC[playerid] == INVALID_VEHICLE_ID)
                    {
                        if(tv_player[playerid] == -1)
                        {
					        GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
					        GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
					        pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
							pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
						}
					}
				}
			}
		}

        DOF2_SetInt(file, "Morto", Morto[playerid]);
	    DOF2_SetInt(file, "pInterior", pInfo[playerid][pInterior]);
	    DOF2_SetInt(file, "pMundo", pInfo[playerid][pMundo]);

	    if(MORREU_POS[playerid] == 1)
	    {
	        MORREU_POS[playerid] = 0;
	        DOF2_SetFloat(file, "pX", 0);
		    DOF2_SetFloat(file, "pY", 0);
		    DOF2_SetFloat(file, "pZ", 0);
		    DOF2_SetFloat(file, "pA", 0);
	    }
	    else
	    {
	        MORREU_POS[playerid] = 0;
		    DOF2_SetFloat(file, "pX", pInfo[playerid][pX]);
		    DOF2_SetFloat(file, "pY", pInfo[playerid][pY]);
		    DOF2_SetFloat(file, "pZ", pInfo[playerid][pZ]);
		    DOF2_SetFloat(file, "pA", pInfo[playerid][pA]);
	    }
	    DOF2_SetInt(file, "Capacete1", Capacete[playerid][0]);
		DOF2_SetInt(file, "Capacete2", Capacete[playerid][1]);
		DOF2_SetInt(file, "Colete1", Colete[playerid][0]);
		DOF2_SetInt(file, "Colete2", Colete[playerid][1]);
		DOF2_SetInt(file, "Mascara", Mascara[playerid]);
        DOF2_SetInt(file, "Vida", Vida[playerid]);

        if(tv_player[playerid] == -1)
        {
            if(olhando_camera[playerid] == -1)
            {
                if(olhando_satelite[playerid] == 0)
                {
					new sss1[40], sss2[40];
			        for(new a; a<13; a++)
			        {
			            format(sss1, 40, "Arma_%d", a);
			            format(sss2, 40, "Municao_%d", a);
			            new aaa1,aaa2;
			            GetPlayerWeaponData(playerid, a, aaa1, aaa2);
			            DOF2_SetInt(file, sss1, aaa1);
			            DOF2_SetInt(file, sss2, aaa2);
			        }
		        }
	        }
        }
    }
    else DOF2_SetInt(file, "Morto", 0);

    DOF2_SaveFile();
	return 1;
}

carregarconta(playerid)
{
	new file[100];
	format(file, 100, "Whitelist/%s.txt", Nome(playerid));

    // informacoes do player //
	pInfo[playerid][pTutorial] = DOF2_GetInt(file, "pTutorial");
	GetPlayerIp(playerid, pInfo[playerid][pIP], 100);
	format(pInfo[playerid][pCadeiaAdmin], MAX_PLAYER_NAME, DOF2_GetString(file, "pCadeiaAdmin"));
	format(pInfo[playerid][pCadeiaMotivo], 150, DOF2_GetString(file, "pCadeiaMotivo"));
	pInfo[playerid][pCadeia] = DOF2_GetInt(file, "pCadeia");
	pInfo[playerid][pLobby] = DOF2_GetInt(file, "pLobby");
	pInfo[playerid][pVip] = DOF2_GetInt(file, "pVip");
	pInfo[playerid][pSexo] = DOF2_GetInt(file, "pSexo");
	format(pInfo[playerid][pKiller], MAX_PLAYER_NAME, DOF2_GetString(file, "pKiller"));
	pInfo[playerid][pArmaMorreu] = DOF2_GetInt(file, "pArmaMorreu");
    pInfo[playerid][pDia] = DOF2_GetInt(file, "pDia");
    pInfo[playerid][pMes] = DOF2_GetInt(file, "pMes");
    pInfo[playerid][pAno] = DOF2_GetInt(file, "pAno");
    pInfo[playerid][pHora] = DOF2_GetInt(file, "pHora");
    pInfo[playerid][pMinuto] = DOF2_GetInt(file, "pMinuto");
    pInfo[playerid][pSegundo] = DOF2_GetInt(file, "pSegundo");
    pInfo[playerid][pConfig][0] = DOF2_GetInt(file, "pConfig1");
    pInfo[playerid][pConfig][1] = DOF2_GetInt(file, "pConfig2");
    pInfo[playerid][pConfig][2] = DOF2_GetInt(file, "pConfig3");
    pInfo[playerid][pConfig][3] = DOF2_GetInt(file, "pConfig4");
    pInfo[playerid][pConfig][4] = 0;
    pInfo[playerid][pConfig][5] = DOF2_GetInt(file, "pConfig6");
    pInfo[playerid][pConfig][6] = DOF2_GetInt(file, "pConfig7");
    pInfo[playerid][pCash] = DOF2_GetInt(file, "pCash");
    pInfo[playerid][pSkin] = DOF2_GetInt(file, "pSkin");
	pInfo[playerid][pFome] = DOF2_GetInt(file, "pFome");
	pInfo[playerid][pSede] = DOF2_GetInt(file, "pSede");
	pInfo[playerid][pFrio] = DOF2_GetInt(file, "pFrio");
	pInfo[playerid][pSono] = DOF2_GetInt(file, "pSono");
	pInfo[playerid][pMorreu] = DOF2_GetInt(file, "pMorreu");
	pInfo[playerid][pMatou] = DOF2_GetInt(file, "pMatou");
	pInfo[playerid][pZombies] = DOF2_GetInt(file, "pZombies");
	pInfo[playerid][pVivo] = DOF2_GetInt(file, "pVivo");
	pInfo[playerid][pGrana] = DOF2_GetInt(file, "pGrana");
	pInfo[playerid][pJogado] = DOF2_GetInt(file, "pJogado");
	pInfo[playerid][pClasse] = DOF2_GetInt(file, "pClasse");
	pInfo[playerid][pLevel] = DOF2_GetInt(file, "pLevel");
	pInfo[playerid][pRank] = DOF2_GetInt(file, "pRank");
	pInfo[playerid][pXP] = DOF2_GetInt(file, "pXP");
	pInfo[playerid][pXPH] = DOF2_GetInt(file, "pXPH");
	pInfo[playerid][pUpar] = DOF2_GetInt(file, "pUpar");
	Madeiras[playerid] = DOF2_GetInt(file, "Madeiras");
    Metais[playerid] = DOF2_GetInt(file, "Metais");
    Pedras[playerid] = DOF2_GetInt(file, "Pedras");
    Polvoras[playerid] = DOF2_GetInt(file, "Polvoras");
    pInfo[playerid][pInterior] = DOF2_GetInt(file, "pInterior");
    pInfo[playerid][pMundo] = DOF2_GetInt(file, "pMundo");
	pInfo[playerid][pX] = DOF2_GetFloat(file, "pX");
	pInfo[playerid][pY] = DOF2_GetFloat(file, "pY");
	pInfo[playerid][pZ] = DOF2_GetFloat(file, "pZ");
	pInfo[playerid][pA] = DOF2_GetFloat(file, "pA");
	Capacete[playerid][0] = DOF2_GetInt(file, "Capacete1");
	Capacete[playerid][1] = DOF2_GetInt(file, "Capacete2");
	Colete[playerid][0] = DOF2_GetInt(file, "Colete1");
	Colete[playerid][1] = DOF2_GetInt(file, "Colete2");
	Mascara[playerid] = DOF2_GetInt(file, "Mascara");
	Vida[playerid] = DOF2_GetInt(file, "Vida");
	Morto[playerid] = DOF2_GetInt(file, "Morto");

	// setar as armas //
	new sss1[40], sss2[40];
 	for(new a; a<13; a++)
    {

        format(sss1, 40, "Arma_%d", a);
        format(sss2, 40, "Municao_%d", a);
		if(DOF2_GetInt(file, sss1) != 0)
		{
			GivePlayerWeapon(playerid, DOF2_GetInt(file, sss1), DOF2_GetInt(file, sss2));
		}
    }


	SetarGrana(playerid, pInfo[playerid][pGrana]);
	SetPlayerScore(playerid, pInfo[playerid][pLevel]);
    base_player[playerid] = BasePlayer2(playerid);
	return 1;
}


carregarplayer(playerid)
{
    // carregar inv //
	carregarpasse(playerid);
	carregarconta(playerid);
	carregarinv(playerid);
	carregarinvLobby(playerid);
	carregar_contatos(playerid);
	carregar_recicladora_player(playerid);
 	verificar_cadastro(playerid);
	return 1;
}

salvarplayer(playerid)
{
    // salvar tudo //
	salvarpasse(playerid);
	salvarinv(playerid);
	salvarconta(playerid);
	salvar_contatos(playerid);
	salvarinvLobby(playerid);
	salvar_recicladora_player(playerid);
	return 1;
}

forward timer_drop(d);
public timer_drop(d)
{
    if(Drop[d][drop_Contar] < gettime())
    {
        if(!IsDynamicObjectMoving(Drop[d][drop_Obj]))
        {
            KillTimer_(Drop[d][drop_Timer]);
            new Float:pos[3];
            GetDynamicObjectPos(Drop[d][drop_Obj], pos[0], pos[1], pos[2]);
            Drop[d][drop_Obj3] = CreateDynamicObject(18728, pos[0], pos[1], pos[2]-1, 0,0,0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
            if(IsValidDynamicObject(Drop[d][drop_Obj2])) DestroyDynamicObject_(Drop[d][drop_Obj2]);

            // create loot //
            new rands = random(5);
            new sss[150];

            if(rands == 0)
            {
                format(sss, 150, "{00ffff}Air Drop [%d]\n{ffff00}Equipment\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to collect the items", d);
                criar_item(4, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[4][item_Tipo]);
                criar_item(15, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[15][item_Tipo]);
                criar_item(18, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[18][item_Tipo]);
                criar_item(2, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 3, 0, 0, Itens[2][item_Tipo]);
                criar_item(3, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 3, 0, 0, Itens[3][item_Tipo]);
                criar_item(8, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 3, 0, 0, Itens[8][item_Tipo]);
            }

            if(rands == 1)
            {
                format(sss, 150, "{00ffff}Air Drop [%d]\n{ffff00}Ammunition\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to collect the items", d);
                criar_item(62, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 50, 0, 0, Itens[62][item_Tipo]);
                criar_item(63, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 15, 0, 0, Itens[63][item_Tipo]);
                criar_item(64, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 30, 0, 0, Itens[64][item_Tipo]);
                criar_item(65, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 60, 0, 0, Itens[65][item_Tipo]);
                criar_item(66, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 15, 0, 0, Itens[66][item_Tipo]);
            }

            if(rands == 2)
            {
                format(sss, 150, "{00ffff}Air Drop [%d]\n{ffff00}Vehicle Parts\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to collect the items", d);
                criar_item(83, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[83][item_Tipo]);
                criar_item(89, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[89][item_Tipo]);
                criar_item(87, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[87][item_Tipo]);
                criar_item(85, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[85][item_Tipo]);
                criar_item(85, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[85][item_Tipo]);
                criar_item(85, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[85][item_Tipo]);
                criar_item(85, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[85][item_Tipo]);
                criar_item(128, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[128][item_Tipo]);
                criar_item(129, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[129][item_Tipo]);
                criar_item(10, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[10][item_Tipo]);
            }

            if(rands == 3)
            {
                format(sss, 150, "{00ffff}Air Drop [%d]\n{ffff00}Food\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to collect the items", d);
                criar_item(28, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[28][item_Tipo]);
                criar_item(29, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[29][item_Tipo]);
                criar_item(30, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[30][item_Tipo]);
                criar_item(31, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[31][item_Tipo]);
                criar_item(32, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[32][item_Tipo]);
                criar_item(68, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[68][item_Tipo]);
                criar_item(70, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[70][item_Tipo]);
                criar_item(73, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[73][item_Tipo]);
                criar_item(74, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[74][item_Tipo]);
                criar_item(75, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[75][item_Tipo]);
                criar_item(76, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[76][item_Tipo]);
                criar_item(77, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[77][item_Tipo]);
                criar_item(109, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[109][item_Tipo]);
                criar_item(110, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[110][item_Tipo]);
            }

            if(rands == 4)
            {
                format(sss, 150, "{00ffff}Air Drop [%d]\n{ffff00}Weapons\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to collect the items", d);
                criar_item(49, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[49][item_Tipo]);
                criar_item(44, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[44][item_Tipo]);
                criar_item(46, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 1, 0, 0, Itens[46][item_Tipo]);
                criar_item(66, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 15, 0, 0, Itens[66][item_Tipo]);
                criar_item(64, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 60, 0, 0, Itens[64][item_Tipo]);
                criar_item(65, pos[0]+RandomFloat1[random(5)], pos[1]+RandomFloat1[random(5)], pos[2]+RandomFloat1[random(5)], 60, 0, 0, Itens[65][item_Tipo]);
            }

            Drop[d][drop_3D] = CreateDynamic3DTextLabel( sss, 0xffffff99, pos[0], pos[1], pos[2]+1.1, 10, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
            GZ_DestruirGz(Drop[d][drop_Gz]);
            Drop[d][drop_Gz] = GZ_CriarGz(pos[0], pos[1], 150, 150, 0, 0xff000080);
            for(new pla; pla<MAX_PLAYERS; pla++)
            {
                if(Online(pla))
                {
                    if(Modo[pla] == 1)
                    {
                        GZ_MostrarGzPlayer(pla, Drop[d][drop_Gz]);
                    }
                }
            }
        }
    }
    return 1;
}


forward Reloginho2();
public Reloginho2()
{
    // get time and date //
    new string[300];
    new hora, minu, seg, dia, mes, ano;
    gettime(hora, minu, seg);
    getdate(ano, mes, dia);

    // auto respawn //
    if(respawn_auto == (5*60)) 
        for(new play; play<MAX_PLAYERS; play++) 
            if(Online(play)) 
                if(Modo[play] == 1) 
                    ms(play, 4, "[RESPAWN] 5 minutes left until Automatic Respawn!");
    if(respawn_auto == 60)     
        for(new play; play<MAX_PLAYERS; play++) 
            if(Online(play)) 
                if(Modo[play] == 1) 
                    ms(play, 4, "[RESPAWN] 1 minute left until Automatic Respawn, collect your items from the ground!");
    if(respawn_auto <= 0)
    {
        respawn_auto = tempo_respawn;
        RespawnTudo();
        for(new play; play<MAX_PLAYERS; play++) 
            if(Online(play)) 
                if(Modo[play] == 1) 
                    ms(play, 4, "[RESPAWN] The Automatic Respawn was completed successfully!");
    }
    respawn_auto --;

    switch(hora)
    {
        case 0..4: if(hora_certa != 3) hora_certa = 3, SetWorldTime(3);
        case 5..10: if(hora_certa != 7) hora_certa = 7, SetWorldTime(7);
        case 11..15: if(hora_certa != 12) hora_certa = 12, SetWorldTime(12);
        case 16..18: if(hora_certa != 20) hora_certa = 20, SetWorldTime(20);
        case 19..23: if(hora_certa != 0) hora_certa = 0, SetWorldTime(0);
    }

    for(new p; p<MAX_POSTOS; p++)
    {
        if(Posto[p][posto_Existe] == 1)
        {
            format(string, 150, "{00ffff}%s\n{ffffff}Liters: {00ff00}%d\n\n{a1a1a1}Use your empty Jerrycan here", Posto[p][posto_Nome], Posto[p][posto_Litros]);
            if(IsValidDynamic3DTextLabel(Posto[p][posto_3D])) UpdateDynamic3DTextLabelText(Posto[p][posto_3D], 0xffffff99, string);
        }
    }

	for(new s; s<MAX_SALAS; s++)
	{
	    if(Sala[s][sala_Existe] == 1)
	    {
	        if(Sala[s][sala_Jogando] == 0)
	        {
	            angulo[s] += 6.666666;
	            if(angulo[s] > 360.0) angulo[s] -= 360.0;
	            if(tempo_mudar[s] == 5)
	            {
	            	Olhar_Mapa(s, -1);
	            	tempo_mudar[s] = 0;
	            }
	            else tempo_mudar[s] ++;
	        }
	    }
	}
}


forward Reloginho();
public Reloginho()
{
    // pegar hora e data, roda pe //
	new string[300];
	new hora, minu, seg, dia, mes, ano;
	gettime(hora, minu, seg);
	getdate(ano, mes, dia);
	format(string, 150, "~b~~h~~h~%d  %s  %04d~n~~y~%s~n~~w~%02d:%02d:%02d~n~",dia, pegar_mes(mes), ano, GetWeekDay(), hora, minu, seg);
	TextDrawSetString(T_Rodape[3], string);
	format(string, 150, "%d  C", Temperatura());
	TextDrawSetString(T_Rodape[5], string);
	tempo_ligado ++;
	format(string, 150, "RESPAWN OTOMATIS  ~Y~%s", ConvertTime(respawn_auto));
	TextDrawSetString(T_Rodape[1], string);

	// clima //
	if(tempo_clima == 60)
	{
	    new rand = random(sizeof Clima);
	    proximo_clima_server = rand;
	    format(string, 300, "Ramalan cuaca 1 menit dari sekarang: %s.", Clima[rand][clima_Nome]);
	    for(new pla; pla<MAX_PLAYERS; pla++) if(Online(pla)) if(Modo[pla] == 1) ms(pla, 4, string);
	}
	if(tempo_clima == 0)
	{
	    new rand = proximo_clima_server;
	    tempo_clima = Clima[rand][clima_Duracao];
		id_clima_server = Clima[rand][clima_Clima];
		clima_server = rand;
		format(string, 300, "Cuaca: %s ( %d C ).", Clima[rand][clima_Nome], Temperatura());
	    for(new pla; pla<MAX_PLAYERS; pla++)
		{
			if(Online(pla))
			{
				if(Modo[pla] == 1)
				{
					ms(pla, 4, string);
					SetPlayerWeather(pla, Clima[rand][clima_Clima]);
				}
			}
		}
	}
	tempo_clima --;

	// drops //
	if(proximo_drop == 0)
	{
	    for(new d; d<MAX_DROPS; d++)
	    {
	        if(Drop[d][drop_Existe] == 0)
	        {
	            Drop[d][drop_Existe] = 1;
	            if(IsValidDynamicObject(Drop[d][drop_Obj])) DestroyDynamicObject_(Drop[d][drop_Obj]);
	            if(IsValidDynamicObject(Drop[d][drop_Obj2])) DestroyDynamicObject_(Drop[d][drop_Obj2]);
	            if(IsValidDynamicObject(Drop[d][drop_Obj3])) DestroyDynamicObject_(Drop[d][drop_Obj3]);
	            if(IsValidDynamic3DTextLabel(Drop[d][drop_3D])) DestroyDynamic3DTextLabel(Drop[d][drop_3D]);

	            new cont;
	            new list[MAX_DROPS];
	            for(new dd; dd<sizeof PosDrop; dd++)
	            {
	                list[dd] = -1;
	                if(PosDropUsada[dd] == 0)
	                {
	                    list[cont] = dd;
	                    cont++;
	                }
	            }
	            if(cont > 0)
	            {
		            new rand = random(cont);
		            new a = list[rand];
		            PosDropUsada[a] = 1;
	                Drop[d][drop_Contar] = gettime()+5;
		            Drop[d][drop_Obj2] = CreateDynamicObject(18849, PosDrop[a][0], PosDrop[a][1], PosDrop[a][2]+800+7.5, 0,0,0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
					Drop[d][drop_Obj] = CreateDynamicObject(3799, PosDrop[a][0], PosDrop[a][1], PosDrop[a][2]+800, 0,0,0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
					PegarAltura(PosDrop[a][0], PosDrop[a][1], PosDrop[a][2], 100);
					MoveDynamicObject(Drop[d][drop_Obj], PosDrop[a][0], PosDrop[a][1], PosDrop[a][2], 20, -1000.0, -1000.0, -1000.0);
	                MoveDynamicObject(Drop[d][drop_Obj2], PosDrop[a][0], PosDrop[a][1], PosDrop[a][2]+7.5, 20, -1000.0, -1000.0, -1000.0);
	                KillTimer_(Drop[d][drop_Timer]);
	                Drop[d][drop_Timer] = SetTimerEx("timer_drop", 1000, 1, "d", d);
	                GZ_DestruirGz(Drop[d][drop_Gz]);
	                Drop[d][drop_Gz] = GZ_CriarGz(PosDrop[a][0], PosDrop[a][1], 150, 150, 0, 0xffff0080);

					for(new pla; pla<MAX_PLAYERS; pla++)
					{
						if(Online(pla))
						{
							if(Modo[pla] == 1)
							{
								GZ_MostrarGzPlayer(pla, Drop[d][drop_Gz]);
								ms(pla, 4, "[AIR DROP] Air Drop baru akan jatuh, periksa peta Anda untuk mencoba menambil Item.");
							}
						}
					}
		            break;
	            }
	        }
	    }
	    proximo_drop = 1800;
	}
	proximo_drop --;
}

pegar_mes(mes)
{
	new mes_agora[50];
	format(mes_agora, 50, "Tidak ada");
	if(mes == 1) format(mes_agora, 50, "Janari");
	if(mes == 2) format(mes_agora, 50, "Februari");
	if(mes == 3) format(mes_agora, 50, "Maret");
	if(mes == 4) format(mes_agora, 50, "April");
	if(mes == 5) format(mes_agora, 50, "Mei");
	if(mes == 6) format(mes_agora, 50, "Juni");
	if(mes == 7) format(mes_agora, 50, "Juli");
	if(mes == 8) format(mes_agora, 50, "Agustus");
	if(mes == 9) format(mes_agora, 50, "September");
	if(mes == 10) format(mes_agora, 50, "October");
	if(mes == 11) format(mes_agora, 50, "November");
	if(mes == 12) format(mes_agora, 50, "Desember");
	return mes_agora;
}

recolherinv(playerid, id)
{
	if(id < 0 || id >= MAX_ITENS) return 1;
    if(Item[id][item_Existe] == 1)
	{
		if(Item[id][item_ID] != 0)
		{
		    new Float:pos[3];
		    new mund, inter;
		    pos[0] = Item[id][item_X];
			pos[1] = Item[id][item_Y];
			pos[2] = Item[id][item_Z];
            mund = Item[id][item_Mundo];
            inter = Item[id][item_Interior];


		    if(Item[id][item_ID] == 67) // polvora //
		    {
		        Polvoras[playerid] += Item[id][item_Unidades];
		        destruiritem(id);
				salvarplayer(playerid);
		    }
		    else if(Item[id][item_ID] == 96) // madeiras //
		    {
		        Madeiras[playerid] += Item[id][item_Unidades];
		        destruiritem(id);
				salvarplayer(playerid);
		    }
		   	else if(Item[id][item_ID] == 97) // metais //
		    {
		        Metais[playerid] += Item[id][item_Unidades];
		        destruiritem(id);
				salvarplayer(playerid);
		    }
		    else if(Item[id][item_ID] == 98) // pedras //
		    {
		        Pedras[playerid] += Item[id][item_Unidades];
		        destruiritem(id);
				salvarplayer(playerid);
		    }
            else
            {
                if(SlotsVazios(playerid) == 0) return ms(playerid, 0, "Your inventory is full!");
                AddInv(playerid, Item[id][item_ID], Item[id][item_Unidades], Item[id][item_Tipo]);
                salvarinv(playerid);
                destruiritem(id);
            }

		    for(new p; p<MAX_PLAYERS; p++)
			{
			    if(!Online(p)) continue;
				if(IsPlayerInRangeOfPoint(p, 5.0, pos[0], pos[1], pos[2]))
        	    {
					if(GetPlayerInterior(p) == inter)
					{
	                    if(GetPlayerVirtualWorld(p) == mund)
						{
						    if(invaberto[p] == 1)
						    {
						        if(recolhendo[p] == id) recolhendo[p] = -1;
						        abririnv(p, 1);
						    }
				        }
				    }
				}
			}
		}
	}

	return 1;
}

forward destruiritem(id);
public destruiritem(id)
{
	if(Item[id][item_Existe] == 1)
	{
		if(IsValidDynamicObject(Item[id][item_Obj])) DestroyDynamicObject_(Item[id][item_Obj]);
		Item[id][item_Existe] = 0;
		Item[id][item_ID] = 0;
		Item[id][item_Unidades] = 0;
		Item[id][item_Tipo] = 0;
		Item[id][item_X] = 0;
		Item[id][item_Y] = 0;
		Item[id][item_Z] = 0;
		Item[id][item_Mundo] = 0;
		Item[id][item_Interior] = 0;
	}
	return 1;
}


fechar_opcoes(playerid)
{
    mostrando_opcoes[playerid] = 0;
	for(new i; i<sizeof InvOpcoes; i++) TextDrawHideForPlayer(playerid, InvOpcoes[i]);
	PlayerTextDrawHide(playerid, InvOpcoes_p[playerid][0]);
	PlayerTextDrawHide(playerid, InvOpcoes_p[playerid][1]);
	return 1;
}


Dropar_Item(playerid)
{
	new i = escolhendo[playerid];
	if(i < 0 || i >= MAX_SLOTS) return 1;
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
	PegarFrente(pos[0],pos[1], random(360), random(8)*0.3);
	criar_item(Inventario[playerid][i][inv_ID], pos[0],pos[1],pos[2], Inventario[playerid][i][inv_Unidades], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Inventario[playerid][i][inv_Tipo]);
	Inventario[playerid][i][inv_ID] = 0;
	Inventario[playerid][i][inv_Unidades] = 0;
	Inventario[playerid][i][inv_Tipo] = 0;
    escolhendo[playerid] = -1;
	abririnv(playerid, 2);
	fechar_opcoes(playerid);
	return 1;
}


criar_item(id, Float:pos1, Float:pos2, Float:pos3, Unids, mund, inter, tipo, delet=-1, criaobj=1)
{
	if(id == 0) return -1;
    for(new a; a<MAX_ITENS; a++)
	{
	    if(Item[a][item_Existe] == 0)
	    {
            if(criaobj == 1)
            {
		        if(inter != 0) pos3 -= 0.9;
		        else
		        {
			        new Float:pos[6];
			        pos[0] = pos1;
			        pos[1] = pos2;
			        pos[2] = pos3-1000.0;
			        if(CA_RayCastLine(pos1, pos2, pos3, pos[0], pos[1], pos[2], pos[3], pos[4], pos[5]) != 0) pos3 = pos[5];
			        else pos3 -= 0.9;
		        }
	        }

	        Item[a][item_Existe] = 1;
	        Item[a][item_Deletar] = delet;
		    Item[a][item_ID] = id;
		    Item[a][item_X] = pos1;
		    Item[a][item_Y] = pos2;
		    Item[a][item_Z] = pos3;
		    Item[a][item_Unidades] = Unids;
		    Item[a][item_Tipo] = tipo;
		 	Item[a][item_Mundo] = mund;
			Item[a][item_Interior] = inter;
	        if(IsValidDynamicObject(Item[a][item_Obj])) DestroyDynamicObject_(Item[a][item_Obj]);
	        if(criaobj == 1) Item[a][item_Obj] = CreateDynamicObject(Itens[id][item_Modelo], pos1, pos2, pos3+Itens[id][item_DropDZ], Itens[id][item_DropX], Itens[id][item_DropY], random(360), mund, inter);
			//SetDynamicObjectMaterial(Item[a][item_Obj], 0, Itens[id][item_Modelo], "none", "none", Itens[id][item_Cor2]);

            if(criaobj == 1)
            {
				for(new i; i<MAX_PLAYERS; i++)
				{
				    if(!Online(i)) continue;
				    if(IsPlayerInRangeOfPoint(i, 5,  pos1, pos2, pos3))
				    {
				        if(invaberto[i] == 1)
				        {
				            abririnv(i, 1);
				        }
					}
				}
			}
	        return a;
        }
	}
	return -1;
}

/*
IsNumeric2(string[])
{
	for (new i = 0, j = strlen(string); i < j; i++)
	{
		if (string[i] > '9' || string[i] < '0' || string[i] != '-') return 0;
		if(strlen(string) == 0) return 0;
	}
	return 1;
}
*/

IsNumeric(string[])
{
	for (new i = 0, j = strlen(string); i < j; i++)
	{
		if (string[i] > '9' || string[i] < '0') return 0;
		if(strlen(string) == 0) return 0;
	}
	return 1;
}


salvar_equipamento(i)
{
    new file[80];
    format(file, 80, "Equipamentos/Skin_%d.txt", i);
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    DOF2_SetFloat(file, "capa_xx", E_Capacete[i][xx]);
    DOF2_SetFloat(file, "capa_yy", E_Capacete[i][yy]);
    DOF2_SetFloat(file, "capa_zz", E_Capacete[i][zz]);
    DOF2_SetFloat(file, "capa_rx", E_Capacete[i][rxx]);
    DOF2_SetFloat(file, "capa_ry", E_Capacete[i][ryy]);
    DOF2_SetFloat(file, "capa_rz", E_Capacete[i][rzz]);
    DOF2_SetFloat(file, "capa_tx", E_Capacete[i][tx]);
    DOF2_SetFloat(file, "capa_ty", E_Capacete[i][ty]);
    DOF2_SetFloat(file, "capa_tz", E_Capacete[i][tz]);
    DOF2_SetFloat(file, "cole_xx", E_Colete[i][xx]);
    DOF2_SetFloat(file, "cole_yy", E_Colete[i][yy]);
    DOF2_SetFloat(file, "cole_zz", E_Colete[i][zz]);
    DOF2_SetFloat(file, "cole_rx", E_Colete[i][rxx]);
    DOF2_SetFloat(file, "cole_ry", E_Colete[i][ryy]);
    DOF2_SetFloat(file, "cole_rz", E_Colete[i][rzz]);
    DOF2_SetFloat(file, "cole_tx", E_Colete[i][tx]);
    DOF2_SetFloat(file, "cole_ty", E_Colete[i][ty]);
    DOF2_SetFloat(file, "cole_tz", E_Colete[i][tz]);
    DOF2_SetFloat(file, "mask_xx", E_Mascara[i][xx]);
    DOF2_SetFloat(file, "mask_yy", E_Mascara[i][yy]);
    DOF2_SetFloat(file, "mask_zz", E_Mascara[i][zz]);
    DOF2_SetFloat(file, "mask_rx", E_Mascara[i][rxx]);
    DOF2_SetFloat(file, "mask_ry", E_Mascara[i][ryy]);
    DOF2_SetFloat(file, "mask_rz", E_Mascara[i][rzz]);
    DOF2_SetFloat(file, "mask_tx", E_Mascara[i][tx]);
    DOF2_SetFloat(file, "mask_ty", E_Mascara[i][ty]);
    DOF2_SetFloat(file, "mask_tz", E_Mascara[i][tz]);
    DOF2_SaveFile();
	return 1;
}

carregar_equipamentos()
{
	new file[80];
	new cont;
	for(new i; i<MAX_SKINS; i++)
	{
	    format(file, 80, "Equipamentos/Skin_%d.txt", i);
	    if(DOF2_FileExists(file))
	    {
	        E_Capacete[i][xx] = DOF2_GetFloat(file, "capa_xx");
	        E_Capacete[i][yy] = DOF2_GetFloat(file, "capa_yy");
	        E_Capacete[i][zz] = DOF2_GetFloat(file, "capa_zz");
	        E_Capacete[i][rxx] = DOF2_GetFloat(file, "capa_rx");
	        E_Capacete[i][ryy] = DOF2_GetFloat(file, "capa_ry");
	        E_Capacete[i][rzz] = DOF2_GetFloat(file, "capa_rz");
	        E_Capacete[i][tx] = DOF2_GetFloat(file, "capa_tx");
	        E_Capacete[i][ty] = DOF2_GetFloat(file, "capa_ty");
	        E_Capacete[i][tz] = DOF2_GetFloat(file, "capa_tz");
	        E_Colete[i][xx] = DOF2_GetFloat(file, "cole_xx");
	        E_Colete[i][yy] = DOF2_GetFloat(file, "cole_yy");
	        E_Colete[i][zz] = DOF2_GetFloat(file, "cole_zz");
	        E_Colete[i][rxx] = DOF2_GetFloat(file, "cole_rx");
	        E_Colete[i][ryy] = DOF2_GetFloat(file, "cole_ry");
	        E_Colete[i][rzz] = DOF2_GetFloat(file, "cole_rz");
	        E_Colete[i][tx] = DOF2_GetFloat(file, "cole_tx");
	        E_Colete[i][ty] = DOF2_GetFloat(file, "cole_ty");
	        E_Colete[i][tz] = DOF2_GetFloat(file, "cole_tz");
	        E_Mascara[i][xx] = DOF2_GetFloat(file, "mask_xx");
	        E_Mascara[i][yy] = DOF2_GetFloat(file, "mask_yy");
	        E_Mascara[i][zz] = DOF2_GetFloat(file, "mask_zz");
	        E_Mascara[i][rxx] = DOF2_GetFloat(file, "mask_rx");
	        E_Mascara[i][ryy] = DOF2_GetFloat(file, "mask_ry");
	        E_Mascara[i][rzz] = DOF2_GetFloat(file, "mask_rz");
	        E_Mascara[i][tx] = DOF2_GetFloat(file, "mask_tx");
	        E_Mascara[i][ty] = DOF2_GetFloat(file, "mask_ty");
	        E_Mascara[i][tz] = DOF2_GetFloat(file, "mask_tz");
            cont++;
	    }
	    else
	    {
	        E_Capacete[i][xx] = 0.0;
	        E_Capacete[i][yy] = 0.0;
	        E_Capacete[i][zz] = 0.0;
	        E_Capacete[i][rxx] = 0.0;
	        E_Capacete[i][ryy] = 0.0;
	        E_Capacete[i][rzz] = 0.0;
	        E_Capacete[i][tx] = 1.0;
	        E_Capacete[i][ty] = 1.0;
	        E_Capacete[i][tz] = 1.0;
	        E_Colete[i][xx] = 0.0;
	        E_Colete[i][yy] = 0.0;
	        E_Colete[i][zz] = 0.0;
	        E_Colete[i][rxx] = 0.0;
	        E_Colete[i][ryy] = 0.0;
	        E_Colete[i][rzz] = 0.0;
	        E_Colete[i][tx] = 1.0;
	        E_Colete[i][ty] = 1.0;
	        E_Colete[i][tz] = 1.0;
	        E_Mascara[i][xx] = -0.02699999;
	        E_Mascara[i][yy] = 0.13399997;
	        E_Mascara[i][zz] = 0.0;
	        E_Mascara[i][rxx] = 7.99999475;
	        E_Mascara[i][ryy] = 84.89997863;
	        E_Mascara[i][rzz] = 85.89996337;
	        E_Mascara[i][tx] = 1.0;
	        E_Mascara[i][ty] = 1.0;
	        E_Mascara[i][tz] = 1.0;
	    }
	}
	printf("** %d posisi perlengkapan telah dimuat.", cont);
	return 1;
}



Setar_Capacete(playerid, capa, uni=0)
{
	if(capa == 0)
	{
	    Capacete[playerid][0] = 0;
		Capacete[playerid][1] = 0;
		if(IsPlayerAttachedObjectSlotUsed(playerid, 8))
		{
		    RemovePlayerAttachedObject(playerid, 8);
		}
		PlayerTextDrawHide(playerid, InvInfo_p[playerid][2]);
	    return 1;
	}

	if(uni > 100)
	{
	    uni = 100;
	}

	Capacete[playerid][0] = capa;
	Capacete[playerid][1] = uni;
	if(pInfo[playerid][pConfig][5] == 0)
	{
		SetPlayerAttachedObject(playerid, 8, 19141, 2, E_Capacete[GetPlayerSkin(playerid)][xx], E_Capacete[GetPlayerSkin(playerid)][yy], E_Capacete[GetPlayerSkin(playerid)][zz], E_Capacete[GetPlayerSkin(playerid)][rxx],
		E_Capacete[GetPlayerSkin(playerid)][ryy], E_Capacete[GetPlayerSkin(playerid)][rzz], E_Capacete[GetPlayerSkin(playerid)][tx], E_Capacete[GetPlayerSkin(playerid)][ty], E_Capacete[GetPlayerSkin(playerid)][tz], Itens[15+capa][item_Cor2], Itens[15+capa][item_Cor2]);
	}
	else if(IsPlayerAttachedObjectSlotUsed(playerid, 8)) RemovePlayerAttachedObject(playerid, 8);
	if(invaberto[playerid] == 3) abririnv(playerid, 3);

    PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][2], 488.7+ 1.44*uni, 0);
    if(Modo[playerid] != 0) PlayerTextDrawShow(playerid, InvInfo_p[playerid][2]);
    Dano(playerid, -1, 0.0, 0, 0);
	return 1;
}

Setar_Colete(playerid, capa, uni=0)
{
	if(capa == 0)
	{
	    Colete[playerid][0] = 0;
		Colete[playerid][1] = 0;
		if(IsPlayerAttachedObjectSlotUsed(playerid, 7))
		{
		    RemovePlayerAttachedObject(playerid, 7);
		}
		PlayerTextDrawHide(playerid, InvInfo_p[playerid][1]);
	    return 1;
	}

	if(uni > 100)
	{
	    uni = 100;
	}

	Colete[playerid][0] = capa;
	Colete[playerid][1] = uni;
	if(pInfo[playerid][pConfig][5] == 0)
	{
		SetPlayerAttachedObject(playerid, 7, 19142, 1, E_Colete[GetPlayerSkin(playerid)][xx], E_Colete[GetPlayerSkin(playerid)][yy], E_Colete[GetPlayerSkin(playerid)][zz], E_Colete[GetPlayerSkin(playerid)][rxx],
		E_Colete[GetPlayerSkin(playerid)][ryy], E_Colete[GetPlayerSkin(playerid)][rzz], E_Colete[GetPlayerSkin(playerid)][tx], E_Colete[GetPlayerSkin(playerid)][ty], E_Colete[GetPlayerSkin(playerid)][tz], Itens[12+capa][item_Cor2], Itens[12+capa][item_Cor2]);
    }
    else if(IsPlayerAttachedObjectSlotUsed(playerid, 7)) RemovePlayerAttachedObject(playerid, 7);
	if(invaberto[playerid] == 3) abririnv(playerid, 3);

    PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][1], 488.7+ 1.44*uni, 0);
    if(Modo[playerid] != 0) PlayerTextDrawShow(playerid, InvInfo_p[playerid][1]);
    Dano(playerid, -1, 0.0, 0, 0);
	return 1;
}

Setar_Mascara(playerid, uni)
{
	if(uni == 0)
	{
	    Mascara[playerid] = 0;
		if(IsPlayerAttachedObjectSlotUsed(playerid, 6))
		{
		    RemovePlayerAttachedObject(playerid, 6);
		}
	    return 1;
	}

	if(uni > 100)
	{
	    uni = 100;
	}

	Mascara[playerid] = uni;
	if(pInfo[playerid][pConfig][5] == 0)
	{
		SetPlayerAttachedObject(playerid, 6, 19472, 2, E_Mascara[GetPlayerSkin(playerid)][xx], E_Mascara[GetPlayerSkin(playerid)][yy], E_Mascara[GetPlayerSkin(playerid)][zz], E_Mascara[GetPlayerSkin(playerid)][rxx],
		E_Mascara[GetPlayerSkin(playerid)][ryy], E_Mascara[GetPlayerSkin(playerid)][rzz], E_Mascara[GetPlayerSkin(playerid)][tx], E_Mascara[GetPlayerSkin(playerid)][ty], E_Mascara[GetPlayerSkin(playerid)][tz]);
	}
	else if(IsPlayerAttachedObjectSlotUsed(playerid, 6)) RemovePlayerAttachedObject(playerid, 6);
	if(invaberto[playerid] == 3) abririnv(playerid, 3);
	return 1;
}


Usar_Item(playerid, slot, id)
{
    new str[300];
    if(slot < 0 || slot >= MAX_SLOTS) return 1;
    /////////// tambahkan ke mesin daur ulang //////////
    for(new re; re<MAX_RECICLADORAS; re++)
    {
        if(Recicladora[re][re_Existe] == 0) continue;
        if(IsPlayerInRangeOfPoint(playerid, 1.5, Recicladora[re][re_X], Recicladora[re][re_Y], Recicladora[re][re_Z]))
        {
            if(BasePlayer(playerid) != Recicladora[re][re_Base]) 
                return ms(playerid, 0, "Kamu tidak tergabung di Base mesin daur ulang ini!");
            if(Itens[id][item_Recicladora] == 0) 
                return ms(playerid, 0, "Item ini tidak bisa didaur ulang!");
            for(new r; r<SLOTS_RECICLADORA; r++)
            {
                if(RecicladoraPlayer[playerid][re_ID][r] == 0)
                {
                    format(str, 300, "Kamu menambahkan %s ini ke mesin daur ulang.", Itens[id][item_Nome] );
                    ms(playerid, 1, str);
                    RecicladoraPlayer[playerid][re_ID][r] = Inventario[playerid][slot][inv_ID];
                    RecicladoraPlayer[playerid][re_Unidades][r] = Inventario[playerid][slot][inv_Unidades];
                    RecicladoraPlayer[playerid][re_Tipo][r] = Inventario[playerid][slot][inv_Tipo];
                    Inventario[playerid][slot][inv_ID] = 0;
                    Inventario[playerid][slot][inv_Unidades] = 0;
                    Inventario[playerid][slot][inv_Tipo] = 0;
                    abririnv(playerid, 2);
                    fechar_opcoes(playerid);
                    salvarinv(playerid);
                    return 1;
                }
            }
            ms(playerid, 0, "Mesin daur ulang ini sudah penuh!");
            return 1;
        }
    }


    //////////  Landmine ////////////
	if(id == 131)
	{
		if(GetPlayerInterior(playerid) != 0) 
			return ms(playerid, 0, "You cannot place a landmine indoors!");
		if(!Haid() && ModoAdmin[playerid] == 0) 
			return ms(playerid, 0, "This item can only be used during raid time!");
		if(MinasPlayer(playerid) >= 3 && ModoAdmin[playerid] == 0) 
			return ms(playerid, 0, "You can only place 3 landmines!");
		if(colocar_mina(playerid) == 0) 
			return ms(playerid, 0, "Maximum number of landmines has been reached!");
		format(string_prox, 300, "Player %s has placed a landmine", Nome(playerid));
		ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		ms(playerid, 2, "You can pick up your landmine by pressing F or ENTER near it.");
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		fecharinv(playerid);
		salvarinv(playerid);
		ApplyAnimation(playerid, "BOMBER", "BOM_PLANT", 4.1, 0, 0, 0, 0, 0, 1);
		return 1;
	}

	///////////  Paint can ////////////
	if(Itens[id][item_Tipo] == TIPO_TINTA)
	{
		new Float:p[3];
		for(new i; i<MAX_VEHICLES; i++)
		{
			if(GetVehicleModel(i) != 0)
			{
				GetVehiclePos(i, p[0],p[1],p[2]);
				if(IsPlayerInRangeOfPoint(playerid, 2, p[0],p[1],p[2]))
				{
					new v = Info_Veiculo[i];
					if(v != -1)
					{
						if(id == 115) SetPVarInt(playerid, "id_cor", 226);
						if(id == 116) SetPVarInt(playerid, "id_cor", 6);
						if(id == 117) SetPVarInt(playerid, "id_cor", 3);
						if(id == 118) SetPVarInt(playerid, "id_cor", 7);
						if(id == 119) SetPVarInt(playerid, "id_cor", 0);
						if(id == 120) SetPVarInt(playerid, "id_cor", 1);
						if(id == 121) SetPVarInt(playerid, "id_cor", 126);
						if(id == 122) SetPVarInt(playerid, "id_cor", 34);
						if(id == 123) SetPVarInt(playerid, "id_cor", 145);

						SetPVarInt(playerid, "id_info", v);
						SetPVarInt(playerid, "slot", slot);
						fecharinv(playerid);
						SetPlayerToFacePos(playerid, p[0], p[1]);
						Acao(playerid, 23, 250, "PAINTING VEHICLE", 1, "GRAFFITI", "SPRAYCAN_FIRE", 1);
						SetPlayerAttachedObject(playerid, 9, 365, 6, 0.009999, 0.000000, 0.080999, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
					}
					else 
						ms(playerid, 0, "You can only paint personal vehicles!");
					return 1;
				}
			}
		}
		ms(playerid, 0, "You are not near a personal vehicle!");
		return 1;
	}



	///////////  troca de nick ////////////
    if(id == 127)
	{
        SetPVarInt(playerid, "slot", slot);
        item_trocar_nick(playerid);
	    return 1;
	}


	///////////  kunci ////////////
	if(id == 129)
	{
		if(!tem_item(playerid, 128)) 
			return ms(playerid, 0, "Kamu harus punya Gembok untuk bisa menggunakan item ini!");
			
		new Float:p[3];
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				new inf = Info_Veiculo[v];
				if(inf != -1)
				{
					GetVehiclePos(v, p[0], p[1], p[2]);
					if(IsPlayerInRangeOfPoint(playerid, 3.5, p[0], p[1], p[2]))
					{
						if(!Comparar(Nome(playerid), Veiculo[inf][v_Dono])) 
							return ms(playerid, 0, "Kendaraan ini bukan punya kamu!");
						if(Veiculo[inf][v_Cadeado] == 1) 
							return ms(playerid, 0, "Kendaraan ini sudah terpasang Kunci!");
						
						Veiculo[inf][v_Cadeado] = 1;
						Inventario[playerid][slot][inv_Unidades]--;
						if(Inventario[playerid][slot][inv_Unidades] <= 0)
						{
							Inventario[playerid][slot][inv_ID] = 0;
							Inventario[playerid][slot][inv_Unidades] = 0;
							Inventario[playerid][slot][inv_Tipo] = 0;
						}
						diminuir_ingrediente(playerid, 128, 1);
						ms(playerid, 1, "Kamu telah memasang Kunci pada kendaraan, sekarang kamu bisa mengunci melalui /carmenu.");
						abririnv(playerid, 2);
						return 1;
					}
				}
			}
		}
		ms(playerid, 0, "Gunakan item ini dekat dengan kendaraan pribadi kamu untuk memasang Kunci!");
		return 1;
	}

	///////////  gembok ////////////
	if(id == 128)
	{
		if(!tem_item(playerid, 129)) 
			return ms(playerid, 0, "Kamu harus punya Kunci untuk bisa menggunakan item ini!");
			
		new Float:p[3];
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				new inf = Info_Veiculo[v];
				if(inf != -1)
				{
					GetVehiclePos(v, p[0], p[1], p[2]);
					if(IsPlayerInRangeOfPoint(playerid, 3.5, p[0], p[1], p[2]))
					{
						if(!Comparar(Nome(playerid), Veiculo[inf][v_Dono])) 
							return ms(playerid, 0, "Kendaraan ini bukan punya kamu!");
						if(Veiculo[inf][v_Cadeado] == 1) 
							return ms(playerid, 0, "Kendaraan ini sudah terpasang Kunci!");
						
						Veiculo[inf][v_Cadeado] = 1;
						Inventario[playerid][slot][inv_Unidades]--;
						if(Inventario[playerid][slot][inv_Unidades] <= 0)
						{
							Inventario[playerid][slot][inv_ID] = 0;
							Inventario[playerid][slot][inv_Unidades] = 0;
							Inventario[playerid][slot][inv_Tipo] = 0;
						}
						diminuir_ingrediente(playerid, 129, 1);
						ms(playerid, 1, "Kamu telah memasang Kunci pada kendaraan, sekarang kamu bisa mengunci melalui /carmenu.");
						abririnv(playerid, 2);
						return 1;
					}
				}
			}
		}
		ms(playerid, 0, "Gunakan item ini dekat dengan kendaraan pribadi kamu untuk memasang Kunci!");
		return 1;
	}

	///////////  minuman energi ////////////
	if(id == 124)
	{
		format(str, 300, "Kamu minum %s dan mengurangi haus sebesar 20 dan mengurangi rasa kantuk sebesar 25.", Itens[id][item_Nome]);
		ms(playerid, 1, str);
		format(string_prox, 300, "Pemain %s minum %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector2(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		pInfo[playerid][pSede] -= (20*2);
		pInfo[playerid][pSono] -= 25;
		if(pInfo[playerid][pSede] < 0 ) pInfo[playerid][pSede] = 0;
		if(pInfo[playerid][pSono] < 0 ) pInfo[playerid][pSono] = 0;
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		abririnv(playerid, 2);
		salvarinv(playerid);
		return 1;
	}

	///////////  senter ////////////
	if(id == 33)
	{
		fecharinv(playerid);
		if(lanterna_player[playerid] == 1) 
			retirar_lanterna(playerid);
		else 
			colocar_lanterna(playerid);
		ms(playerid, 3, "Kamu bisa menggunakan /flashlight untuk mengambil atau menyimpan sentermu.");
		return 1;
	}

	///////////  rokok ////////////
	if(id == 56)
	{
		if(!tem_item(playerid, 7)) 
			return ms(playerid, 0, "Kamu tidak punya pemantik api di inventarismu!");
		if(fumando[playerid] == 0)
		{
			fecharinv(playerid);
			Inventario[playerid][slot][inv_Unidades]--;
			if(Inventario[playerid][slot][inv_Unidades] <= 0)
			{
				Inventario[playerid][slot][inv_ID] = 0;
				Inventario[playerid][slot][inv_Unidades] = 0;
				Inventario[playerid][slot][inv_Tipo] = 0;
			}
			fumando[playerid] = 1;
			format(string_prox, 300, "Pemain %s menyalakan rokok", Nome(playerid));
			ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
			ms(playerid, 3, "Gunakan tombol ALT untuk mengisap, gunakan F atau ENTER untuk membuang rokok.");
			ApplyAnimation(playerid, "SMOKING", "M_SMK_IN", 4.1, 0, 0, 0, 0, 0, 1);
			ApplyAnimation(playerid, "SMOKING", "M_SMK_IN", 4.1, 0, 0, 0, 0, 0, 2);
			fumar(playerid);
			salvarinv(playerid);
		}
		return 1;
	}

	///////////  detonator bom C-4 ////////////
	if(id == 55)
	{
		if(!Haid() && ModoAdmin[playerid] == 0) 
			return ms(playerid, 0, "Kamu tidak bisa menggunakan item ini sekarang, gunakan /help > Jadwal Raid.");
		fecharinv(playerid);
		explosivos_player(playerid);
		ms(playerid, 1, "Kamu bisa menggunakan /detonador untuk memudahkan.");
		return 1;
	}

	///////////  bom C-4 ////////////
	if(id == 54)
	{
		if(!Haid() && ModoAdmin[playerid] == 0) 
			return ms(playerid, 0, "Kamu tidak bisa menggunakan item ini sekarang, gunakan /help > Jadwal Raid.");
		if(pInfo[playerid][pClasse] == 4 && explosivos(playerid) >= 5) 
			return ms(playerid, 0, "Kamu sudah memasang 5 bom!");
		if(explosivos(playerid) >= 3 && pInfo[playerid][pClasse] != 4) 
			return ms(playerid, 0, "Kamu sudah memasang 3 bom!");
		new Float:aaa;
		GetPlayerFacingAngle(playerid, aaa);
		for(new i; i<MAX_EXPLOSIVOS; i++)
		{
			if(Explosivo[i][explosivo_Existe] == 0)
			{
				SetPVarInt(playerid, "slot_explosivo", slot);
				mostrar_objetos_proximos(playerid);
				return 1;
			}
		}
		ms(playerid, 0, "Jumlah maksimum bom di server telah tercapai!");
		return 1;
	}


	///////////  notbook ////////////
	if(id == 114)
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(GetPlayerInterior(playerid) != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan!");
		fecharinv(playerid);
		GameTextForPlayer(playerid, "~y~MENGBUKA NOTBOOK", 500, 3);
		SetTimerEx("abrir_laptop", 500, 0, "dd", playerid, 0);
		ms(playerid, 1, "Kamu bisa menggunakan /notbook untuk memudahkan.");
		format(string_prox, 300, "Pemain %s mengambil NotBook-nya", Nome(playerid));
		ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		return 1;
	}

	///////////  kotak apel ////////////
	if(id == 111)
	{
		new Float:p[3];
		for(new i; i<5; i++)
		{
			GetPlayerPos(playerid, p[0], p[1], p[2]);
			PegarFrente(p[0], p[1], random(360), RandomFloat1[random(sizeof(RandomFloat1))]);
			criar_item(77, p[0], p[1], p[2], 2, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[77][item_Tipo]);
		}

		format(string_prox, 300, "Pemain %s membuka Kotak Apel", Nome(playerid));
		ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);

		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		abririnv(playerid, 2);
		salvarinv(playerid);
		return 1;
	}

	///////////  kotak apel hijau ////////////
	if(id == 112)
	{
		new Float:p[3];
		for(new i; i<5; i++)
		{
			GetPlayerPos(playerid, p[0], p[1], p[2]);
			PegarFrente(p[0], p[1], random(360), RandomFloat1[random(sizeof RandomFloat1)]);
			criar_item(110, p[0], p[1], p[2], 2, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[110][item_Tipo]);
		}

		format(string_prox, 300, "Pemain %s membuka Kotak Apel Hijau", Nome(playerid));
		ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);

		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		abririnv(playerid, 2);
		salvarinv(playerid);
		return 1;
	}

	///////////  kotak jeruk ////////////
	if(id == 113)
	{
		new Float:p[3];
		for(new i; i<5; i++)
		{
			GetPlayerPos(playerid, p[0], p[1], p[2]);
			PegarFrente(p[0], p[1], random(360), RandomFloat1[random(sizeof RandomFloat1)]);
			criar_item(76, p[0], p[1], p[2], 2, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[76][item_Tipo]);
		}

		format(string_prox, 300, "Pemain %s membuka Kotak Jeruk", Nome(playerid));
		ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);

		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		abririnv(playerid, 2);
		salvarinv(playerid);
		return 1;
	}

	///////////  GPS ////////////
	if(id == 108)
	{
		if(gps_player[playerid] == 0)
		{
			if(player_gps[playerid] > 30)
			{
				cmd_gps(playerid, #);
			}
			else ms(playerid, 0, "GPS tidak memiliki baterai yang cukup, coba lagi nanti!");
		}
		else
		{
			cmd_gps(playerid, #);
		}
		return 1;
	}

	///////////  peta ////////////
	if(id == 107)
	{
		fecharinv(playerid);
		GameTextForPlayer(playerid, "~y~MEMBUKA PETA", 1500, 3);
		ms(playerid, 1, "Kamu membuka Peta-mu, kamu bisa menggunakan /mapa untuk memudahkan.");
		SetTimerEx("mostrar_mapa", 1500, 0, "d", playerid);
		format(string_prox, 300, "Pemain %s membuka Peta-nya", Nome(playerid));
		ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		return 1;
	}

	///////////  kendaraan mainan ////////////
	if(id == 105 || id == 106)
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(RC[playerid] == INVALID_VEHICLE_ID)
		{
			new Float:p[4];
			ACInfo[playerid][acAirbreakTime] = gettime() + 5;
			ACInfo[playerid][acImmunity] = gettime() + 5;
			GetPlayerPos(playerid, p[0],p[1],p[2]);
			GetPlayerFacingAngle(playerid, p[3]);
			SetPVarInt(playerid, "RC", gettime()+3);
			GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
			GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
			pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
			pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
			PegarFrente(p[0],p[1],pInfo[playerid][pA], -1.5);
			RC[playerid] = INVALID_VEHICLE_ID;
			RC[playerid] = AddStaticVehicle(Inventario[playerid][slot][inv_Tipo], p[0], p[1], p[2], p[3], 0, 0);
			if(RC[playerid] == INVALID_VEHICLE_ID) return ms(playerid, 0, "Terjadi kesalahan tak terduga!");
			Info_Veiculo[RC[playerid]] = -1;
			CARRO_DE_FERRO_VELHO[RC[playerid]] = -1;
			fecharinv(playerid);
			ApplyAnimation(playerid, "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 0,0, 0, 0, 1);
			if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
			actor_player[playerid] = CreateDynamicActor(GetPlayerSkin(playerid), pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ], pInfo[playerid][pA], 1, 99999, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
			ApplyDynamicActorAnimation(actor_player[playerid], "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 1, 1, 0, 0);
			SetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]-150);
			PutPlayerInVehicle(playerid, RC[playerid], 0);
			format(string_prox, 300, "Pemain %s mengambil %s-nya", Nome(playerid), Itens[id][item_Nome]);
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
			ms(playerid, 3, "Gunakan F atau ENTER untuk menyimpannya.");
			SetVehicleParamsEx(RC[playerid], 1, 1, 0, 0, 0, 0, 0);
			SetPVarInt(playerid, "infinito", 0);
			if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
			format(str, 150, "{ffffff}%s [%d]\n{ffff00}[ MENGENDALIKAN MAINAN ]", Nome(playerid), playerid);
			player3d[playerid] = CreateDynamic3DTextLabel(str, 0xffffff99,  pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]+0.4, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
			for(new a; a<MAX_PLAYERS; a++) if(Online(a)) if(IsPlayerInRangeOfPoint(a, 5, p[0], p[1], p[2] )) Streamer_Update(playerid);
		}
		else ms(playerid, 0, "Terjadi kesalahan tak terduga!");
		return 1;
	}



	//////////// Kendaraan dari Inventaris //////////////
	if(id == 104 || id == 125 || id == 126 )
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(RC[playerid] == INVALID_VEHICLE_ID)
		{
			new Float:p[4];
			GetPlayerPos(playerid, p[0],p[1],p[2]);
			GetPlayerFacingAngle(playerid, p[3]);
			SetPVarInt(playerid, "RC", gettime()+3);
			GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
			GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
			pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
			pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
			RC[playerid] = INVALID_VEHICLE_ID;
			RC[playerid] = AddStaticVehicle(Inventario[playerid][slot][inv_Tipo], p[0], p[1], p[2], p[3], 0, 0);
			if(RC[playerid] == INVALID_VEHICLE_ID) 
				return ms(playerid, 0, "Terjadi kesalahan tak terduga!");
			Info_Veiculo[RC[playerid]] = -1;
			CARRO_DE_FERRO_VELHO[RC[playerid]] = -1;
			fecharinv(playerid);
			PutPlayerInVehicle(playerid, RC[playerid], 0);
			format(string_prox, 300, "Pemain %s mengambil %s dari Inventaris", Nome(playerid), NomeVeiculos[Inventario[playerid][slot][inv_Tipo]-400]);
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
			ms(playerid, 3, "Gunakan F atau ENTER untuk menyimpannya.");
			SetVehicleParamsEx(RC[playerid], 1, 1, 0, 0, 0, 0, 0);
			SetPVarInt(playerid, "infinito", 1);
		}
		else ms(playerid, 0, "Terjadi kesalahan tak terduga!");
		return 1;
	}

	//////////// Pintu Elektrik //////////////
	if(id == 102 || id == 103)
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(BasePlayer(playerid) == -1) 
			return ms(playerid, 0, "Kamu tidak tergabung dalam sebuah Base!");
		new po = CriarPortao(playerid, Itens[id][item_Modelo]);
		if(po == -1)
		{
			ms(playerid, 0, "Jumlah maksimum Pintu di server telah tercapai!");
			return 1;
		}
		if(po == -2)
		{
			ms(playerid, 0, "Basemu sudah memiliki 10 Pintu yang dibuat!");
			return 1;
		}
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		fecharinv(playerid);
		SetPVarInt(playerid, "posicao", 0);
		EditDynamicObject2(playerid, Portao[po][portao_Obj], 0);
		format(string_prox, 300, "Pemain %s menempatkan sebuah Pintu di lantai", Nome(playerid));
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		ms(playerid, 2, "Gunakan /portoes untuk mengatur pintumu.");
		salvarinv(playerid);
		return 1;
	}

	//////////// Kotak Item //////////////
	if(id == 101)
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(BasePlayer(playerid) == -1) 
			return ms(playerid, 0, "Kamu tidak tergabung dalam sebuah Base!");
		new ca = criar_caixa(playerid);
		if(ca == -1)
		{
			ms(playerid, 0, "Jumlah maksimum Kotak Item di server telah tercapai!");
			return 1;
		}
		if(ca == -2)
		{
			ms(playerid, 0, "Basemu sudah memiliki 10 Kotak yang dibuat!");
			return 1;
		}
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		fecharinv(playerid);
		format(string_prox, 300, "Pemain %s meletakkan sebuah Kotak Item di lantai", Nome(playerid));
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		EditDynamicObject2(playerid, Caixa[ca][caixa_Obj], 0);
		salvarinv(playerid);
		return 1;
	}

	//////////// Radio Komunikator /////////////
	if(id == 100)
	{
		fecharinv(playerid);
		mostrar_radio(playerid);
		return 1;
	}

	//////////// Besi tua (Scrap) /////////////
	if(id == 90)
	{
		ms(playerid, 0, "Item ini dikonsumsi di Meja Craft untuk membuat Item lain!");
		return 1;
	}

	if(id == 99) // Ganti SKIN //
	{
		new skin = pInfo[playerid][pSkin];
		SetarSkin(playerid, Inventario[playerid][slot][inv_Tipo]);
		Inventario[playerid][slot][inv_Tipo] = skin;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		format(string_prox, 300, "Pemain %s berganti pakaian", Nome(playerid));
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		ms(playerid, 1, "Skin sebelumnya dimasukkan ke Inventarimu.");
		salvarinv(playerid);
		return 1;
	}

	//////////// Kotak Perkakas ////////////
	if(id == 87)
	{
		new Float:p[4];
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				new inf = Info_Veiculo[v];
				if(inf != -1)
				{
					GetVehiclePos(v, p[0], p[1], p[2]);
					GetVehicleZAngle(v, p[3]);
					PegarFrente(p[0], p[1], p[3], -2.5);

					if(IsPlayerInRangeOfPoint(playerid, 2.5, p[0], p[1], p[2]))
					{
						if(VeiculoBicicleta(v)) continue;
						new engine, lights, alarm, doors, bonnet, boot, objective;
						GetVehicleParamsEx(v, engine, lights, alarm, doors, bonnet, boot, objective);
						new Float:vidacarro;
						GetVehicleHealth(v, vidacarro);
						if(vidacarro >= 950.0) 
							return ms(playerid, 0, "Kendaraan ini sudah dalam kondisi mesin yang baik.");
						if(!VeiculoBicicleta(v) && !VeiculoMoto(v) && !VeiculoBarco(v) && !VeiculoAviao2(v) && !VeiculoAviao(v))
						{
							if(bonnet == 0)
							{
								ms(playerid, 0, "/capo kendaraan ini harus dibuka, buka dulu lalu coba lagi.");
								return 1;
							}
						}

						if(Barra[playerid][b_Acao] == 0)
						{
							SetPVarInt(playerid, "veiculo", v);
							fecharinv(playerid);

							new valor = 400;
							if(pInfo[playerid][pClasse] == 2) valor = 100;

							Acao(playerid, 10, valor, "MEMPERBAIKI MESIN", 1, "BD_FIRE", "WASH_UP", 1);
							SetPlayerAttachedObject(playerid, 9, 18644, 6, 0.107000, 0.010999, 0.000000, 0.000000, -136.500030, 0.000000, 1.000000, 1.000000, 1.000000);
							GetVehiclePos(v, p[0], p[1], p[2]);
							SetPlayerFacingAngle(playerid, GetPlayerAngleToPoint(playerid, p[0],p[1]));
							SetVehicleParamsEx(v, 0, 0, alarm, doors, bonnet, boot, objective);
							format(string_prox, 300, "Pemain %s sedang memperbaiki mesin kendaraan", Nome(playerid));
							ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
						}
						return 1;
					}
				}
			}
		}
		ms(playerid, 0, "Gunakan kotak ini di depan kendaraan dengan /capo terbuka untuk memperbaikinya.");
		return 1;
	}


	/////////// Ban Kendaraan Rusak /////////////
	if(id == 85)
	{
		new Float:p[3];
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				new idv = Info_Veiculo[v];
				if(idv != -1)
				{
					if(VeiculoBicicleta(v)) continue;
					GetVehiclePos(v, p[0], p[1], p[2]);
					if(IsPlayerInRangeOfPoint(playerid, 2.5, p[0], p[1], p[2]))
					{
						if(Veiculo[idv][v_Pneu][0] == 0 && Veiculo[idv][v_Pneu][1] == 0 && Veiculo[idv][v_Pneu][2] == 0 && Veiculo[idv][v_Pneu][3] == 0)
						{
							ms(playerid, 0, "Kendaraan ini tidak sedang memiliki ban yang bocor!");
							return 1;
						}
						else
						{
							fecharinv(playerid);
							SetPVarInt(playerid, "veiculo", v);
							SetPVarInt(playerid, "slot", slot);
							mostrar_pneus(playerid, Info_Veiculo[v]);
							return 1;
						}
					}
				}
			}
		}
		ms(playerid, 0, "Gunakan item ini untuk mengganti ban yang bocor pada kendaraan.");
		return 1;
	}

	/////////// Baterai Kendaraan Terisi /////////////
	if(id == 83)
	{
		new Float:p[4];
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				if(VeiculoBicicleta(v)) continue;
				new veh = Info_Veiculo[v];
				if(veh != -1)
				{
					GetVehiclePos(v, p[0], p[1], p[2]);
					GetVehicleZAngle(v, p[3]);
					PegarFrente(p[0], p[1], p[3], -2.5);
					if(IsPlayerInRangeOfPoint(playerid, 2.5, p[0], p[1], p[2]))
					{
						new engine, lights, alarm, doors, bonnet, boot, objective;
						GetVehicleParamsEx(v, engine, lights, alarm, doors, bonnet, boot, objective);
						if(Veiculo[veh][v_Bateria] >= 100) 
							return ms(playerid, 0, "Kendaraan ini sudah memiliki baterai yang baik.");
						if(!VeiculoBicicleta(v) && !VeiculoMoto(v) && !VeiculoBarco(v) && !VeiculoAviao2(v) && !VeiculoAviao(v))
						{
							if(bonnet == 0)
							{
								ms(playerid, 0, "/capo kendaraan ini harus dibuka, buka dulu lalu coba lagi.");
								return 1;
							}
						}

						if(Barra[playerid][b_Acao] == 0)
						{
							Veiculo[veh][v_Bateria] = 0;
							SetPVarInt(playerid, "slot", slot);
							SetPVarInt(playerid, "veiculo", veh);
							fecharinv(playerid);
							Acao(playerid, 8, 200, "MENGGANTI BATERAI", 1, "BD_FIRE", "WASH_UP", 1);
							SetPlayerAttachedObject(playerid, 9, 18644, 6, 0.107000, 0.010999, 0.000000, 0.000000, -136.500030, 0.000000, 1.000000, 1.000000, 1.000000);
							GetVehiclePos(v, p[0], p[1], p[2]);
							SetPlayerFacingAngle(playerid, GetPlayerAngleToPoint(playerid, p[0],p[1]));
							SetVehicleParamsEx(v, 0, 0, alarm, doors, bonnet, boot, objective);
							format(string_prox, 300, "Pemain %s sedang mengganti baterai kendaraan", Nome(playerid));
							ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
						}
						return 1;
					}
				}
			}
		}
		ms(playerid, 0, "Gunakan baterai ini di depan kendaraan dengan /capo terbuka jika diperlukan.");
		return 1;
	}

	/////////// Botol Air Kosong /////////////
	if(id == 6)
	{
		new Float:p[4];
		GetPlayerPos(playerid, p[0], p[1], p[2]);
		GetPlayerFacingAngle(playerid, p[3]);
		PegarFrente(p[0], p[1], p[3], -1);
		PegarAltura(p[0], p[1], p[2], 2);
		if(Agua(p[2]))
		{
			fecharinv(playerid);
			SetPVarInt(playerid, "garrafa", slot);
			Acao(playerid, 7, 100, "MENGISI AIR", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
			SetPlayerAttachedObject(playerid, 9, 19570, 6, 0.274999, 0.274999, 0.014999, 97.199974, -48.999992, 0.000000, 1.000000, 1.000000, 1.000000);
			format(string_prox, 300, "Pemain %s sedang mengisi botol air", Nome(playerid));
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
			return 1;
		}
		ms(playerid, 0, "Cari sungai atau pantai untuk mengisi botol air ini.");
		return 1;
	}

	/////////// Fragmen Senjata /////////////
	if(id > 77 && id < 82)
	{
		ms(playerid, 0, "Fragmen ini digunakan di Pasar Gelap untuk merakit Senjata.");
		return 1;
	}

	/////////// Item Daur Ulang /////////////
	if(Itens[id][item_Tipo] == TIPO_SUCATA)
	{
		for(new re; re<MAX_RECICLADORAS; re++)
		{
			if(Recicladora[re][re_Existe] == 0) continue;
			if(IsPlayerInRangeOfPoint(playerid, 1.5, Recicladora[re][re_X], Recicladora[re][re_Y], Recicladora[re][re_Z]))
			{
				if(BasePlayer(playerid) != Recicladora[re][re_Base]) 
					return ms(playerid, 0, "Kamu tidak tergabung di Base mesin daur ulang ini!");
				for(new r; r<SLOTS_RECICLADORA; r++)
				{
					if(RecicladoraPlayer[playerid][re_ID][r] == 0)
					{
						format(str, 300, "Kamu menambahkan %s ini ke mesin daur ulang.", Itens[id][item_Nome]);
						ms(playerid, 1, str);
						RecicladoraPlayer[playerid][re_ID][r] = Inventario[playerid][slot][inv_ID];
						RecicladoraPlayer[playerid][re_Unidades][r] = Inventario[playerid][slot][inv_Unidades];
						RecicladoraPlayer[playerid][re_Tipo][r] = Inventario[playerid][slot][inv_Tipo];
						Inventario[playerid][slot][inv_ID] = 0;
						Inventario[playerid][slot][inv_Unidades] = 0;
						Inventario[playerid][slot][inv_Tipo] = 0;
						abririnv(playerid, 2);
						fechar_opcoes(playerid);
						salvarinv(playerid);
						return 1;
					}
				}
				ms(playerid, 0, "Mesin daur ulang ini sudah penuh!");
				return 1;
			}
		}

		ms(playerid, 0, "Gunakan item ini di mesin daur ulang untuk mendapatkan scrap darinya.");
		return 1;
	}


	////////// Makan sesuatu dari inventaris ////////////
	if(Itens[id][item_Tipo] == TIPO_COMIDA)
	{
		if(GetPVarInt(playerid, "flood_comer_e_beber") > gettime()) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini terlalu sering!");
		format(str, 300, "Kamu makan %s dan mendapat +%d kesehatan, serta mengurangi %d rasa lapar.", Itens[id][item_Nome], vida_item(id), vida_item(id)+3);
		ms(playerid, 1, str);
		format(string_prox, 300, "Pemain %s makan %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector2(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

		pInfo[playerid][pFome] -= ((vida_item(id) + 3) * 2);
		if(pInfo[playerid][pFome] < 0) pInfo[playerid][pFome] = 0;

		SetarVida(playerid, Vida[playerid] + vida_item(id));
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		SetPVarInt(playerid, "flood_comer_e_beber", gettime() + 2);
		salvarinv(playerid);
		return 1;
	}

	////////// Minum sesuatu dari inventaris ////////////
	if(Itens[id][item_Tipo] == TIPO_BEBIDA)
	{
		if(GetPVarInt(playerid, "flood_comer_e_beber") > gettime()) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini terlalu sering!");
		format(str, 300, "Kamu minum %s dan mendapat +%d kesehatan, serta mengurangi %d rasa haus.", Itens[id][item_Nome], vida_item(id), vida_item(id) + 2);
		ms(playerid, 1, str);

		format(string_prox, 300, "Pemain %s minum %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector2(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

		SetarVida(playerid, Vida[playerid] + vida_item(id));
		pInfo[playerid][pSede] -= ((vida_item(id) + 2) * 2);
		if(pInfo[playerid][pSede] < 0) pInfo[playerid][pSede] = 0;

		if(id == 68)
		{
			Inventario[playerid][slot][inv_ID] = 6;
		}
		else
		{
			Inventario[playerid][slot][inv_Unidades]--;
			if(Inventario[playerid][slot][inv_Unidades] <= 0)
			{
				Inventario[playerid][slot][inv_ID] = 0;
				Inventario[playerid][slot][inv_Unidades] = 0;
				Inventario[playerid][slot][inv_Tipo] = 0;
			}
		}
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		SetPVarInt(playerid, "flood_comer_e_beber", gettime() + 2);
		salvarinv(playerid);
		return 1;
	}

	//////////// Api Unggun /////////////
	if(id == 11)
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(!tem_isqueiro(playerid)) 
			return ms(playerid, 0, "Kamu tidak punya korek api di inventarismu.");
		new Float:p[4];
		GetPlayerPos(playerid, p[0], p[1], p[2]);
		GetPlayerFacingAngle(playerid, p[3]);
		if(CriarFogueira(p[0], p[1], p[2], p[3], Nome(playerid)) == -1) 
			return ms(playerid, 0, "Jumlah maksimal api unggun di server telah tercapai.");

		fecharinv(playerid);
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		Streamer_Update(playerid);
		format(string_prox, 300, "Pemain %s menyalakan %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
		salvarinv(playerid);
		return 1;
	}

	//////////// Masker /////////////
	if(id == 4)
	{
		format(str, 300, "Kamu menggunakan %s dari inventaris.", Itens[id][item_Nome]);
		ms(playerid, 1, str);
		new caps = Mascara[playerid];
		Setar_Mascara(playerid, Inventario[playerid][slot][inv_Tipo]);
		if(caps != 0)
		{
			Inventario[playerid][slot][inv_Tipo] = caps;
			Inventario[playerid][slot][inv_ID] = 4;
			Inventario[playerid][slot][inv_Unidades] = 1;
			ms(playerid, 2, "Masker lamamu telah disimpan.");
		}
		else
		{
			Inventario[playerid][slot][inv_Tipo] = 0;
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
		}
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}


	///////////  galon bensin kosong /////////////
	if(id == 9)
	{
		for(new i; i<MAX_POSTOS; i++)
		{
			// jika berada di pom bensin //
			if(Posto[i][posto_Existe] == 0) continue;
			if(IsPlayerInRangeOfPoint(playerid, 1.5, Posto[i][posto_X], Posto[i][posto_Y], Posto[i][posto_Z]))
			{
				if(Posto[i][posto_Litros] == 0) 
					return ms(playerid, 0, "Pom bensin ini sedang tidak memiliki bensin.");
				SetPVarInt(playerid, "posto", i);
				SetPVarInt(playerid, "slot", slot);
				fecharinv(playerid);
				if(Barra[playerid][b_Acao] == 0)
				{
					format(string_prox, 300, "Pemain %s sedang mengisi galon bensin", Nome(playerid));
					ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

					Acao(playerid, 4, 200, "MENGISI BENSIN", 1, "COP_AMBIENT", "COPBROWSE_LOOP", 1);
					SetPlayerAttachedObject(playerid, 9, 1650, 6, 0.048000, 0.075999, -0.033000, 54.500026, 0.000000, 43.399921, 1.000000, 1.000000, 1.000000);
				}
				return 1;
			}
		}

		ms(playerid, 0, "Gunakan galon ini di pom bensin untuk dapat mengisinya dengan bensin.");
		return 1;
	}

	///////////  galon bensin penuh /////////////
	if(id == 10)
	{
		for(new v; v<MAX_VEHICLES; v++)
		{
			if(GetVehicleModel(v) != 0)
			{
				if(tanque_veiculo(playerid, v))
				{
					new veh = Info_Veiculo[v];
					if(veh != -1)
					{
						if(Veiculo[veh][v_Gasolina] >= 100) 
							return ms(playerid, 0, "Kendaraan ini sudah memiliki tangki bensin yang penuh.");
						SetPVarInt(playerid, "veiculo", veh);
						SetPVarInt(playerid, "slot", slot);
						fecharinv(playerid);

						new valor = 200;
						if(pInfo[playerid][pClasse] == 2) 
							valor = 50;

						if(Barra[playerid][b_Acao] == 0)
						{
							format(string_prox, 300, "Pemain %s sedang mengisi bensin kendaraan", Nome(playerid));
							ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

							Acao(playerid, 6, valor, "MENGISI BENSIN KENDARAAN", 1, "BD_FIRE", "WASH_UP", 1);
							SetPlayerAttachedObject(playerid, 9, 1650, 6, 0.262999, -0.047999, 0.079000, 40.500003, 17.699996, -19.100006, 1.000000, 1.000000, 1.000000);
						}
					}
					return 1;
				}
			}
		}

		ms(playerid, 0, "Gunakan galon ini di kendaraan untuk mengisinya dengan bensin.");
		return 1;
	}

	///////////  jetpack /////////////
	if(id == 12)
	{
		if(Haid() && ModoAdmin[playerid] == 0) 
			return ms(playerid, 0, "Kamu tidak boleh menggunakan item ini saat jadwal raid.");
		if(EmCombate(playerid)) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		fecharinv(playerid);
		cmd_jetpack(playerid, "");
		return 1;
	}

	//////////// reparador de equipamentos //////////////
	if(id == 3)
	{
		if(EmCombate(playerid)) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(Barra[playerid][b_Acao] == 0)
		{
			fecharinv(playerid);
			SetPVarInt(playerid, "slot", slot);
			format(string_prox, 300, "Pemain %s sedang memperbaiki perlengkapan", Nome(playerid));
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

			Acao(playerid, 3, 120, "REPARASI", 1, "BOMBER", "BOM_PLANT_LOOP", 1);
			SetPlayerAttachedObject(playerid, 9, 19921, 9, 0.057000, 0.103999, 0.236000, 0.000000, -87.899978, -30.999996, 1.000000, 1.000000, 1.000000);
		}
		return 1;
	}

	//////////////// analgesico //////////////////
	if(id == 2)
	{
		if(EmCombate(playerid)) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(Barra[playerid][b_Acao] == 0)
		{
			fecharinv(playerid);
			SetPVarInt(playerid, "slot", slot);
			new tempo;
			if(pInfo[playerid][pClasse] == 1) tempo = 70;
			else tempo = 200;
			format(string_prox, 300, "Pemain %s sedang menggunakan %s", Nome(playerid), Itens[id][item_Nome]);
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
			Acao(playerid, 2, tempo, "ANALGESIK", 1, "BOMBER", "BOM_PLANT_LOOP", 1);
			SetPlayerAttachedObject(playerid, 9, 11748, 5, 0.134000, 0.021999, -0.012000, 76.700012, 0.000000, 55.100002, 1.000000, 1.000000, 1.000000);
		}
		return 1;
	}

	//////////////// kit medik //////////////////
	if(id == 8)
	{
		if(EmCombate(playerid)) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		if(Barra[playerid][b_Acao] == 0)
		{
			SetPVarInt(playerid, "slot", slot);
			fecharinv(playerid);
			new tempo;
			if(pInfo[playerid][pClasse] == 1) tempo = 75;
			else tempo = 250;

			format(string_prox, 300, "Pemain %s sedang menggunakan %s", Nome(playerid), Itens[id][item_Nome]);
			ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);

			Acao(playerid, 1, tempo, "KIT MEDIK", 1, "BOMBER", "BOM_PLANT_LOOP", 1);
			SetPlayerAttachedObject(playerid, 9, 11738, 5, 0.087999, -0.041000, 0.192000, -156.599975, 0.000000, -50.400001, 1.000000, 1.000000, 1.000000);
		}
		return 1;
	}


	//////////////// kamera //////////////////
	if(id == 1)
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "Kamu tidak bisa melakukan ini di dalam ruangan.");
		if(BasePlayer(playerid) == -1) 
			return ms(playerid, 0, "Kamu bukan pemilik atau tidak tergabung dalam sebuah base!");
		fecharinv(playerid);
		new Float:p[4];
		GetPlayerPos(playerid, p[0], p[1], p[2]);
		GetPlayerFacingAngle(playerid, p[3]);
		new c = CriarCamera(p[0], p[1], p[2], p[3], p[0], p[1], p[2], Nome(playerid), GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), "Kamera Baru", BasePlayer(playerid));
		if(c == -1) 
			return ms(playerid, 0, "Jumlah maksimal kamera di server telah tercapai");
		Inventario[playerid][slot][inv_Unidades]--;
		if(Inventario[playerid][slot][inv_Unidades] <= 0)
		{
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
			Inventario[playerid][slot][inv_Tipo] = 0;
		}
		EditDynamicObject2(playerid, Camera[c][ca_Obj], 1886);
		format(string_prox, 300, "Pemain %s memasang %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// bubuk mesiu //////////////////
	if(id == 67)
	{
		Polvoras[playerid] += Inventario[playerid][slot][inv_Unidades];
		Inventario[playerid][slot][inv_ID] = 0;
		Inventario[playerid][slot][inv_Unidades] = 0;
		Inventario[playerid][slot][inv_Tipo] = 0;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// kayu //////////////////
	if(id == 96)
	{
		Madeiras[playerid] += Inventario[playerid][slot][inv_Unidades];
		Inventario[playerid][slot][inv_ID] = 0;
		Inventario[playerid][slot][inv_Unidades] = 0;
		Inventario[playerid][slot][inv_Tipo] = 0;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// logam //////////////////
	if(id == 97)
	{
		Metais[playerid] += Inventario[playerid][slot][inv_Unidades];
		Inventario[playerid][slot][inv_ID] = 0;
		Inventario[playerid][slot][inv_Unidades] = 0;
		Inventario[playerid][slot][inv_Tipo] = 0;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// batu //////////////////
	if(id == 98)
	{
		Pedras[playerid] += Inventario[playerid][slot][inv_Unidades];
		Inventario[playerid][slot][inv_ID] = 0;
		Inventario[playerid][slot][inv_Unidades] = 0;
		Inventario[playerid][slot][inv_Tipo] = 0;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// uang //////////////////
	if(id == 5)
	{
		DarGrana(playerid, Inventario[playerid][slot][inv_Unidades]);
		Inventario[playerid][slot][inv_ID] = 0;
		Inventario[playerid][slot][inv_Unidades] = 0;
		Inventario[playerid][slot][inv_Tipo] = 0;
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	//////////////// amunisi //////////////////
	if(id == 62 || id == 63 || id == 64 || id == 65 || id == 66)
	{
		new weapon[13][2];
		for(new w; w<13; w++) GetPlayerWeaponData(playerid, w, weapon[w][0], weapon[w][1]);
		if(weapon[Itens[id][item_Tipo]][0] != 0)
		{
			new arma_eq;
			new muni_eq;
			GetPlayerWeaponData(playerid, Itens[id][item_Tipo], arma_eq, muni_eq);
			new str3[300];
			new str1[300];
			format(str1, 300, "{00ffff}%s {a1a1a1}di Inventaris {ffffff}%s", Itens[id][item_Nome], ConvertMoney(UnidadesInv(playerid, id)));
			format(str3, 300, "\n\
			{ffff00}Senjata: {00ffff}%s\n\
			{ffff00}Amunisi: {ffffff}%s\n\
			{00ff00}INFO: {a1a1a1}Kamu hanya bisa memiliki maksimal 300 amunisi yang dipasangkan untuk setiap senjata.\n\n\
			{ffffff}Masukkan jumlah amunisi yang ingin kamu gunakan:\n", nome_arma(arma_eq), ConvertMoney(muni_eq));
			SetPVarInt(playerid, "invp_id", id);
			ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Pasang", "Batal");
		}
		else ms(playerid, 0, "Harus membawa senjata yang cocok dengan amunisi ini!");
		return 1;
	}



	//////////////// senjata ///////////////
	if( id > 18 && id < 63 )
	{
		new weapons[13][2];
		new ar = Itens[id][item_Tipo];
		for(new w; w<13; w++) GetPlayerWeaponData(playerid, w, weapons[w][0], weapons[w][1]);

		ResetPlayerWeapons(playerid);
		if(slot_arma(ar) == 8 || slot_arma(ar) == 7) // granat //
		{
			for(new www; www<13; www++)
			{
				if(www == slot_arma(ar)) // slot granat //
				{
					GivePlayerWeapon(playerid, ar, Inventario[playerid][slot][inv_Unidades]);
					if(weapons[www][0] == ar)
					{
						GivePlayerWeapon(playerid, weapons[www][0], weapons[www][1]);
						Inventario[playerid][slot][inv_ID] = 0;
						Inventario[playerid][slot][inv_Unidades] = 0;
						Inventario[playerid][slot][inv_Tipo] = 0;
					}
					else
					{
						if(weapons[www][0] != 0 && weapons[www][1] > 0)
						{
							Inventario[playerid][slot][inv_ID] = arma_id(weapons[www][0]);
							Inventario[playerid][slot][inv_Unidades] = weapons[www][1];
							Inventario[playerid][slot][inv_Tipo] = Itens[arma_id(weapons[www][0])][item_Tipo];
						}
						else
						{
							Inventario[playerid][slot][inv_ID] = 0;
							Inventario[playerid][slot][inv_Unidades] = 0;
							Inventario[playerid][slot][inv_Tipo] = 0;
						}
					}
				}
				else
				{
					GivePlayerWeapon(playerid, weapons[www][0], weapons[www][1]);
				}
			}
			SetPlayerArmedWeapon(playerid, ar);
			abririnv(playerid, 2);
			fechar_opcoes(playerid);
			salvarplayer(playerid);
			return 1;
		}

		if(slot_arma(ar) == 10 || slot_arma(ar) == 11) // senjata tanpa peluru //
		{
			for(new www; www<13; www++)
			{
				if(www == slot_arma(ar)) // slot senjata tajam //
				{
					GivePlayerWeapon(playerid, ar, Inventario[playerid][slot][inv_Unidades]);
					if(weapons[www][0] != 0 && weapons[www][1] > 0)
					{
						Inventario[playerid][slot][inv_ID] = arma_id(weapons[www][0]);
						Inventario[playerid][slot][inv_Unidades] = weapons[www][1];
					}
					else
					{
						Inventario[playerid][slot][inv_ID] = 0;
						Inventario[playerid][slot][inv_Unidades] = 0;
						Inventario[playerid][slot][inv_Tipo] = 0;
					}
				}
				else
				{
					GivePlayerWeapon(playerid, weapons[www][0], weapons[www][1]);
				}
			}
			SetPlayerArmedWeapon(playerid, ar);
			abririnv(playerid, 2);
			fechar_opcoes(playerid);
			salvarplayer(playerid);
			return 1;
		}

		if(slot_arma(ar) == 1 ) // senjata tajam //
		{
			for(new www; www<13; www++)
			{
				if(www == slot_arma(ar)) // slot senjata tajam //
				{
					if(weapons[www][0] != 0 && weapons[www][1] > 0)
					{
						Inventario[playerid][slot][inv_ID] = arma_id(weapons[www][0]);
						GivePlayerWeapon(playerid, ar, Inventario[playerid][slot][inv_Unidades]);
					}
					else
					{
						if(contar_armas(playerid) >= 3)
						{
							ms(playerid, 0, "Kamu hanya bisa membawa 3 senjata, gunakan Y untuk melihat senjata yang kamu bawa.");
						}
						else
						{
							GivePlayerWeapon(playerid, ar, Inventario[playerid][slot][inv_Unidades]);
							Inventario[playerid][slot][inv_ID] = 0;
							Inventario[playerid][slot][inv_Unidades] = 0;
							Inventario[playerid][slot][inv_Tipo] = 0;
						}
					}
				}
				else
				{
					GivePlayerWeapon(playerid, weapons[www][0], weapons[www][1]);
				}
			}
			SetPlayerArmedWeapon(playerid, ar);
			abririnv(playerid, 2);
			fechar_opcoes(playerid);
			salvarplayer(playerid);
			salvarplayer(playerid);
			return 1;
		}

		new fe;
		new ww = slot_arma(ar);
		for(new wwww; wwww<13; wwww++)
		{
			if(wwww != ww)
			{
				GivePlayerWeapon(playerid, weapons[wwww][0], weapons[wwww][1]);
			}
			else
			{
				if(weapons[ww][0] != 0)
				{
					GivePlayerWeapon(playerid, ar, weapons[ww][1]);
					Inventario[playerid][slot][inv_ID] = arma_id(weapons[ww][0]);
				}
				else
				{
					if(contar_armas(playerid) >= 3)
					{
						ms(playerid, 0, "Kamu hanya bisa membawa 3 senjata, gunakan Y untuk melihat senjata yang kamu bawa.");
						fe = 1;
					}
					else
					{
						new idmin = municao_id(ww);
						new tem = tem_item_id(playerid, idmin);
						GivePlayerWeapon(playerid, ar, 0);
						Inventario[playerid][slot][inv_ID] = 0;
						Inventario[playerid][slot][inv_Unidades] = 0;
						Inventario[playerid][slot][inv_Tipo] = 0;
						if(tem != -1)
						{
							fechar_opcoes(playerid);
							abririnv(playerid, 2);
							new str3[300];
							new str1[300];
							format(str1, 300, "{00ffff}%s {a1a1a1}di Inventaris {ffffff}%s", Itens[idmin][item_Nome], ConvertMoney(UnidadesInv(playerid, idmin)));
							format(str3, 300,"\n\
							{ffff00}Senjata: {00ffff}%s\n\
							{ffff00}Peluru: {ffffff}%s\n\
							{00ff00}INFO: {a1a1a1}Kamu hanya bisa membawa maksimal 300 peluru yang dipasang pada setiap senjata.\n\n\
							{ffffff}Masukkan jumlah peluru yang ingin digunakan:\n", nome_arma(ar), ConvertMoney(0));
							SetPVarInt(playerid, "invp_id", idmin);
							ShowPlayerDialog_(playerid, DIALOG_MUNICOES, DIALOG_STYLE_INPUT, str1, str3, "Pasang", "Batal");
							fe = 1;
						}
						else ms(playerid, 1, "Kamu memasang senjata ini, tapi tidak memiliki peluru, gunakan Y untuk memeriksa.");
					}
				}
			}
		}

		if(fe == 0)
		{
			abririnv(playerid, 2);
			fechar_opcoes(playerid);
			salvarplayer(playerid);
		}
		return 1;
	}



	////////////// Helm /////////////
	if(id == 16 || id == 17 || id == 18 )
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		format(string_prox, 300, "Pemain %s memakai sebuah %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		new caps = Capacete[playerid][0];
		new caps1 = Capacete[playerid][1];
		Setar_Capacete(playerid, id-15, Inventario[playerid][slot][inv_Tipo]);
		if(caps != 0)
		{
			Inventario[playerid][slot][inv_Tipo] = caps1;
			Inventario[playerid][slot][inv_ID] = 15+caps;
			Inventario[playerid][slot][inv_Unidades] = 1;
			ms(playerid, 2, "Helm lamamu telah disimpan.");
		}
		else
		{
			Inventario[playerid][slot][inv_Tipo] = 0;
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
		}
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	////////////// Rompi /////////////
	if(id == 13 || id == 14 || id == 15 )
	{
		if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
		format(string_prox, 300, "Pemain %s memakai sebuah %s", Nome(playerid), Itens[id][item_Nome]);
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
		new caps = Colete[playerid][0];
		new caps1 = Colete[playerid][1];
		Setar_Colete(playerid, id-12, Inventario[playerid][slot][inv_Tipo]);
		if(caps != 0)
		{
			Inventario[playerid][slot][inv_Tipo] = caps1;
			Inventario[playerid][slot][inv_ID] = 12+caps;
			Inventario[playerid][slot][inv_Unidades] = 1;
			ms(playerid, 2, "Rompi lamamu telah disimpan.");
		}
		else
		{
			Inventario[playerid][slot][inv_Tipo] = 0;
			Inventario[playerid][slot][inv_ID] = 0;
			Inventario[playerid][slot][inv_Unidades] = 0;
		}
		abririnv(playerid, 2);
		fechar_opcoes(playerid);
		salvarplayer(playerid);
		return 1;
	}

	return 1;
	}



Dano(playerid, damagedid, Float:amount, weaponid, bodypart)
{
    new danor = floatround(amount);
	if(amount != 0.0)
	{
		if(playerid >= 0 && playerid < MAX_PLAYERS && damagedid >= 0 && damagedid < MAX_PLAYERS)
		{
		    if(IsPlayerNPC(playerid)) return 1;
			if(Morto[playerid] != 0 && Reanimando[playerid] == 0) return 1;
			if(ModoAdmin[playerid] != 0) return 1;
			if(ModoAdmin[damagedid] != 0) return 1;
		}
		if(ModoAdmin[playerid] == 1) return 1;

		if(slot_arma(weaponid) == 1)
		{
		    if(pInfo[playerid][pClasse] == 0)
		    {
		        danor += danor;
		    }
		}

		if(damagedid == INVALID_PLAYER_ID || damagedid == -1)
		{
		    //// levou tiro ////
			if(dano_sofrido_player[playerid] == -123)
			{
			    dano_sofrido[playerid] += danor;
			    dano_sofrido_arma[playerid] = weaponid;
			}
			else
			{
			    dano_sofrido[playerid] = danor;
			    dano_sofrido_player[playerid] = -123;
			    dano_sofrido_arma[playerid] = weaponid;
			}
			mostrar_dano(playerid);
			KillTimer_(timer_dano[playerid]);
	        timer_dano[playerid] = SetTimerEx("resetar_dano", 6000, 0, "d", playerid);
		    Vida[playerid] -= danor;
	        if(Vida[playerid] <= 0)
			{
			    Vida[playerid] = 0;
				OnPlayerDeath(playerid, damagedid, weaponid);
			}
	        else SetarVida(playerid, Vida[playerid]);
		}
		else
		{

			// partes do corpo que atingiu //
			if(bodypart == 9)
			{
			    if(Capacete[playerid][0] != 0)
			    {
			        new novodano = danor/Capacete[playerid][0];
			        if(novodano < 1) novodano = 1;
			        danor = novodano;
			        Capacete[playerid][1] -= danor;

		            if(Capacete[playerid][1] <= 0) Setar_Capacete(playerid, 0, 0);
		            PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][2], 488.7+ 1.44*Capacete[playerid][1], 0);
		    		PlayerTextDrawShow(playerid, InvInfo_p[playerid][2]);
			    }
			    else
			    {
			        Vida[playerid] -= danor;
			        if(Vida[playerid] <= 0) OnPlayerDeath(playerid, damagedid, weaponid);
			        else SetarVida(playerid, Vida[playerid]);
			    }
			}
			else if(bodypart == 3 || bodypart == 4 || bodypart == 5 || bodypart == 6)
			{
			    if(Colete[playerid][0] != 0)
			    {
			        new novodano = danor/Colete[playerid][0];
			        if(novodano < 1) novodano = 1;
			        danor = novodano;
			        Colete[playerid][1] -= danor;

		            if(Colete[playerid][1] <= 0) Setar_Colete(playerid, 0, 0);
		           	PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][1], 488.7+ 1.44*Colete[playerid][1], 0);
		    		PlayerTextDrawShow(playerid, InvInfo_p[playerid][1]);
			    }
			    else
			    {
			        Vida[playerid] -= danor;
			        if(Vida[playerid] <= 0) OnPlayerDeath(playerid, damagedid, weaponid);
			        else SetarVida(playerid, Vida[playerid]);
			    }
			}
			else
			{
			    if(slot_arma(weaponid) != 6)
			    {
			    	danor = danor/3;
			    	if(danor < 1) danor = 1;
			    }
			    Vida[playerid] -= danor;
		        if(Vida[playerid] <= 0) OnPlayerDeath(playerid, damagedid, weaponid);
		        else SetarVida(playerid, Vida[playerid]);
			}

			//// levou tiro ////
			if(dano_sofrido_player[playerid] == damagedid)
			{
			    dano_sofrido[playerid] += danor;
			    dano_sofrido_arma[playerid] = weaponid;
			}
			else
			{
			    dano_sofrido[playerid] = danor;
			    dano_sofrido_player[playerid] = damagedid;
			    dano_sofrido_arma[playerid] = weaponid;
			}
			mostrar_dano(playerid);
	    	KillTimer_(timer_dano[playerid]);
			timer_dano[playerid] = SetTimerEx("resetar_dano", 6000, 0, "d", playerid);

			////  atirou ///
			if(dano_causado_player[damagedid] == playerid)
			{
			    dano_causado[damagedid] += danor;
			    dano_causado_arma[damagedid] = weaponid;
			}
			else
			{
			    dano_causado[damagedid] = danor;
			    dano_causado_player[damagedid] = playerid;
			    dano_causado_arma[damagedid] = weaponid;
			}
			mostrar_dano(damagedid);
	    	KillTimer_(timer_dano[damagedid]);
			timer_dano[damagedid] = SetTimerEx("resetar_dano", 6000, 0, "d", damagedid);

			// dano flutuante //
			if(!weapon_fire(weaponid))
			{
			    GetPlayerPos(playerid, LastHit[damagedid][0], LastHit[damagedid][1], LastHit[damagedid][2]);
			    new rands;
			    rands = random(sizeof RandomFloat2);
			    LastHit[damagedid][0] += RandomFloat2[rands];
			    rands = random(sizeof RandomFloat2);
			    LastHit[damagedid][1] += RandomFloat2[rands];
			    rands = random(sizeof RandomFloat2);
			    LastHit[damagedid][2] += RandomFloat2[rands];
			}
			criar_df(damagedid, GetPlayerInterior(damagedid), GetPlayerVirtualWorld(damagedid), LastHit[damagedid][0], LastHit[damagedid][1], LastHit[damagedid][2], danor);

			// som de hit //
			if(pInfo[damagedid][pConfig][3] == 0) PlayerPlaySound(damagedid, 17802, 0,0,0);

		}
	}


	return 1;
}


SetarVida(playerid, vida, killerid=INVALID_PLAYER_ID, weapon=0)
{
	if(vida == -555)
	{
	    SetPlayerHealth(playerid, 0);
	    Vida[playerid] = 0;
	    PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][0], 488.7+ 1.44*Vida[playerid], 0);
    	if(Modo[playerid] != 0)PlayerTextDrawShow(playerid, InvInfo_p[playerid][0]);
    	return 1;
	}

	if(vida <= 0)
	{
	    Vida[playerid] = 0;
	    PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][0], 488.7+ 1.44*Vida[playerid], 0);
    	if(Modo[playerid] != 0)PlayerTextDrawShow(playerid, InvInfo_p[playerid][0]);
    	OnPlayerDeath(playerid, killerid, weapon);
	    return 1;
	}

	if(vida > 100) vida = 100;
	Vida[playerid] = vida;
 	SetPlayerHealth(playerid, 99999999);
	PlayerTextDrawTextSize(playerid, InvInfo_p[playerid][0], 488.7+ 1.44*vida, 0);
    if(Modo[playerid] != 0)PlayerTextDrawShow(playerid, InvInfo_p[playerid][0]);
    Dano(playerid, -1, 0.0, 0, 0);
	return 1;
}

tipo_arma(arma)
{
    new tipo[40];
    if(slot_arma(arma) == 2) format(tipo, 40, "Pistol");
    if(slot_arma(arma) == 3) format(tipo, 40, "12");      // Kemungkinan mengacu pada shotgun 12 gauge
    if(slot_arma(arma) == 4) format(tipo, 40, "Sub");
    if(slot_arma(arma) == 5) format(tipo, 40, "Rifle");
    if(slot_arma(arma) == 6) format(tipo, 40, "Sniper");
    return tipo;
}


slot_arma(arma)
{
	new slot = -1;
	if(arma > -1 && arma < 47) return lista_armas[arma][a_Slot];
    for(new i; i<sizeof lista_armas; i++)
    {
		if(arma == lista_armas[i][a_Modelo])
		{
		    slot = lista_armas[i][a_Slot];
			break;
        }
    }
	return slot;
}

arma_id(arma)
{
	new slot;
	if(arma > -1 && arma < 47) return lista_armas[arma][a_Item];
    for(new i; i<sizeof lista_armas; i++)
    {
		if(arma == lista_armas[i][a_Modelo])
		{
		    slot = lista_armas[i][a_Item];
			break;
        }
    }
	return slot;
}

modelo_arma(arma)
{
	new slot = lista_armas[arma][a_Modelo];
	return slot;
}

dano_arma(arma, &dadoo)
{
	if(arma == 49)
	{
		dadoo = 0;
		return 1;
	}
	if(arma == 50)
	{
		dadoo = 0;
		return 1;
	}
	if(arma == 16)
	{
		dadoo = 75;
		return 1;
	}
	if(arma == 37)
	{
		dadoo = 5;
		return 1;
	}
	if(arma == 18)
	{
		dadoo = 1;
		return 1;
	}
	if(arma > -1 && arma < 47)
	{
	    dadoo = floatround(lista_armas[arma][a_Dano]);
		return 1;
	}
	for(new i; i<sizeof lista_armas; i++)
    {
        if(arma == lista_armas[i][a_Modelo])
		{
			dadoo = floatround(lista_armas[i][a_Dano]);
			return 1;
		}
    }

	return 0;
}

nome_arma(arma)
{
    new slot[60];
    format(slot, 60, tipodano(arma)); // Mengisi slot dengan tipe damage senjata

    if(arma == -1) format(slot, 60, "Gas");
    if(arma == -6666) format(slot, 60, "Gas");
    if(arma == 9999) format(slot, 60, "Explosivo C-4");
    if(arma == 8888) format(slot, 60, "Rokok");
    
    if(arma > -1 && arma < 47)
    {
        format(slot, 60, "%s", lista_armas[arma][a_Nome]); // Ambil nama senjata dari daftar senjata
        return slot;
    }

    for(new i; i < sizeof lista_armas; i++)
    {
        if(arma == lista_armas[i][a_Modelo])
        {
            format(slot, 60, "%s", lista_armas[i][a_Nome]); // Ambil nama senjata berdasarkan model jika tidak ditemukan sebelumnya
            break;
        }
    }
    return slot;
}


esconderarmas(playerid)
{
    if(mostrando_arma[playerid] == 1)
	{
	    mostrando_arma[playerid] = 0;
	    TextDrawHideForPlayer(playerid, TextArma[0]);
	    TextDrawHideForPlayer(playerid, TextArma[1]);
	    TextDrawHideForPlayer(playerid, TextArma[2]);
	    TextDrawHideForPlayer(playerid, TextArma[3]);
	    TextDrawHideForPlayer(playerid, TextArma[4]);
	    TextDrawHideForPlayer(playerid, TextArma[5]);
	    TextDrawHideForPlayer(playerid, TextArma[6]);
	    PlayerTextDrawHide(playerid, TextArma_p[playerid][0]);
	    PlayerTextDrawHide(playerid, TextArma_p[playerid][1]);
	    PlayerTextDrawHide(playerid, TextArma_p[playerid][2]);
	    CancelSelectTextDraw_(playerid);
	}
	Arma_Player[playerid] = 9990;
	return 1;
}

forward mostrararmas(playerid);
public mostrararmas(playerid)
{
    new Float:pos[3];
    GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
    if(invaberto[playerid] != 0) return 1;
    if(mostrando_mapa[playerid] != 0) return 1;
    if(IsPlayerInAnyVehicle(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat berada di kendaraan!");
    if(cadeira_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat duduk!");
    if(cama_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat berbaring di tempat tidur!");
    if(Barra[playerid][b_Acao] != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat ini!");
    if(olhando_camera[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat mengamati kamera!");
    if(Morto[playerid] != 0) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat mati!");
    if(com_jetpack[playerid] == 1) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat menggunakan Jetpack, keluar terlebih dahulu!");
    if(pos[2] <= 0.30) return ms(playerid, 0, "Kamu tidak bisa membuka inventaris saat berada di air!");
    if(tv_player[playerid] != -1) return ms(playerid, 0, "Kamu tidak bisa membuka inventaris saat menggunakan mode /tv!");

    new str[50];
    if(mostrando_arma[playerid] == 0)
    {
        new cont = 0, a1, a2;
        for(new i = 0; i < 13; i++)
        {
            armas[playerid][i][0] = 0;
            armas[playerid][i][1] = 0;
            armas[playerid][i][2] = 0;
            GetPlayerWeaponData(playerid, i, a1, a2);
            if(a1 != 0)
            {
                if(i == 8 || i == 7)
                {
                    if(a2 > 0)
                    {
                        armas[playerid][cont][0] = a1;
                        armas[playerid][cont][1] = a2;
                        armas[playerid][cont][2] = i;
                        cont++;
                    }
                }
                else
                {
                    armas[playerid][cont][0] = a1;
                    armas[playerid][cont][1] = a2;
                    armas[playerid][cont][2] = i;
                    cont++;
                }
            }
        }

        if(cont == 0)
        {
            esconderarmas(playerid);
        }

        maximo_armas[playerid] = cont;
        mostrando_id[playerid] = 0;
        if(armas[playerid][mostrando_id[playerid]][0] != 0)
        {
            new aki = arma_id(armas[playerid][mostrando_id[playerid]][0]);
            PlayerTextDrawSetPreviewRot(playerid, TextArma_p[playerid][1], Itens[aki][item_PreX], Itens[aki][item_PreY], Itens[aki][item_PreZ], Itens[aki][item_PreV]);
            PlayerTextDrawColor(playerid, TextArma_p[playerid][1], Itens[aki][item_Cor]);
            PlayerTextDrawSetPreviewModel(playerid, TextArma_p[playerid][1], Itens[aki][item_Modelo]);
            PlayerTextDrawSetString(playerid, TextArma_p[playerid][0], Itens[arma_id(armas[playerid][mostrando_id[playerid]][0])][item_Nome]);
            format(str, 50, "%d", armas[playerid][mostrando_id[playerid]][1]);
            PlayerTextDrawSetString(playerid, TextArma_p[playerid][2], str);
            PlayerTextDrawShow(playerid, TextArma_p[playerid][0]);
            PlayerTextDrawShow(playerid, TextArma_p[playerid][1]);
            PlayerTextDrawShow(playerid, TextArma_p[playerid][2]);
            TextDrawShowForPlayer(playerid, TextArma[0]);
            TextDrawShowForPlayer(playerid, TextArma[1]);
            TextDrawShowForPlayer(playerid, TextArma[2]);
            TextDrawShowForPlayer(playerid, TextArma[3]);
            TextDrawShowForPlayer(playerid, TextArma[4]);
            TextDrawShowForPlayer(playerid, TextArma[5]);
            TextDrawShowForPlayer(playerid, TextArma[6]);
            SelectTextDraw_(playerid, 0x00ffffff);
            mostrando_arma[playerid] = 1;
        }
        else
        {
            esconderarmas(playerid);
        }
    }
    else
    {
        new aki = arma_id(armas[playerid][mostrando_id[playerid]][0]);
        PlayerTextDrawSetPreviewRot(playerid, TextArma_p[playerid][1], Itens[aki][item_PreX], Itens[aki][item_PreY], Itens[aki][item_PreZ], Itens[aki][item_PreV]);
        PlayerTextDrawColor(playerid, TextArma_p[playerid][1], Itens[aki][item_Cor]);
        PlayerTextDrawSetPreviewModel(playerid, TextArma_p[playerid][1], Itens[aki][item_Modelo]);
        PlayerTextDrawSetString(playerid, TextArma_p[playerid][0], Itens[arma_id(armas[playerid][mostrando_id[playerid]][0])][item_Nome]);
        format(str, 50, "%d", armas[playerid][mostrando_id[playerid]][1]);
        PlayerTextDrawSetString(playerid, TextArma_p[playerid][2], str);
        PlayerTextDrawShow(playerid, TextArma_p[playerid][0]);
        PlayerTextDrawShow(playerid, TextArma_p[playerid][1]);
        PlayerTextDrawShow(playerid, TextArma_p[playerid][2]);
    }
    return 1;
}


GranaPlayer(playerid)
{
	if(Online(playerid)) return pInfo[playerid][pGrana];
	return 0;
}

GranaPlayer2(playerid)
{
	if(Online(playerid)) return pInfo[playerid][pGrana2];
	return 0;
}

SetarGrana2(playerid, grana)
{
    if(Online(playerid))
    {
        pInfo[playerid][pGrana2] = grana;
        new str[120];
		format(str, 120, "R$ %s", ConvertMoney(pInfo[playerid][pGrana2]));
        PlayerTextDrawSetString(playerid, TextGrana2[playerid][0], str);
        return 1;
    }
	return 0;
}

ConvertMoney(amount)
{
    new strl[50], lenl = sizeof strl;
    if(amount == cellmin)
    {
        strl[0] = EOS;
        strcat(strl, "-2.147.483.648", lenl);
        return strl;
    }

    format(strl, lenl, "%d", amount);

    for(new i = strlen(strl), end = amount >= 0 ? 0 : 1; (i -= 3) > end;)
   	strins(strl, ".", i, lenl);
    return strl;
}


SetarGrana(playerid, grana)
{
    if(Online(playerid))
    {
        pInfo[playerid][pGrana] = grana;
        new str[120];
		format(str, 120, "R$  %s", ConvertMoney(pInfo[playerid][pGrana]));
        PlayerTextDrawSetString(playerid, TextGrana[playerid][0], str);
        return 1;
    }
	return 0;
}

/*
DarGrana2(playerid, grana)
{
	if(grana < 0) pInfo[playerid][pGrana2] -= grana;
	else pInfo[playerid][pGrana2] += grana;
	if(pInfo[playerid][pGrana2] < 0) pInfo[playerid][pGrana2] = 0;
	new str[120];
	format(str, 120, "R$ %s", ConvertMoney(pInfo[playerid][pGrana2]));
	PlayerTextDrawSetString(playerid, TextGrana2[playerid][0], str);
	return 1;
}
*/

DarGrana(playerid, grana)
{
	if(grana < 0) pInfo[playerid][pGrana] -= grana;
	else pInfo[playerid][pGrana] += grana;
	if(pInfo[playerid][pGrana] < 0) pInfo[playerid][pGrana] = 0;
	new str[120];
	format(str, 120, "R$  %s", ConvertMoney(pInfo[playerid][pGrana]));
	PlayerTextDrawSetString(playerid, TextGrana[playerid][0], str);
	return 1;
}

CriarPedra(Float:x, Float:y, Float:z, Float:a, inter, mund)
{
    for(new i; i < MAX_PEDRAS; i++)
    {
        if(Pedra[i][ar_Existe] == 0)
        {
            Pedra[i][ar_Existe] = 1;
            Pedra[i][ar_X] = x;
            Pedra[i][ar_Y] = y;
            Pedra[i][ar_Z] = z;
            Pedra[i][ar_A] = a;
            Pedra[i][ar_Interior] = inter;
            Pedra[i][ar_Mundo] = mund;
            Pedra[i][ar_Vida] = 75;
            Pedra[i][ar_Player] = -1;
            DestroyDynamicObject_(Pedra[i][ar_Obj]);
            DestroyDynamic3DTextLabel(Pedra[i][ar_3D]);
            Pedra[i][ar_Obj] = CreateDynamicObject(747, x, y, z, 0, 0, a, mund, inter);
            Pedra[i][ar_3D] = CreateDynamic3DTextLabel("- BATU -\nTekan H untuk\nmengambil material", 0xffffff99, x, y, z + 0.8, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, mund, inter, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
            return i;
        }
    }
    return -1;
}


CriarArvore(Float:x, Float:y, Float:z, Float:a, inter, mund)
{
    for(new i; i<MAX_ARVORES; i++)
    {
        if(Arvore[i][ar_Existe] == 0)
        {
            Arvore[i][ar_Existe] = 1;
            Arvore[i][ar_X] = x;
            Arvore[i][ar_Y] = y;
            Arvore[i][ar_Z] = z;
            Arvore[i][ar_A] = a;
            Arvore[i][ar_Interior] = inter;
            Arvore[i][ar_Mundo] = mund;
            Arvore[i][ar_Vida] = 50;
            Arvore[i][ar_Player] = -1;
            DestroyDynamicObject_(Arvore[i][ar_Obj]);
            DestroyDynamic3DTextLabel(Arvore[i][ar_3D]);
            Arvore[i][ar_Obj] = CreateDynamicObject(657, x, y, z, 0, 0, a, mund, inter);
            Arvore[i][ar_3D] = CreateDynamic3DTextLabel("- POHON -\nTekan H untuk\nmengambil material", 0xffffff99, x, y, z+0.8, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, mund, inter, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
            return i;
        }
    }
    return -1;
}

DestruirArvore(i)
{
    if(Arvore[i][ar_Existe] == 1)
    {
        DestroyDynamicObject_(Arvore[i][ar_Obj]);
        DestroyDynamic3DTextLabel(Arvore[i][ar_3D]);
        Arvore[i][ar_Existe] = 0;
        salvar_arvore(i);
    }
    return 1;
}

DestruirPedra(i)
{
    if(Pedra[i][ar_Existe] == 1)
    {
        DestroyDynamicObject_(Pedra[i][ar_Obj]);
        DestroyDynamic3DTextLabel(Pedra[i][ar_3D]);
        Pedra[i][ar_Existe] = 0;
        salvar_pedra(i);
    }
    return 1;
}

AtualizarArvore(i)
{
    if(Arvore[i][ar_Existe] == 1)
    {
        DestroyDynamicObject_(Arvore[i][ar_Obj]);
        DestroyDynamic3DTextLabel(Arvore[i][ar_3D]);
        Arvore[i][ar_Obj] = CreateDynamicObject(657, Arvore[i][ar_X], Arvore[i][ar_Y], Arvore[i][ar_Z], 0, 0, Arvore[i][ar_A], Arvore[i][ar_Mundo], Arvore[i][ar_Interior]);
        Arvore[i][ar_3D] = CreateDynamic3DTextLabel("- POHON -\nTekan H untuk\nmengambil material", 0xffffff99, Arvore[i][ar_X], Arvore[i][ar_Y], Arvore[i][ar_Z]+0.8, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, Arvore[i][ar_Mundo], Arvore[i][ar_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
    }
    return 1;
}

AtualizarPedra(i)
{
    if(Pedra[i][ar_Existe] == 1)
    {
        DestroyDynamicObject_(Pedra[i][ar_Obj]);
        DestroyDynamic3DTextLabel(Pedra[i][ar_3D]);
        Pedra[i][ar_Obj] = CreateDynamicObject(747, Pedra[i][ar_X], Pedra[i][ar_Y], Pedra[i][ar_Z], 0, 0, Pedra[i][ar_A], Pedra[i][ar_Mundo], Pedra[i][ar_Interior]);
        Pedra[i][ar_3D] = CreateDynamic3DTextLabel("- BATU -\nTekan H untuk\nmengambil material", 0xffffff99, Pedra[i][ar_X], Pedra[i][ar_Y], Pedra[i][ar_Z]+0.8, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, Pedra[i][ar_Mundo], Pedra[i][ar_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
    }
    return 1;
}


verificar_cadastro(playerid)
{
	// ver se tem //
    for(new ii; ii<MAX_CADASTROS; ii++)
	{
	    if(Cadastros[ii][cadastro_Existe] == 1)
	    {
	        if(Comparar(Nome(playerid), Cadastros[ii][cadastro_Nick]))
	        {
	            cadastro_player[playerid] = ii;
	            return 1;
	        }
	    }
	}

	// se nao tem criar //
	for(new i; i<MAX_CADASTROS; i++)
	{
	    if(Cadastros[i][cadastro_Existe] == 0)
	    {
	        Cadastros[i][cadastro_Existe] = 1;
	        format(Cadastros[i][cadastro_Nick], MAX_PLAYER_NAME, Nome(playerid));
	        salvar_cadastro(i);
	        cadastro_player[playerid] = i;
	        cadastrados ++;
	        return 1;
	    }
	}

	return 1;
}

carregar_cadastros()
{
    new file[80];
    for(new i; i < MAX_CADASTROS; i++)
    {
        format(file, 80, "Cadastros/%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Cadastros[i][cadastro_Existe] = 1;
            Cadastros[i][cadastro_VPN] = DOF2_GetInt(file, "VPN");
            format(Cadastros[i][cadastro_Nick], MAX_PLAYER_NAME, DOF2_GetString(file, "Nick"));
            cadastrados++;
        }
        else
        {
            Cadastros[i][cadastro_Existe] = 0;
            Cadastros[i][cadastro_VPN] = 0;
            format(Cadastros[i][cadastro_Nick], MAX_PLAYER_NAME, Nome(-1)); // "Nobody"
        }
    }
    return 1;
}

salvar_cadastro(i)
{
    new file[80];
    format(file, 80, "Cadastros/%d.txt", i);
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    DOF2_SetString(file, "Nick", Cadastros[i][cadastro_Nick]);
    DOF2_SetInt(file, "VPN", Cadastros[i][cadastro_VPN]);
    DOF2_SaveFile();
    return 1;
}

carregar_arvores()
{
    new file[60];
    new cont;
    for(new i; i < MAX_ARVORES; i++)
    {
        format(file, 60, "Arvores/Arvore_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            cont++;
            CriarArvore(DOF2_GetFloat(file, "x"), DOF2_GetFloat(file, "y"), DOF2_GetFloat(file, "z"), DOF2_GetFloat(file, "a"), DOF2_GetInt(file, "inter"), DOF2_GetInt(file, "mund"));
        }
    }
    printf("** %d trees loaded.", cont);
    return 1;
}


carregar_pedras()
{
	new file[60];
	new cont;
	for(new i; i<MAX_PEDRAS; i++)
	{
	    format(file, 60, "Pedras/Pedras_%d.txt", i);
	    if(DOF2_FileExists(file))
	    {
	        cont++;
	        CriarPedra(DOF2_GetFloat(file, "x"), DOF2_GetFloat(file, "y"), DOF2_GetFloat(file, "z"), DOF2_GetFloat(file, "a"), DOF2_GetInt(file, "inter"), DOF2_GetInt(file, "mund"));
	    }
	}
	printf("** %d batu dimuat.", cont);

	return 1;
}


salvar_arvore(i)
{
	new file[60];
    format(file, 60, "Arvores/Arvore_%d.txt", i);
    if(Arvore[i][ar_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetFloat(file, "x", Arvore[i][ar_X]);
        DOF2_SetFloat(file, "y", Arvore[i][ar_Y]);
        DOF2_SetFloat(file, "z", Arvore[i][ar_Z]);
        DOF2_SetFloat(file, "a", Arvore[i][ar_A]);
        DOF2_SetInt(file, "mund", Arvore[i][ar_Mundo]);
        DOF2_SetInt(file, "inter", Arvore[i][ar_Interior]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

salvar_pedra(i)
{
	new file[60];
	format(file, 60, "Pedras/Pedras_%d.txt", i);
    if(Pedra[i][ar_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetFloat(file, "x", Pedra[i][ar_X]);
        DOF2_SetFloat(file, "y", Pedra[i][ar_Y]);
        DOF2_SetFloat(file, "z", Pedra[i][ar_Z]);
        DOF2_SetFloat(file, "a", Pedra[i][ar_A]);
        DOF2_SetInt(file, "mund", Pedra[i][ar_Mundo]);
        DOF2_SetInt(file, "inter", Pedra[i][ar_Interior]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

DeitarArvore(i)
{
	if(Arvore[i][ar_Existe] == 1)
	{
        if(Arvore[i][ar_Vida] != -123)
        {
			Arvore[i][ar_Vida] = -123;
			DestroyDynamicObject_(Arvore[i][ar_Obj]);
			DestroyDynamic3DTextLabel(Arvore[i][ar_3D]);
			Arvore[i][ar_Obj] = CreateDynamicObject(657, Arvore[i][ar_X], Arvore[i][ar_Y], Arvore[i][ar_Z]+0.2, -90, 0, Arvore[i][ar_A], Arvore[i][ar_Mundo], Arvore[i][ar_Interior]);
            for(new a; a<MAX_PLAYERS; a++)
			{
			    if(!Online(a)) continue;
			    if(IsPlayerInRangeOfPoint(a, 5, Arvore[i][ar_X], Arvore[i][ar_Y], Arvore[i][ar_Z]))
		    	{
			        if(GetPlayerInterior(a) == Arvore[i][ar_Interior] && GetPlayerVirtualWorld(a) == Arvore[i][ar_Mundo])
			        {
						Streamer_Update(a);
				    }
				}
			}
		}
	}
	return 1;
}

DeitarPedra(i)
{
	if(Pedra[i][ar_Existe] == 1)
	{
        if(Pedra[i][ar_Vida] != -123)
        {
			Pedra[i][ar_Vida] = -123;
			DestroyDynamicObject_(Pedra[i][ar_Obj]);
			DestroyDynamic3DTextLabel(Pedra[i][ar_3D]);
			Pedra[i][ar_Obj] = CreateDynamicObject(3930, Pedra[i][ar_X], Pedra[i][ar_Y], Pedra[i][ar_Z], 0, 0, Pedra[i][ar_A], Pedra[i][ar_Mundo], Pedra[i][ar_Interior]);
			for(new a; a<MAX_PLAYERS; a++)
			{
			    if(!Online(a)) continue;
			    if(IsPlayerInRangeOfPoint(a, 5, Pedra[i][ar_X], Pedra[i][ar_Y], Pedra[i][ar_Z]))
		    	{
			        if(GetPlayerInterior(a) == Pedra[i][ar_Interior] && GetPlayerVirtualWorld(a) == Pedra[i][ar_Mundo])
			        {
						Streamer_Update(a);
				    }
				}
			}
		}
	}
	return 1;
}





GetAngleToPoint(Float:fPointX, Float:fPointY, Float:fDestX, Float:fDestY)
{
	new Float:an;
	an = -(90.0 - (atan2((fDestY - fPointY),(fDestX - fPointX))));
	while(an < 0.0) an += 360.0;
	while(an > 360.0) 	an -= 360.0;
	return floatround(an);
}

SetPlayerAngleToPoint(playerid, Float:xXx, Float:yYy)
{
	if(Online(playerid))
	{
		new Float:pf[3];
		GetPlayerPos(playerid, pf[0], pf[1], pf[2] );
		SetPlayerFacingAngle(playerid, GetAngleToPoint(pf[0], pf[1], xXx,yYy));
	}
	return 1;
}

PegarFrentePlayer(playerid, &Float:x, &Float:y, Float:dist)
{
	new Float:ang;
	GetPlayerFacingAngle(playerid, ang);
	PegarFrente(x, y, ang, dist);
	return 1;
}

PegarFrente(&Float:x, &Float:y, Float:a, Float:distance)
{
	a += 180.0;
	if(a > 360.0) a -= 360.0;
	x += (distance * floatsin(-a, degrees));
	y += (distance * floatcos(-a, degrees));
}

carregar_cameras()
{
	new file[60];
	new cont;
	for(new i; i<MAX_CAMERAS; i++)
	{
	    format(file, 60, "Cameras/Camera_%d.txt", i);
	    if(DOF2_FileExists(file))
	    {
	        cont++;
	        CriarCamera(DOF2_GetFloat(file, "x"), DOF2_GetFloat(file, "y"), DOF2_GetFloat(file, "z"), DOF2_GetFloat(file, "a"), DOF2_GetFloat(file, "xx"),DOF2_GetFloat(file, "yy"), DOF2_GetFloat(file, "zz"), DOF2_GetString(file, "dono"), DOF2_GetInt(file, "mundo"), DOF2_GetInt(file, "interior"), DOF2_GetString(file, "nome"), DOF2_GetInt(file, "base"));
	    }
	}
	printf("** %d Kamera Keamanan dimuat.", cont);

	return 1;
}


salvar_camera(i)
{
    new file[60];
    format(file, 60, "Cameras/Camera_%d.txt", i);
	if(Camera[i][ca_Existe] == 1)
	{
	    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
		DOF2_SetFloat(file, "x", Camera[i][ca_X] );
		DOF2_SetFloat(file, "y", Camera[i][ca_Y] );
		DOF2_SetFloat(file, "z", Camera[i][ca_Z] );
		DOF2_SetFloat(file, "a", Camera[i][ca_A] );
		DOF2_SetFloat(file, "xx", Camera[i][ca_XX] );
		DOF2_SetFloat(file, "yy", Camera[i][ca_YY] );
		DOF2_SetFloat(file, "zz", Camera[i][ca_ZZ] );
		DOF2_SetString(file, "dono", Camera[i][ca_Dono] );
		DOF2_SetString(file, "nome", Camera[i][ca_Nome] );
		DOF2_SetInt(file, "interior", Camera[i][ca_Interior] );
		DOF2_SetInt(file, "mundo", Camera[i][ca_Mundo] );
		DOF2_SetInt(file, "base", Camera[i][ca_Base] );
        DOF2_SaveFile();
	}
	else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}


CriarCamera(Float:x, Float:y, Float:z, Float:a, Float:xxxx, Float:yyyy, Float:zzzz, dono[], mund, inter, noome[], base)
{
	for(new i; i<MAX_CAMERAS; i++)
	{
		if(Camera[i][ca_Existe] == 0)
		{
            Camera[i][ca_Existe] = 1;
            Camera[i][ca_X] = x;
            Camera[i][ca_Y] = y;
            Camera[i][ca_Z] = z;
            Camera[i][ca_A] = a;
            Camera[i][ca_XX] = xxxx;
            Camera[i][ca_YY] = yyyy;
            Camera[i][ca_ZZ] = zzzz;
            Camera[i][ca_Mundo] = mund;
            Camera[i][ca_Base] = base;
            Camera[i][ca_Interior] = inter;
			format(Camera[i][ca_Dono], MAX_PLAYER_NAME, dono);
			format(Camera[i][ca_Nome], 100, "%s", noome);
			DestroyDynamicObject_(Camera[i][ca_Obj]);
			Camera[i][ca_Obj] = CreateDynamicObject(1886, x, y, z, 0, 0, a, mund, inter);
			salvar_camera(i);
			return i;
		}
	}
	return -1;
}


DestruirCamera(i)
{
	if(Camera[i][ca_Existe] == 1)
	{
	    Camera[i][ca_Existe] = 0;
	    Camera[i][ca_X] = 0;
	    Camera[i][ca_Y] = 0;
	    Camera[i][ca_Z] = 0;
	    Camera[i][ca_A] = 0;
	    Camera[i][ca_XX] = 0;
	    Camera[i][ca_YY] = 0;
	    Camera[i][ca_ZZ] = 0;
	    Camera[i][ca_Mundo] = 0;
	    Camera[i][ca_Interior] = 0;
		format(Camera[i][ca_Dono], MAX_PLAYER_NAME, "Ninguem");
		format(Camera[i][ca_Nome], 100, "Nenhum");
		DestroyDynamicObject_(Camera[i][ca_Obj]);
		salvar_camera(i);
	}
	return 1;
}


VerCamera(playerid, c)
{
    if(Camera[c][ca_Existe] == 1)
    {
        if(EmCombate(playerid)) return ms(playerid, 0, "Kamu tidak bisa melakukan ini saat bertarung!");
        for(new pla; pla < MAX_PLAYERS; pla++)
        {
            if(Online(pla))
            {
                if(hackeando_id[pla] == playerid)
                {
                    hackeando_id[pla] = -1;
                    hackeando_tempo[pla] = 0;
                    ms(pla, 3, "Sinyal hilang, lokasi dihentikan!");
                }
            }
        }

        new sss[150];
        format(sss, 150, "{ffffff}%s [%d]\n{ff0000}[ SEDANG MELIHAT KAMERA ]", Nome(playerid), playerid);
        ms(playerid, 2, "Untuk keluar dari kamera, tekan F atau ENTER kapan saja.");

        if(olhando_camera[playerid] == -1)
        {
            salvarplayer(playerid);
            GetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
            GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
            pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
            pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
            if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
            if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
            actor_player[playerid] = CreateDynamicActor(GetPlayerSkin(playerid), pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ], pInfo[playerid][pA], 1, 99999, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
            player3d[playerid] = CreateDynamic3DTextLabel(sss, 0xffffff99, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ] + 0.7, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
        }
        ApplyDynamicActorAnimation(actor_player[playerid], "COP_AMBIENT", "COPBROWSE_LOOP", 4.1, 1, 1, 1, 0, 0);
        olhando_camera[playerid] = c;
        TogglePlayerSpectating(playerid, true);
        InterpolateCameraPos(playerid, Camera[c][ca_X], Camera[c][ca_Y], Camera[c][ca_Z] - 0.4, Camera[c][ca_X], Camera[c][ca_Y], Camera[c][ca_Z] - 0.4, 1000, CAMERA_CUT);
        InterpolateCameraLookAt(playerid, Camera[c][ca_XX], Camera[c][ca_YY], Camera[c][ca_ZZ], Camera[c][ca_XX], Camera[c][ca_YY], Camera[c][ca_ZZ], 1000, CAMERA_CUT);
        for(new a; a < MAX_PLAYERS; a++) 
            if(Online(a)) 
                if(IsPlayerInRangeOfPoint(a, 5, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]))
                    Streamer_Update(playerid);
    }
    return 1;
}




GetWeekDay()
{
    new year, month, day;
    getdate(year, month, day);
    new weekday_str[20], j, e;
    if (month <= 2)
    {
        month += 12;
        --year;
    }

    j = year % 100;
    e = year / 100;

    switch ((day + (month+1)*26/10 + j + j/4 + e/4 - 2*e) % 7)
    {
        case 0: weekday_str = "Sabtu";
        case 1: weekday_str = "Minggu";
        case 2: weekday_str = "Senin";
        case 3: weekday_str = "Selasa";
        case 4: weekday_str = "Rabu";
        case 5: weekday_str = "Kamis";
        case 6: weekday_str = "Jumat";
    }
    return weekday_str;
}

GetWeekDay2()
{
    new year, month, day;
    getdate(year, month, day);
    new j, e;
    if (month <= 2)
    {
        month += 12;
        --year;
    }
    j = year % 100;
    e = year / 100;
    return ((day + (month+1)*26/10 + j + j/4 + e/4 - 2*e) % 7);
}


forward MostrarCameras(playerid, con, c);
public MostrarCameras(playerid, con, c)
{
	if(!Online(playerid)) return 1;
	String_Gigante[0] = EOS;
	new str2[80];
	new cont;
	for(new a; a<25; a++) cameras[playerid][a] = -1;
	if(con == 0)
	{
		for(new i; i<MAX_CAMERAS; i++)
		{
			if(cont == 25) break;
			if(Camera[i][ca_Existe] == 0) continue;
	        if(Comparar(Nome(playerid), Camera[i][ca_Dono]))
	        {
	            cameras[playerid][cont] = i;
	            cont ++;
	            format(str2, 100, "{ffffff}%s\n", Camera[i][ca_Nome]);
	            strcat(String_Gigante, str2);
	        }
	        else if(Camera[i][ca_Base] == BasePlayer(playerid) && BasePlayer(playerid) != -1)
	        {
	            cameras[playerid][cont] = i;
	            cont ++;
	            format(str2, 100, "{00ffff}%s\n", Camera[i][ca_Nome]);
	            strcat(String_Gigante, str2);
	        }
		}
		if(cont == 0)
		{
			ms(playerid, 0, "Tidak ada kamera yang ditemukan!");
			return 1;
		}
		ShowPlayerDialog_(playerid, DIALOG_CAMERAS, DIALOG_STYLE_LIST, "Lista de Cameras", String_Gigante, "Lanjutkan", "Tutup");
		return 1;
	}

	if(con == 1)
	{
		if(c != -1)
		{
			format(str2, 100, "{ffffff}Kamera: {00ffff}%s", Camera[c][ca_Nome]);
			SetPVarInt(playerid, "camera", c);
			ShowPlayerDialog_(playerid, DIALOG_CAMERAS2, DIALOG_STYLE_LIST, str2,
			"Amati Kamera\n\
			Ganti Nama\n\
			Simpan Fokus\n\
			Pindah Kamera\n\
			Simpan Kamera",
			"Lanjut", "Kembali");
		}
		return 1;
	}
	if(con == 2)
	{
		format(str2, 100, "{ffffff}Kamera: {00ffff}%s", Camera[c][ca_Nome]);
		SetPVarInt(playerid, "camera", c);
		ShowPlayerDialog_(playerid, DIALOG_CAMERAS3, DIALOG_STYLE_INPUT, str2, "{ffffff}\nMasukkan nama baru untuk Kamera ini:", "Ubah", "Kembali");
		return 1;
	}

	return 1;
}


Acao(playerid, acao, barra, nome[], anim, nom1[], nom2[], lop)
{
	KillTimer_(Barra[playerid][b_Timer]);
    Barra[playerid][b_Acao] = acao;
    Barra[playerid][b_Barra] = barra;
	format(Barra[playerid][b_Nome], 100, "%s", nome);
	Barra[playerid][b_Anim] = anim;
	format(Barra[playerid][b_Anim1], 100, "%s", nom1);
	format(Barra[playerid][b_Anim2], 100, "%s", nom2);
	Barra[playerid][b_Lop] = lop;
	Carregando(playerid, 0);
	if(anim != 0) ApplyAnimation(playerid, nom1, nom2, 4.1, lop, 0,0, 0, 0, 1);
	else Congelar(playerid);
	return 1;
}


forward Carregando(playerid, con);
public Carregando(playerid, con)
{

	new str[150];

    if(con == 3) // resposta //
	{
		new ID_ACAO = Barra[playerid][b_Acao];
		Barra[playerid][b_Acao] = 0;


		if(ID_ACAO == 26) // finalizando jogador ferido //
		{
		    new idp = GetPVarInt(playerid, "idferido");
		    if(Online(idp))
		    {
		        if(Morto[playerid] == 0)
		        {
			        if(Morto[idp] != 0)
			        {
			            Morto[idp] = 0;
			    		Morrendo(idp);
			        }
		        }
		    }
		}

	    if(ID_ACAO == 25)  // dropar arma //
	    {
	        new Float:ps[3];
	        GetPlayerPos(playerid, ps[0], ps[1], ps[2] );
	        new slo1 = GetPVarInt(playerid, "slo1");
	        new slo2 = GetPVarInt(playerid, "slo2");

	        if(slo1 != -1)
	        {
	            new arma_ = GetPVarInt(playerid, "arma_1");
		        new municao_ = GetPVarInt(playerid, "municao_1");
		        new tipo_ = GetPVarInt(playerid, "tipo_1");
	            criar_item(arma_id(arma_), ps[0], ps[1], ps[2], municao_, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), tipo_);
		  		SetTimerEx("mostrararmas", 550, 0, "d", playerid);
		  		armas_costas(playerid);
			}

			if(slo2 != -1)
	        {
	            new arma_ = GetPVarInt(playerid, "arma_2");
		        new municao_ = GetPVarInt(playerid, "municao_2");
		        new tipo_ = GetPVarInt(playerid, "tipo_2");
	            criar_item(arma_, ps[0], ps[1], ps[2], municao_, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), tipo_);
		  		SetTimerEx("mostrararmas", 550, 0, "d", playerid);
		  		armas_costas(playerid);
			}

	        SetTimerEx("mostrararmas", 550, 0, "d", playerid);
		    armas_costas(playerid);
		    salvarplayer(playerid);
	        return 1;
	    }

	    if(ID_ACAO == 24)  // guardar arma //
	    {
            if(SlotsVazios(playerid) > 1)
            {
                new arma_;
		        new municao_;
		        new tipo_;
                arma_ = GetPVarInt(playerid, "arma_1");
		        municao_ = GetPVarInt(playerid, "municao_1");
				AddInv(playerid, arma_id(arma_), municao_);

                arma_ = GetPVarInt(playerid, "arma_2");
		        municao_ = GetPVarInt(playerid, "municao_2");
		        tipo_ = GetPVarInt(playerid, "tipo_2");
                AddInv(playerid, arma_, municao_, tipo_);
            }

            SetTimerEx("mostrararmas", 550, 0, "d", playerid);
		    armas_costas(playerid);
		    salvarplayer(playerid);
	        return 1;
	    }

	    if(ID_ACAO == 23)  // pintar veiculo //
	    {
	        new v = GetPVarInt(playerid, "id_info");
	        new cor = GetPVarInt(playerid, "id_cor");
	        new slot = GetPVarInt(playerid, "slot");
	        if(Veiculo[v][v_Existe] == 1)
	        {
	            if(GetVehicleModel(Veiculo[v][v_ID]) != 0)
				{
					Veiculo[v][v_Cor1] = cor;
					Veiculo[v][v_Cor2] = cor;
		            Inventario[playerid][slot][inv_Unidades] --;
			        if(Inventario[playerid][slot][inv_Unidades] <= 0)
					{
						Inventario[playerid][slot][inv_ID] = 0;
			        	Inventario[playerid][slot][inv_Tipo] = 0;
			        }
			        ms(playerid, 1, "Kamu telah mengecat kendaraan ini!");
			        ChangeVehicleColor(Veiculo[v][v_ID], Veiculo[v][v_Cor1], Veiculo[v][v_Cor2]);
			        SalvarVeiculo(v);
				}
	        }
	        return 1;
	    }

	    if(ID_ACAO == 1)  // kit medico //
	    {
	        new slot = GetPVarInt(playerid, "slot");
	        Inventario[playerid][slot][inv_Unidades] --;
    		if(Inventario[playerid][slot][inv_Unidades] <= 0)
	        {
                Inventario[playerid][slot][inv_ID] = 0;
		        Inventario[playerid][slot][inv_Unidades] = 0;
		        Inventario[playerid][slot][inv_Tipo] = 0;
			}
	        SetarVida(playerid, Vida[playerid]+50);
	        ms(playerid, 1, "Kehidupan pulih +50.");
	        return 1;
	    }

	    if(ID_ACAO == 2)  // analgesico //
	    {
	        new slot = GetPVarInt(playerid, "slot");
	        Inventario[playerid][slot][inv_Unidades] --;
    		if(Inventario[playerid][slot][inv_Unidades] <= 0)
	        {
                Inventario[playerid][slot][inv_ID] = 0;
		        Inventario[playerid][slot][inv_Unidades] = 0;
		        Inventario[playerid][slot][inv_Tipo] = 0;
			}
	        SetarVida(playerid, Vida[playerid]+25);
	        ms(playerid, 1, "Kehidupan pulih +25." );
	        return 1;
	    }

	    if(ID_ACAO == 3)  // reparador de equipamentos //
	    {
	        new slot = GetPVarInt(playerid, "slot");
	        Inventario[playerid][slot][inv_Unidades] --;
    		if(Inventario[playerid][slot][inv_Unidades] <= 0)
	        {
                Inventario[playerid][slot][inv_ID] = 0;
		        Inventario[playerid][slot][inv_Unidades] = 0;
		        Inventario[playerid][slot][inv_Tipo] = 0;
			}
	        if(Colete[playerid][0] != 0) Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]+20);
	        if(Capacete[playerid][0] != 0) Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]+20);
	        ms(playerid, 1, "You repaired your vest and helmet to 20%%." );
	        return 1;
	    }

	    if(ID_ACAO == 4)  // mengisi jerigen bensin //
		{
			new posto = GetPVarInt(playerid, "posto");
			new slot = GetPVarInt(playerid, "slot");
			DeletePVar(playerid, "posto");
			DeletePVar(playerid, "slot");
			Posto[posto][posto_Litros] -= 20;
			if(Posto[posto][posto_Litros] < 0) Posto[posto][posto_Litros] = 0;
			Inventario[playerid][slot][inv_ID] = 10;
			format(str, 150, "Kamu telah mengisi jerigen ini dengan %d Liter bensin.", 20);
			ms(playerid, 1, str);
		}


		if(ID_ACAO == 5)  // MENYELAMATKAN PEMAIN //
		{
			new sss1[150];
			new Float:pp[3];
			new id = GetPVarInt(playerid, "morto");
			new slot = GetPVarInt(playerid, "remedio");
			
			if(!Online(id)) return ms(playerid, 0, "Pemain tersebut sudah tidak online lagi!");
			if(Morto[id] == 0) return ms(playerid, 0, "Pemain tersebut tidak lagi terluka parah!");
			
			GetPlayerPos(id, pp[0], pp[1], pp[2]);
			if(!IsPlayerInRangeOfPoint(playerid, 2, pp[0], pp[1], pp[2]))
				return ms(playerid, 0, "Kamu terlalu jauh dari pemain tersebut!");

			Morto[id] = -1;
			Morreu(id);

			if(pInfo[playerid][pClasse] != 1)
			{
				Inventario[playerid][slot][inv_Unidades]--;
				if(Inventario[playerid][slot][inv_Unidades] <= 0)
				{
					Inventario[playerid][slot][inv_ID] = 0;
					Inventario[playerid][slot][inv_Tipo] = 0;
				}
			}

			format(sss1, 150, "Kamu telah menyelamatkan pemain %s.", Nome(id));
			ms(playerid, 1, sss1);
			format(sss1, 150, "Kamu telah diselamatkan oleh pemain %s.", Nome(playerid));
			ms(id, 3, sss1);
		}

	    if(ID_ACAO == 6)  // MENGISI BAHAN BAKAR KENDARAAN //
		{
			new slot = GetPVarInt(playerid, "slot");
			Inventario[playerid][slot][inv_ID] = 9;
			if(pInfo[playerid][pClasse] == 2)
			{
				ms(playerid, 1, "Kendaraan telah diisi dengan 40 Liter.");
				new veh = GetPVarInt(playerid, "veiculo");
				Veiculo[veh][v_Gasolina] += 40;
				if(Veiculo[veh][v_Gasolina] > 100) Veiculo[veh][v_Gasolina] = 100;
			}
			else
			{
				ms(playerid, 1, "Kendaraan telah diisi dengan 20 Liter.");
				new veh = GetPVarInt(playerid, "veiculo");
				Veiculo[veh][v_Gasolina] += 20;
				if(Veiculo[veh][v_Gasolina] > 100) Veiculo[veh][v_Gasolina] = 100;
			}
		}

		if(ID_ACAO == 7)  // MENGISI AIR //
		{
			ms(playerid, 1, "Kamu telah mengisi botol air ini.");
			new veh = GetPVarInt(playerid, "garrafa");
			Inventario[playerid][veh][inv_ID] = 68;
			abririnv(playerid, 2);
		}

		if(ID_ACAO == 8)  // MENGGANTI BATERAI //
		{
			new slot = GetPVarInt(playerid, "slot");
			Inventario[playerid][slot][inv_ID] = 84;
			ms(playerid, 1, "Kamu telah mengganti baterai kendaraan ini dan menyimpan yang lama ke Inventaris.");
			new veh = GetPVarInt(playerid, "veiculo");
			Veiculo[veh][v_Bateria] = 100;
		}

		if(ID_ACAO == 9)  // MENGGANTI BAN //
		{
			ms(playerid, 1, "Kamu telah mengganti ban bocor kendaraan ini, ban lama dimasukkan ke inventaris.");
			new pneu = GetPVarInt(playerid, "pneu");
			new v = GetPVarInt(playerid, "veiculo");
			new idv = Info_Veiculo[v];
			new slot = GetPVarInt(playerid, "slot");
			if(idv != -1)
			{
				Inventario[playerid][slot][inv_ID] = 86;
				Veiculo[idv][v_Pneu][pneu] = 0;
				new panels, doors, lights, tires;
				GetVehicleDamageStatus(v, panels, doors, lights, tires);
				UpdateVehicleDamageStatus(v, panels, doors, lights, encode_tires(Veiculo[idv][v_Pneu][0], Veiculo[idv][v_Pneu][1], Veiculo[idv][v_Pneu][2], Veiculo[idv][v_Pneu][3]));
				SalvarVeiculo(v);
			}
		}

		if(ID_ACAO == 10)  // MEMPERBAIKI MESIN //
		{
			ms(playerid, 1, "Kamu telah memperbaiki mesin kendaraan ini.");
			new veh = GetPVarInt(playerid, "veiculo");
			SetVehicleHealth(veh, 1000);
			SalvarVeiculo(veh);
		}

		if(ID_ACAO == 11)  // MEMPERBAIKI MESIN DI BENGKEL //
		{
			Descongelar(playerid);
			ms(playerid, 1, "Kamu telah memperbaiki mesin kendaraan ini.");
			new veh = GetPVarInt(playerid, "veiculo");
			SetVehicleHealth(veh, 1000.0);
			SalvarVeiculo(veh);
		}

		if(ID_ACAO == 12)  // MENGISI BATERAI DI BENGKEL //
		{
			new veh = GetPVarInt(playerid, "veiculo");
			Descongelar(playerid);
			new v = Info_Veiculo[veh];
			if(v != -1)
			{
				ms(playerid, 1, "Kamu telah mengisi baterai kendaraan ini.");
				Veiculo[v][v_Bateria] = 100;
				SalvarVeiculo(veh);
			}
		}

		if(ID_ACAO == 13)  // MEMPERBAIKI BAN DI BENGKEL //
		{
			new veh = GetPVarInt(playerid, "veiculo");
			Descongelar(playerid);
			new v = Info_Veiculo[veh];
			if(v != -1)
			{
				new p = GetPVarInt(playerid, "pneu");
				ms(playerid, 1, "Kamu telah memperbaiki 1 ban bocor kendaraan ini.");
				Veiculo[v][v_Pneu][p] = 0;
				new panels, doors, lights, tires;
				GetVehicleDamageStatus(veh, panels, doors, lights, tires);
				UpdateVehicleDamageStatus(veh, panels, doors, lights, encode_tires(Veiculo[v][v_Pneu][0], Veiculo[v][v_Pneu][1], Veiculo[v][v_Pneu][2], Veiculo[v][v_Pneu][3]));
				SalvarVeiculo(veh);
			}
		}

	    if(ID_ACAO == 14)  // MEMPERBAIKI MESIN DI INVENTARIS //
		{
			new i = GetPVarInt(playerid, "slot");
			Inventario[playerid][i][inv_ID] = 89;
			ms(playerid, 1, "Kamu telah memperbaiki mesin rusak yang ada di inventarismu.");
		}

		if(ID_ACAO == 15)  // MENGISI BATERAI DI INVENTARIS //
		{
			new i = GetPVarInt(playerid, "slot");
			Inventario[playerid][i][inv_ID] = 83;
			ms(playerid, 1, "Kamu telah mengisi baterai yang kosong di inventarismu.");
		}

		if(ID_ACAO == 16)  // MEMPERBAIKI BAN DI INVENTARIS //
		{
			new i = GetPVarInt(playerid, "slot");
			Inventario[playerid][i][inv_ID] = 85;
			ms(playerid, 1, "Kamu telah memperbaiki ban bocor yang ada di inventarismu.");
		}

		if(ID_ACAO == 17)  // MERAKIT KENDARAAN //
		{
			new i = GetPVarInt(playerid, "carro_ferro_velho");
			montar_carro2(playerid, i);
		}

		if(ID_ACAO == 18)  // MERAKIT CRAFT //
		{
			new i = GetPVarInt(playerid, "crafting");
			if(SlotsVazios(playerid) == 0) return ms(playerid, 0, "Inventarismu penuh!");

			AddInv(playerid, Craft[i][craft_ID], unidades_craft(i));
			if(Craft[i][craft_Sucata] > 0) diminuir_ingrediente(playerid, 90, Craft[i][craft_Sucata]);
			if(Craft[i][craft_Madeiras] > 0) Madeiras[playerid] -= Craft[i][craft_Madeiras];
			if(Craft[i][craft_Metais] > 0) Metais[playerid] -= Craft[i][craft_Metais];
			if(Craft[i][craft_Pedras] > 0) Pedras[playerid] -= Craft[i][craft_Pedras];
			if(Craft[i][craft_Polvoras] > 0) Polvoras[playerid] -= Craft[i][craft_Polvoras];
			format(string_prox, 150, " %s membuat Craft '%s' di meja craft ", Nome(playerid), Itens[Craft[i][craft_ID]][item_Nome]);
			ProxDetector(20.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
			ms(playerid, 1, "Cek inventarismu.");
			salvarplayer(playerid);
		}

		if(ID_ACAO == 19)  // MERETAS GERBANG //
		{
			new i = GetPVarInt(playerid, "id_portao");
			if(Portao[i][portao_Existe] == 0)
			{
				abrir_laptop(playerid, 3);
				ms(playerid, 0, "Gerbang ini sudah tidak ada!");
				return 1;
			}

			if(Portao[i][portao_Aberto] == 1)
			{
				abrir_laptop(playerid, 3);
				ms(playerid, 0, "Gerbang ini sudah terbuka!");
				return 1;
			}

			abrir_portao(i);
			ms(playerid, 1, "Kamu membuka gerbang ini menggunakan sistem Hacker dari Notebookmu.");
			abrir_laptop(playerid, 0);
		}

		if(ID_ACAO == 20)  // MERETAS KENDARAAN //
		{
			new i = GetPVarInt(playerid, "id_veiculo");
			if(GetVehicleModel(i) == 0)
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "Kesalahan sistem, coba lagi!");
				return 1;
			}

			new idv = Info_Veiculo[i];
			if(idv == -1)
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "Kesalahan sistem, coba lagi!");
				return 1;
			}

			new Float:pp[3];
			GetVehiclePos(i, pp[0], pp[1], pp[2]);
			if(!IsPlayerInRangeOfPoint(playerid, 30, pp[0], pp[1], pp[2]))
			{
				abrir_laptop(playerid, 4);
				ms(playerid, 0, "Sinyal kendaraan hilang, kendaraan berjarak lebih dari 30 meter!");
				return 1;
			}

			ms(playerid, 1, "Kendaraan berhasil diretas, kamu membuka kunci dan menyalakan mesin menggunakan sistem Hacker dari Notebook.");
			new a1,a2,a3,a4,a5,a6,a7;
			GetVehicleParamsEx(i, a1, a2, a3, a4, a5, a6, a7);
			SetVehicleParamsEx(i, 1, 1, a3, a4, a5, a6, a7);
			Veiculo[idv][v_Trancado] = 0;

			format(str, 150, "Kendaraan ID: %d, telah diretas oleh '%s' dengan sistem Hacker dari Notebook!", i, Nome(playerid));
			if(IsPlayerOnline(Veiculo[idv][v_Dono]))
			{
				new id = GetPlayerID(Veiculo[idv][v_Dono]);
				if(Online(id))
				{
					ms(id, 3, str);
				}
			}
		}

	    if(ID_ACAO == 21)  // MERETAS PEMAIN //
		{
			new i = GetPVarInt(playerid, "id_player");

			new Float:pos[3];
			GetPlayerPos(i, pos[0], pos[1], pos[2]);

			if(!IsPlayerInRangeOfPoint(playerid, 150, pos[0], pos[1], pos[2]))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Sinyal hilang, tidak bisa meretas pemain ini!");
				return 1;
			}

			if(!Online(i))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Sinyal hilang, tidak bisa meretas pemain ini!");
				return 1;
			}

			if(GetPlayerInterior(playerid) != GetPlayerInterior(i))
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Sinyal hilang, tidak bisa meretas pemain ini!");
				return 1;
			}

			if(Modo[i] != 1)
			{
				abrir_laptop(playerid, 5);
				ms(playerid, 0, "Pemain ini sudah tidak dalam mode Cerita!");
				return 1;
			}

			hackeando_id[playerid] = i;
			hackeando_tempo[playerid] = 16;
			format(str, 150, "Lokasimu telah diretas oleh '%s' menggunakan sistem Hacker dari Notebook, durasi: 15 detik!", Nome(playerid));
			ms(i, 3, str);
			format(str, 150, "Kamu telah meretas lokasi '%s' menggunakan sistem Hacker dari Notebook, durasi: 15 detik!", Nome(i));
			ms(playerid, 3, str);
		}

		return 1;
	}

	if(con == 0)
	{
	    Barra[playerid][b_Adicionar] = 0;
	    KillTimer_(Barra[playerid][b_Timer]);
	    Barra[playerid][b_Timer] = SetTimerEx("Carregando", 250, 1, "dd", playerid, 1 );
	    PlayerTextDrawSetString(playerid, TextBarra_p[playerid][0], "_");
		for(new i; i < sizeof TextBarra; i++) TextDrawShowForPlayer(playerid, TextBarra[i]);
	    return 1;
	}


	if(con == 1)
	{
	    new ID_ACAO = Barra[playerid][b_Acao];
	    Barra[playerid][b_Adicionar] += 5;
	    new Float:unid = (411.000000 - 224.875534)/ Barra[playerid][b_Barra];
	    new Float:bar = 224.875534 + (unid*floatround(Barra[playerid][b_Adicionar]));
	    PlayerTextDrawTextSize(playerid, TextBarra_p[playerid][1],  bar, 5.0);
	    PlayerTextDrawShow(playerid, TextBarra_p[playerid][1]);
	    PlayerTextDrawSetString(playerid, TextBarra_p[playerid][0], Barra[playerid][b_Nome]);
	    PlayerTextDrawShow(playerid, TextBarra_p[playerid][0]);

	    if(ID_ACAO == 5)
	    {
	        new idp = GetPVarInt(playerid, "morto");
	        if(Online(idp))
	        {
            	unid = (426.680664 - 209.799926)/Barra[playerid][b_Barra];
            	bar = 209.799926 + (unid*floatround(Barra[playerid][b_Adicionar]));
            	PlayerTextDrawTextSize(idp, TextMorreu_p[idp][0],  bar, 5.0);
            	PlayerTextDrawShow(idp, TextMorreu_p[idp][0]);
            }
	    }

	    if(Barra[playerid][b_Adicionar] >= Barra[playerid][b_Barra])
	    {
	        KillTimer_(Barra[playerid][b_Timer]);
	        Carregando(playerid, 4);
	    }
	    return 1;
	}

	if(con == 2)
	{
	    new ID_ACAO = Barra[playerid][b_Acao];

	    // guardando ou dropando arma //
	    if(ID_ACAO == 24 || ID_ACAO == 25 )
	    {
	        new slo1 = GetPVarInt(playerid, "slo1");
	        new slo2 = GetPVarInt(playerid, "slo2");

	        if(slo1 != -1 && slo2 != -1)
	        {
	            new arma_ = GetPVarInt(playerid, "arma_1");
		        new municao_ = GetPVarInt(playerid, "municao_2");
	            GivePlayerWeapon(playerid, arma_, municao_);
	        }
	        else if(slo1 != -1)
	        {
	            new arma_ = GetPVarInt(playerid, "arma_1");
		        new municao_ = GetPVarInt(playerid, "municao_1");
	            GivePlayerWeapon(playerid, arma_, municao_);
	        }
	    }

	    if(ID_ACAO == 5)
		{
		    new idp = GetPVarInt(playerid, "morto");
		    if(Online(idp))
		    {
		        Reanimando[idp] = 0;
		        SetPVarInt(idp, "morto", -1);
		        SetPVarInt(idp, "salvando", -1);
		    }
		    mostrar_morte(idp);
		    SetPVarInt(playerid, "morto", -1);
		    SetPVarInt(playerid, "salvando", -1);
  		}

        for(new i; i < sizeof TextBarra; i++) TextDrawHideForPlayer(playerid, TextBarra[i]);
        PlayerTextDrawHide(playerid, TextBarra_p[playerid][0]);
        PlayerTextDrawHide(playerid, TextBarra_p[playerid][1]);
        KillTimer_(Barra[playerid][b_Timer]);
        ClearAnimations(playerid, 1);
		Descongelar(playerid);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 9)) RemovePlayerAttachedObject(playerid, 9);
        Barra[playerid][b_Acao] = 0;
	    return 1;
	}

	if(con == 4)
	{
	    for(new i; i < sizeof TextBarra; i++) TextDrawHideForPlayer(playerid, TextBarra[i]);
        PlayerTextDrawHide(playerid, TextBarra_p[playerid][0]);
        PlayerTextDrawHide(playerid, TextBarra_p[playerid][1]);
        KillTimer_(Barra[playerid][b_Timer]);
		ClearAnimations(playerid, 1);
		Descongelar(playerid);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 9))RemovePlayerAttachedObject(playerid, 9);
        Carregando(playerid, 3);
	    return 1;
	}

	return 1;
}

Player_AFK(playerid)
{
	if(IsPlayerConnected(playerid))
	{
	    if(gettime() > AFK[playerid]+3)
	    {
	        return (gettime() - AFK[playerid]);
	    }
	}
	return 0;
}


forward destruircs(i);
public destruircs(i)
{
	if(Sala[i][sala_Existe] == 1)
	{
	    KillTimer_(Sala[i][sala_Timer]);
        GZ_DestruirGz(Sala[i][sala_Gz]);

	    // SETANDO SPAWN DOS PARTICIPANTES //
	    for(new a; a<MAX_PLAYERS; a++)
	    {
	        if(Online(a) && SalaPlayer[a] == i)
	        {
	            SetPlayerArmedWeapon(a, 0);
				mostrar_resultado(a, i, Sala_Ganhou[i]);
				Modo[a] = 0;
				esconderinfo(a);
	        }
	    }
	}

	return 1;
}

forward iniciarcs(i);
public iniciarcs(i)
{
	if(Sala[i][sala_Existe] == 1)
	{
	    // ENCERRAR A PARTIDA //
	    if(Sala[i][sala_Round] >= Sala[i][sala_Rounds])
	    {
	        if(Sala[i][sala_PlacarB] > Sala[i][sala_PlacarR]) Sala_Ganhou[i] = 0, vitoriacs(i, 0, 1);
	        else if(Sala[i][sala_PlacarB] < Sala[i][sala_PlacarR]) Sala_Ganhou[i] = 1, vitoriacs(i, 1, 1);
	        else Sala_Ganhou[i] = 2, vitoriacs(i, 2, 1);
	        return 1;
	    }

	    // PREPARANDO PRA INICIAR //
		KillTimer_(Sala[i][sala_Timer]);
        Sala[i][sala_Preparando] = 15;
        Sala[i][sala_Jogando] = 1;

        // LIMPANDO AS ARMAS E COLOCANDO NAS POSICOES//
        new grana = (500*Sala[i][sala_Round]);
        if(grana == 0) grana = 350;
        new mapa = Sala[i][sala_Mapa];

        for(new pla; pla<MAX_PLAYERS; pla++)
        {
            if(Online(pla))
            {
                if(SalaPlayer[pla] == i)
                {
                    new dew = GetPVarInt(pla, "pos_mapa");
                    if(Sala[i][sala_Round] == 0)
					{
						ResetPlayerWeapons(pla);
						SetarGrana2(pla, 0);
					}

                    SetPlayerPos(pla, SpawnTime[mapa][dew][0],SpawnTime[mapa][dew][1],SpawnTime[mapa][dew][2] );
       				SetPlayerFacingAngle(pla, SpawnTime[mapa][dew][3]);
       				SetCameraBehindPlayer(pla);

       				SetPlayerSkin(pla, SkinTime[TimePlayer[pla]]);
       				Setar_Capacete(pla, 1, 100);
					Setar_Colete(pla, 1, 100);
					Setar_Mascara(pla, 0);
					SetarVida(pla, 100);
		  			MostrarLoja(pla, 0);
		  			ClearAnimations(pla, 1);

                    Congelar(pla);
                    SetarGrana2(pla, (GranaPlayer2(pla)/2) + grana);
                    CancelSelectTextDraw_(pla);
                    Modo[pla] = 2;
                    Morto[pla] = 0;
                }
        	}
        }
		Sala[i][sala_Timer] = SetTimerEx("partida", 1000, 1, "d", i );
	}
	return 1;
}

forward partida(i);
public partida(i)
{
	new str[150];
	if(Sala[i][sala_Preparando] == 999)
	{
	    Sala[i][sala_Preparando] = 555;
	    KillTimer_(Sala[i][sala_Timer]);
	    Sala[i][sala_Tempo1] = gettime()+Sala[i][sala_Tempo];
        Sala[i][sala_Timer] = SetTimerEx("partida", 1000, 1, "d", i );
	    return 1;
	}

	if(Sala[i][sala_Preparando] == 555)
	{
	    new result = verificarvitoria(i);

        if(result == 4) // continua //
        {
		    if(Sala[i][sala_Tempo1]-gettime() <= 0)
		    {
		        format(str, 150, "~w~jam sibuk");
		        for(new a; a<MAX_PLAYERS; a++)
			    {
			        if(Online(a))
					{
		                if(SalaPlayer[a] == i)
		                {
		                    SetarVida(a, Vida[a]-10);
	                		GameTextForPlayer(a, str, 1500, 4);
	            	    	if(Vida[a] == 0)
							{
								Morto[a] = 1;
     							ApplyAnimation(a, "CRACK", "CRCKIDLE1", 4.1, 1, 0, 0, 0, 0, 1);
							}
		                }
			        }
			    }
   			}
        }
        else
        {
            if(result == 5) return vitoriacs(i, 0, 1); // desistencia de um time //
			if(result == 6) return vitoriacs(i, 1, 1);// desistencia de um time //
			if(result == 7) return vitoriacs(i, 2, 1); // desistencia de 2 times //
	        if(result == 1) vitoriacs(i, 0); // blue //
	        if(result == 2) vitoriacs(i, 1); // red //
	        if(result == 3) vitoriacs(i, 2); // empate //
        }
		return 1;
	}

	if(Sala[i][sala_Preparando] > 0)
	{
	    format(str, 150, "~w~Mulai dalam: ~r~%d", Sala[i][sala_Preparando]);
	    for(new pla; pla<MAX_PLAYERS; pla++)
	    {
	        if(Online(pla) && SalaPlayer[pla] == i)
	        {
	            GameTextForPlayer ( pla, str, 1500 , 4 ) ;
                Congelar(pla);
	        }
	    }
	    Sala[i][sala_Preparando] --;
	    return 1;
	}
	else
	{
		Sala[i][sala_Preparando] = 999;
		// MEMBUKA KUNCI PEMAIN //
		for(new pla; pla < MAX_PLAYERS; pla++)
		{
			if(Online(pla) && SalaPlayer[pla] == i)
			{
				Descongelar(pla);
				GameTextForPlayer(pla, "~G~ROUND DIMULAI", 3000, 4);
				MostrarLoja(pla, 1);
			}
		}
		KillTimer_(Sala[i][sala_Timer]);
		Sala[i][sala_Timer] = SetTimerEx("partida", 2000, 1, "d", i);
	}

	return 1;
}


verificarvitoria(i)
{

	new ta1, ta2;
	new cont1, cont2;
	for(new a; a<MAX_PLAYERS; a++)
	{
	    if(Online(a))
	    {
	        if(SalaPlayer[a] == i && TimePlayer[a] == 0)
			{
				ta1++;
				if(Morto[a] == 0)
				{
				    cont1 ++;
				}
			}
	        if(SalaPlayer[a] == i && TimePlayer[a] == 1)
			{
				ta2++;
				if(Morto[a] == 0)
				{
				    cont2 ++;
				}
			}
	    }
	}

	if(ta1 == 0 && ta2 == 0) return 7;
	if(ta1 == 0 ) return 6;
	if(ta2 == 0 ) return 5;

    if(cont2 == 0 && cont1 > 0)  return 1;
	if(cont1 == 0 && cont2 > 0)  return 2;
	if(cont2 == 0 && cont1 == 0) return 3;
	if(cont2 > 0 && cont1 > 0)   return 4;
	return 4;
}



ConvertTime(number)
{
    new hours = 0, mins = 0, secs = 0, string[100];
    hours = floatround(number / 3600);
    mins = floatround((number / 60) - (hours * 60));
    secs = floatround(number - ((hours * 3600) + (mins * 60)));
    new days = 0;

    if(hours >= 24)
    {
        days = floatround((hours/24), floatround_floor);
        hours = hours % 24;
    }

    if(days > 0)
    {
        format(string, 100, "%d hari, %02d:%02d:%02d", days, hours, mins, secs);
    }
    else if(hours > 0)
    {
        format(string, 100, "%02d:%02d:%02d", hours, mins, secs);
    }
    else
    {
        format(string, 100, "%02d:%02d", mins, secs);
    }
    return string;
}

esconderLobby(playerid, con=0)
{
	if(con == 0)
	{
		mostrando_Lobby[playerid] = 0;
    	for(new ii; ii<sizeof FundoLobby2; ii++)TextDrawHideForPlayer(playerid, FundoLobby2[ii]);
    	esconder_proximo_premio(playerid);
    	esconder_passe(playerid);
    	econder_loja(playerid);
    	TextDrawHideForPlayer(playerid, T_Nao_Viu[0]);
    	esconder_classes_botao(playerid);
    	fechar_classes(playerid);
    }
	return 1;
}

esconderLobby2(playerid, con=0)
{
	if(con == 0)
	{
    	for(new ii; ii<sizeof FundoLobby2; ii++)TextDrawHideForPlayer(playerid, FundoLobby2[ii]);
    	esconder_proximo_premio(playerid);
    	esconder_passe(playerid);
    	econder_loja(playerid);
    	esconder_classes_botao(playerid);
    	fechar_classes(playerid);
    	PlayerTextDrawHide(playerid, T_Cash[playerid][1]);
   		TextDrawHideForPlayer(playerid, T_Nao_Viu[0]);
    }
	return 1;
}

mostrarLobby(playerid, con=0)
{

	if(pInfo[playerid][pCadeia] > 0)
	{
	    PlayerTextDrawShow(playerid, T_Punicao_p[playerid][0]);
	    TextDrawShowForPlayer(playerid, T_Punicao[0]);
	    return 1;
	}
	else
	{
	    PlayerTextDrawHide(playerid, T_Punicao_p[playerid][0]);
	    TextDrawHideForPlayer(playerid, T_Punicao[0]);
	}

	if(con == 0)
	{
		mostrando_Lobby[playerid] = 1;
   		for(new ii; ii<sizeof FundoLobby2; ii++) TextDrawShowForPlayer(playerid, FundoLobby2[ii]);
		mostrar_proximo_premio(playerid);
		mostrar_loja(playerid);
		mostrar_botao_passe(playerid);
		nao_viu(playerid);
		mostrar_classes_botao(playerid);
   	}

   	if(con == 1) // inventario Lobby //
	{
   	    for(new ii; ii<28; ii++) TextDrawHideForPlayer(playerid, FundoLobby2[ii]);
   	    TextDrawHideForPlayer(playerid, T_Nao_Viu[0]);
   	}

   	if(con == 123) // inventario Lobby //
	{
   	    for(new ii; ii<28; ii++) TextDrawHideForPlayer(playerid, FundoLobby2[ii]);
   	    TextDrawHideForPlayer(playerid, T_Nao_Viu[0]);
   	    return 1;
   	}

   	PlayerTextDrawShow(playerid, T_Cash[playerid][1]);
   	mostrar_classes_botao(playerid);
	return 1;
}

esconderinfo(playerid)
{
	mostrando_info2[playerid] = 0;
	mostrando_info[playerid] = 0;

	TextDrawHideForPlayer(playerid, InvInfo[0]);
	TextDrawHideForPlayer(playerid, InvInfo[1]);
	TextDrawHideForPlayer(playerid, InvInfo[2]);
	TextDrawHideForPlayer(playerid, InvInfo[3]);
	TextDrawHideForPlayer(playerid, InvInfo[4]);
	TextDrawHideForPlayer(playerid, InvInfo[5]);
	TextDrawHideForPlayer(playerid, InvInfo[6]);
	TextDrawHideForPlayer(playerid, InvInfo[7]);
	TextDrawHideForPlayer(playerid, InvInfo[8]);
	TextDrawHideForPlayer(playerid, InvInfo[9]);

	PlayerTextDrawHide(playerid, TextGrana[playerid][0]);
	PlayerTextDrawHide(playerid, TextGrana2[playerid][0]);
	TextDrawHideForPlayer(playerid, TextMateriais[0]);
	TextDrawHideForPlayer(playerid, TextMateriais[1]);
	TextDrawHideForPlayer(playerid, TextMateriais[2]);
	TextDrawHideForPlayer(playerid, TextMateriais[3]);
	TextDrawHideForPlayer(playerid, TextMateriais[4]);
	PlayerTextDrawHide(playerid, TextMateriais_p[playerid][0]);
	PlayerTextDrawHide(playerid, TextMateriais_p[playerid][1]);
	PlayerTextDrawHide(playerid, TextMateriais_p[playerid][2]);
	PlayerTextDrawHide(playerid, TextMateriais_p[playerid][3]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][0]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][1]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][2]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][3]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][4]);
	PlayerTextDrawHide(playerid, InvInfo_p[playerid][5]);
	TextDrawHideForPlayer(playerid, T_Rodape[0]);
	TextDrawHideForPlayer(playerid, T_Rodape[1]);
	TextDrawHideForPlayer(playerid, T_Rodape[2]);
	TextDrawHideForPlayer(playerid, T_Rodape[3]);
	TextDrawHideForPlayer(playerid, T_Rodape[4]);
	TextDrawHideForPlayer(playerid, T_Rodape[5]);
	PlayerTextDrawHide(playerid, T_Rodape_p[playerid][0]);
	return 1;
}

mostrarinfo(playerid)
{
	mostrando_info[playerid] = 1;
	TextDrawShowForPlayer(playerid, InvInfo[0]);
	TextDrawShowForPlayer(playerid, InvInfo[1]);
	TextDrawShowForPlayer(playerid, InvInfo[2]);
	TextDrawShowForPlayer(playerid, InvInfo[3]);
	TextDrawShowForPlayer(playerid, InvInfo[4]);
	TextDrawShowForPlayer(playerid, InvInfo[5]);
	TextDrawShowForPlayer(playerid, InvInfo[6]);
	TextDrawShowForPlayer(playerid, InvInfo[7]);
	TextDrawShowForPlayer(playerid, InvInfo[8]);
	TextDrawShowForPlayer(playerid, InvInfo[9]);

	PlayerTextDrawShow(playerid, TextGrana[playerid][0]);
	TextDrawShowForPlayer(playerid, TextMateriais[0]);
	TextDrawShowForPlayer(playerid, TextMateriais[1]);
	TextDrawShowForPlayer(playerid, TextMateriais[2]);
	TextDrawShowForPlayer(playerid, TextMateriais[3]);
	TextDrawShowForPlayer(playerid, TextMateriais[4]);
	PlayerTextDrawShow(playerid, TextMateriais_p[playerid][0]);
	PlayerTextDrawShow(playerid, TextMateriais_p[playerid][1]);
	PlayerTextDrawShow(playerid, TextMateriais_p[playerid][2]);
	PlayerTextDrawShow(playerid, TextMateriais_p[playerid][3]);

    // mostrar rodape do lado //
	TextDrawShowForPlayer(playerid, T_Rodape[0]);
	TextDrawShowForPlayer(playerid, T_Rodape[1]);
	TextDrawShowForPlayer(playerid, T_Rodape[2]);
	TextDrawShowForPlayer(playerid, T_Rodape[3]);
	TextDrawShowForPlayer(playerid, T_Rodape[4]);
	TextDrawShowForPlayer(playerid, T_Rodape[5]);
	PlayerTextDrawShow(playerid, T_Rodape_p[playerid][0]);
	return 1;
}

mostrarinfo2(playerid)
{
	mostrando_info2[playerid] = 1;
	TextDrawShowForPlayer(playerid, InvInfo[0]);
	TextDrawShowForPlayer(playerid, InvInfo[1]);
	TextDrawShowForPlayer(playerid, InvInfo[2]);
	TextDrawShowForPlayer(playerid, InvInfo[3]);
	TextDrawShowForPlayer(playerid, InvInfo[4]);
	TextDrawShowForPlayer(playerid, InvInfo[5]);
	TextDrawShowForPlayer(playerid, InvInfo[6]);
	PlayerTextDrawShow(playerid, TextGrana2[playerid][0]);
	return 1;
}

vitoriacs(i, con, con2=0)
{
	new str[150];
	if(con2 == 0)
	{
	    if(con == 0)
		{
			format(str, 150, "~w~ROUND %d~n~~b~WAKTU BIRU", Sala[i][sala_Round] + 1 ); // kemenangan tim biru //
			Sala[i][sala_PlacarB]++;


			for(new pla; pla<MAX_PLAYERS; pla++)
			{
			    if(Online(pla))
			    {
			        if(Modo[pla] == 2)
			        {
			            if(SalaPlayer[pla] == i)
			            {
			                if(TimePlayer[pla] == 1)
			                {
			            	    ResetPlayerWeapons(pla);
			                }
			            }
			        }
			    }
			}
		}
		if(con == 1)
		{
			format(str, 150, "~w~ROUND %d~n~~r~WAKTU MERAH", Sala[i][sala_Round] + 1 ); // kemenangan tim merah //
			Sala[i][sala_PlacarR]++;

			for(new pla; pla<MAX_PLAYERS; pla++)
			{
			    if(Online(pla))
			    {
			        if(Modo[pla] == 2)
			        {
			            if(SalaPlayer[pla] == i)
			            {
			                if(TimePlayer[pla] == 0)
			                {
			            	    ResetPlayerWeapons(pla);
			                }
			            }
			        }
			    }
			}
		}
		if(con == 2) format(str, 150, "~w~ROUND %d~n~~y~SERI", Sala[i][sala_Round] + 1); // seri /

		else Sala[i][sala_Round] ++;
		for(new a; a<MAX_PLAYERS; a++)
		{
		    if(Online(a))
		    {
                if(SalaPlayer[a] != i) continue;
                GameTextForPlayer( a, str, 3000 , 4 );
                KillTimer_(Sala[i][sala_Timer]);
                Sala[i][sala_Timer] = SetTimerEx("iniciarcs", 3000, 0, "d", i);
		    }
		}
	    return 1;
	}

	if(con == 0) Sala[i][sala_PlacarB] ++;
	if(con == 1) Sala[i][sala_PlacarR] ++;

	if(con == 0) // vitoria time azul //
	{
        for(new a; a<MAX_PLAYERS; a++)
		{
		    if(Online(a))
		    {
		        if(SalaPlayer[a] != i) continue;
		        if(TimePlayer[a] == 0) pontos_player(a, 1, Sala[i][sala_Rounds], Sala[i][sala_Round]+1, 1);
		        else pontos_player(a, 0, Sala[i][sala_Rounds], Sala[i][sala_Round]+1, 1);
		        MostrarLoja(a, 1);
		    }
		}
		destruircs(i);
		return 1;
	}

	if(con == 1) // vitoria time vermelho //
	{
        for(new a; a<MAX_PLAYERS; a++)
		{
		    if(Online(a))
		    {
		        if(SalaPlayer[a] != i) continue;
		        if(TimePlayer[a] == 1) pontos_player(a, 1, Sala[i][sala_Rounds], Sala[i][sala_Round]+1, 1);
		        else pontos_player(a, 0, Sala[i][sala_Rounds], Sala[i][sala_Round]+1, 1);
		        MostrarLoja(a, 1);
		    }
		}
		destruircs(i);
		return 1;
	}

	if(con == 2) // ninguem ganhou //
	{
        for(new a; a<MAX_PLAYERS; a++)
		{
		    if(Online(a))
		    {
		        if(SalaPlayer[a] != i) continue;
	            pontos_player(a, 2, 0, 0, 1);
		    }
		}
		destruircs(i);
		return 1;
	}
	return 1;
}

PreloadAnims(playerid)//Anti bug animes :D
{
   ApplyAnimation(playerid, "AIRPORT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "Attractors", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BAR", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BASEBALL", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BD_FIRE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BEACH", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "benchpress", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BF_injection", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKED", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKEH", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKELEAP", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKES", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKEV", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BIKE_DBZ", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BMX", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BOMBER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BOX", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BSKTBALL", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BUDDY", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "BUS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CAMERA", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CAR", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CARRY", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CAR_CHAT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CASINO", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CHAINSAW", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CHOPPA", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CLOTHES", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "COACH", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "COLT45", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "COP_AMBIENT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "COP_DVBYZ", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CRACK", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "CRIB", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DAM_JUMP", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DANCING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DEALER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DILDO", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DODGE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DOZER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "DRIVEBYS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FAT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FIGHT_B", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FIGHT_C", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FIGHT_D", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FIGHT_E", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FINALE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FINALE2", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FLAME", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "Flowers", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "FOOD", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "Freeweights", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GANGS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GHANDS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GHETTO_DB", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "goggles", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GRAFFITI", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GRAVEYARD", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GRENADE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "GYMNASIUM", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "HAIRCUTS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "HEIST9", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "INT_HOUSE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "INT_OFFICE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "INT_SHOP", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "JST_BUISNESS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "KART", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "KISSING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "KNIFE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "LAPDAN1", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "LAPDAN2", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "LAPDAN3", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "LOWRIDER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MD_CHASE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MD_END", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MEDIC", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MISC", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MTB", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "MUSCULAR", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "NEVADA", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "ON_LOOKERS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "OTB", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PARACHUTE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PARK", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PAULNMAC", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "ped", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PLAYER_DVBYS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PLAYIDLES", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "POLICE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "POOL", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "POOR", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "PYTHON", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "QUAD", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "QUAD_DBZ", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "RAPPING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "RIFLE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "RIOT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "ROB_BANK", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "RUSTLER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "RYDER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SCRATCHING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SHAMAL", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SHOP", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SHOTGUN", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SILENCED", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SKATE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SMOKING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SNIPER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SPRAYCAN", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "STRIP", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SUNBATHE", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SWAT", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SWEET", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SWIM", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "SWORD", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "TANK", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "TATTOOS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "TEC", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "TRAIN", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "TRUCK", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "UZI", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "VAN", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "VENDING", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "VORTEX", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "WAYFARER", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "WEAPONS", "null", 0.0, 0, 0, 0, 0, 0);
   ApplyAnimation(playerid, "WUZI", "null", 0.0, 0, 0, 0, 0, 0);
   return 1;
}


forward Morrendo(playerid);
public Morrendo(playerid)
{

	if(!Online(playerid)) return 1;

	// se tiver longe de onde morreu arrastar o player //
	if(Modo[playerid] == 1)
	{
		if(!IsPlayerInRangeOfPoint(playerid, 15, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]))
		{
		    SetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
		    SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
		    SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
			SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
		}
		else
		{
		    GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
	        GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
	        pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
			pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
		}


		if(Morto[playerid] <= 0)
		{
		    new Float:p[4];
		    GetPlayerPos(playerid, p[0], p[1], p[2]);
		    GetPlayerFacingAngle(playerid, p[3]);

		    // actor morte //
    		if(IsValidDynamicActor(ActorMorte[playerid])) DestroyDynamicActor(ActorMorte[playerid]);
			ActorMorte[playerid] = CreateDynamicActor(GetPlayerSkin(playerid), p[0], p[1], p[2], p[3], 0, 0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
		    TempoActor[playerid] = 120;

		    Descongelar(playerid);
		    if(Madeiras[playerid] > 0)
		    {
		        GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(96, p[0], p[1], p[2], Madeiras[playerid], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[96][item_Tipo], 5*60);
                Madeiras[playerid] = 0;
			}
			if(Metais[playerid] > 0)
		    {
		        GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(97, p[0], p[1], p[2], Metais[playerid], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[97][item_Tipo], 5*60);
                Metais[playerid] = 0;
			}
			if(Pedras[playerid] > 0)
		    {
		        GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(98, p[0], p[1], p[2], Pedras[playerid], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[98][item_Tipo], 5*60);
                Pedras[playerid] = 0;
			}
			if(Polvoras[playerid] > 0)
		    {
		        GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(67, p[0], p[1], p[2], Polvoras[playerid], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[67][item_Tipo], 5*60);
                Polvoras[playerid] = 0;
			}
			if(Mascara[playerid] != 0)
			{
				GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(4, p[0], p[1], p[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Mascara[playerid], 5*60);
			}
	        if(Colete[playerid][0] != 0)
			{
				GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(12+Colete[playerid][0], p[0], p[1], p[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[12+Colete[playerid][0]][item_Tipo], 5*60);
			}
	        if(Capacete[playerid][0] != 0)
			{
				GetPlayerPos(playerid, p[0], p[1], p[2]);
		    	PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				criar_item(15+Capacete[playerid][0], p[0], p[1], p[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[15+Capacete[playerid][0]][item_Tipo], 5*60);
			}
			ms(playerid, 3, "Peralatanmu telah dijatuhkan di lokasi kematianmu.");

			new weaps[13][2];
			new conty;
			for(new we; we<13; we++)
			{
				GetPlayerWeaponData(playerid, we, weaps[we][0], weaps[we][1]);
				if(weaps[we][0] != 0)
				{
				    conty++;
				    GetPlayerPos(playerid, p[0], p[1], p[2]);
		    		PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
				    if(we == 1 || we == 2 || we == 3 || we == 4 || we == 5 || we == 6 )
					{
						criar_item(arma_id(weaps[we][0]), p[0], p[1], p[2], 1, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), we, 5*60);
						if(weaps[we][1] > 0)
						{
						    for(new c=62; c<67; c++)
						    {
						        if(Itens[c][item_Tipo] == we)
						        {
						            GetPlayerPos(playerid, p[0], p[1], p[2]);
	   								PegarFrente(p[0], p[1], random(360), 0.5+RandomFloat1[random(sizeof RandomFloat1)]);
									criar_item(c, p[0], p[1], p[2], weaps[we][1], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), we, 5*60);
								}
							}
						}
					}
     				else if(we == 8 )
					{
					    if(weaps[we][1] != 0)
					    {
					        criar_item(arma_id(weaps[we][0]), p[0], p[1], p[2], weaps[we][1], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), we, 5*60);
					    }
					}
					else
					{
					    criar_item(arma_id(weaps[we][0]), p[0], p[1], p[2], weaps[we][1], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), we, 5*60);
					}
				}
			}

			ResetPlayerWeapons(playerid);
			Setar_Colete(playerid, 0);
			Setar_Capacete(playerid, 0);
			Setar_Mascara(playerid, 0);
			armas_costas(playerid);

		    if(conty > 0)
		    {
		        new sss[150];
		        format(sss, 150, "Telah dijatuhkan %d Senjata dan amunisi yang sedang dipakai.", conty);
				ms(playerid, 3, sss);
		    }

		    if(!Comparar(pInfo[playerid][pKiller], Nome(-1)))
		    {
		        new sss[150];
		        if(!Comparar(pInfo[playerid][pKiller], Nome(playerid)))
		        {
		            new file[80];
					format(file, 80, "Whitelist/%s.txt", pInfo[playerid][pKiller] );
		            if(IsPlayerOnline(pInfo[playerid][pKiller]))
		            {
		                new id = GetPlayerID(pInfo[playerid][pKiller]);
		                if(Online(id))
		                {
		                    pInfo[id][pMatou] ++;
		                    format(sss, 150, "Pemain '%s' tidak tahan dengan lukanya dan meninggal.", Nome(playerid));
							ms(id, 3, sss);
						}
		                else
		                {
		                    if(DOF2_FileExists(file))
		                    {
		                        DOF2_SetInt(file, "pMatou", DOF2_GetInt(file, "pMatou") + 1);
		                        DOF2_SaveFile();
		                    }
		                }
		            }
		            else
		            {
		                if(DOF2_FileExists(file))
	                    {
	                        DOF2_SetInt(file, "pMatou", DOF2_GetInt(file, "pMatou") + 1);
	                        DOF2_SaveFile();
	                    }
		            }
		            format(sss, 150, "Kamu tidak tahan dengan lukanya dari '%s' dan akhirnya meninggal.", pInfo[playerid][pKiller]);
					ms(playerid, 3, sss);
		        }

		        format(sss, 150, "Pemain '%s' Membunuh '%s' dengan senjata: %s", pInfo[playerid][pKiller], Nome(playerid), nome_arma(pInfo[playerid][pArmaMorreu]));
				escrever_log_kills(sss);
		    }

		    format(pInfo[playerid][pKiller], MAX_PLAYER_NAME, Nome(-1));
		    pInfo[playerid][pMorreu] ++;
		    pInfo[playerid][pFrio] = 0;
			if(!Haid()) pInfo[playerid][pLobby] = 60;
			else pInfo[playerid][pLobby] = (5*60);
		    pInfo[playerid][pSono] = 0;
		    pInfo[playerid][pVivo] = 0;
		    pInfo[playerid][pFome] = 0;
		    pInfo[playerid][pSede] = 0;
		    Morto[playerid] = 0;
		    Reanimando[playerid] = 0;
		    SetarVida(playerid, 100);
		    pInfo[playerid][pX] = 0.0;
		    pInfo[playerid][pY] = 0.0;
		    pInfo[playerid][pZ] = 0.0;
		    pInfo[playerid][pA] = 0.0;

		    // txd morto //
			escondermorte(playerid);

	        MORREU_POS[playerid] = 1;
		    salvarplayer(playerid);
		    Modo[playerid] = 0;

   			for(new fr; fr<MAX_DROPS; fr++)
			{
				if(Drop[fr][drop_Existe] == 1)
				{
					GZ_EsconderGzPlayer(playerid, Drop[fr][drop_Gz]);
				}
			}

		    for(new a; a<sizeof Area; a++)
		    {
	            GZ_EsconderGzPlayer(playerid, Area[a][area_GZ]);
			}

			new file[80];
			format(file, 80, "Whitelist/%s.txt", Nome(playerid));
			if(DOF2_FileExists(file))
			{
				new sss1[40], sss2[40];
				for(new a; a<13; a++)
		        {
					format(sss1, 40, "Senjata_%d", a);
					format(sss2, 40, "Amunisi_%d", a);
		            DOF2_SetInt(file, sss1, 0);
		            DOF2_SetInt(file, sss2, 0);
		        }
		        DOF2_SaveFile();
	        }

			SpawnPlayer(playerid);
		    return 1;
		}
	}
	return 1;
}

Morreu(playerid)
{
	if(Online(playerid))
	{
	    if(Morto[playerid] == -1)
	    {
	        Reanimando[playerid] = 0;
	        Morto[playerid] = 0;
	        ClearAnimations(playerid, 1);

	        new idp = GetPVarInt(playerid, "salvando");
			if(idp != -1) SetPVarInt(idp, "morto", -1);
	        SetPVarInt(playerid, "salvando", -1);

	        // txd morto //
	        escondermorte(playerid);
            SetarVida(playerid, 20);
            CancelSelectTextDraw_(playerid);
	        return 1;
	    }


	    if(Morto[playerid] == 0)
	    {
	        TextDrawHideForPlayer(playerid, TextGas[0]);
			TextDrawHideForPlayer(playerid, TextGas[1]);
			TextDrawHideForPlayer(playerid, TextGas[2]);

			if(Modo[playerid] == 1)
			{
				GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
		        GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
		        pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
				pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
			}

			Morto[playerid] = 100;
			Reanimando[playerid] = 0;
			SetPVarInt(playerid, "morto", -1);
			SetPVarInt(playerid, "salvando", -1);

            // txd morto //
            mostrar_morte(playerid);
	        SelectTextDraw_(playerid, 0x00ffffff);
		}
		else mostrar_morte(playerid);
	}
	return 1;
}

id_radio(playerid)
{
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 100)
	    {
			return i;
	    }
	}
	return -1;
}

tem_item(playerid, item, quant=0)
{
	if(quant > 0)
	{
	    new num = quant;

	    for(new i; i<MAX_SLOTS; i++)
		{
		    if(Inventario[playerid][i][inv_ID] == item)
		    {
		        if(Inventario[playerid][i][inv_Unidades] >= num) return 1;
	            else num -= Inventario[playerid][i][inv_Unidades];
		    }
		}
	    if(num <= 0) return 1;
	    else return 0;
	}

	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == item)
	    {
			return 1;
	    }
	}
	return 0;
}

tem_jetpack(playerid)
{
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 12)
	    {
			return 1;
	    }
	}
	return 0;
}

tem_isqueiro(playerid)
{
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 7)
	    {
			return 1;
	    }
	}
	return 0;
}

Comparar(params1[], params[])
{
    if(strcmp(params, params1, false) == 0) return 1;
    else return 0;
}

Comparar2(params1[], params[])
{
    if(strcmp(params, params1, true) == 0) return 1;
    else return 0;
}

tipodano(arma)
{
    new ssr[40];
    format(ssr, 40, "Jatuh");
    if(arma == 0) format(ssr, 40, "Tidak Diketahui");
    if(arma == -1) format(ssr, 40, "Gas Beracun");
    if(arma == -555) format(ssr, 40, "Kelaparan");
    if(arma == -666) format(ssr, 40, "Kehabisan Air");
    if(arma == -777) format(ssr, 40, "Dingin");
    if(arma == 255) format(ssr, 40, "Kebakaran");
    if(arma == 9999) format(ssr, 40, "Ledakan C-4");
    if(arma == 8888) format(ssr, 40, "Rokok");
    return ssr;
}


format_time1(i)
{
	new linha[100];
	new sss[1000];
	for(new p; p<MAX_PLAYERS; p++)
	{
	    if(Online(p))
	    {
	        if(SalaPlayer[p] == i)
	        {
	            if(TimePlayer[p] == 0)
	            {
	                if(Pronto[p] == 1) format(linha, 100, "~g~~h~%s~n~", Nome(p));
					else format(linha, 100, "~w~%s~n~", Nome(p));
					if(dono_sala[p] == 1) format(linha, 100, "~y~%s~n~", Nome(p));
					strcat(sss, linha);
	            }
	        }
	    }
	}
	return sss;
}

format_time2(i)
{
	new linha[100];
	new sss[1000];
	for(new p; p<MAX_PLAYERS; p++)
	{
	    if(Online(p))
	    {
	        if(SalaPlayer[p] == i)
	        {
	            if(TimePlayer[p] == 1)
	            {
	                if(Pronto[p] == 1) format(linha, 100, "~g~~h~%s~n~", Nome(p));
					else format(linha, 100, "~w~%s~n~", Nome(p));
					if(dono_sala[p] == 1) format(linha, 100, "~y~%s~n~", Nome(p));
					strcat(sss, linha);
	            }
	        }
	    }
	}
	return sss;
}

GetPlayerID(NomeDoCara[])
{
    for(new ip; ip<MAX_PLAYERS; ip++)
	{
	    if(Online(ip))
	    {
			if(Comparar(NomeDoCara,Nome(ip))) return ip;
	    }
	}
	return 999;
}

IsPlayerOnline(NomeDoCara[])
{
	for(new ip; ip<MAX_PLAYERS; ip++)
	{
	    if(Online(ip))
	    {
			if(Comparar(NomeDoCara,Nome(ip))) return 1;
	    }
	}
	return 0;
}

passar_dono(playerid, i)
{
	for(new fd; fd<MAX_PLAYERS; fd++)
	{
	    if(Online(fd))
	    {
	        if(SalaPlayer[fd] == i)
	        {
	            if(playerid != fd)
	            {
	                dono_sala[fd] = 1;
	                ms(fd, 3, "Kamu adalah Pemilik baru Ruangan.");
	                format(Sala[i][sala_Nome], 40, Nome(fd));
	                sair_sala(playerid, i);

	                if(Sala[i][sala_Jogando] == 0)
	                {
		            	mostrando_sala[fd] = 0;
						MostrarSala(fd, 0);
					}
	                return 1;
	            }
	        }
	    }
	}
	return 0;
}

MostrarSala(playerid, con)
{
	new str[1000];
	new s = SalaPlayer[playerid];
	if(s != -1)
	{
	    if(con == 1)
	    {
		    for(new i; i<sizeof TextSalas; i++)
		    {
		        if(i < 5) PlayerTextDrawHide(playerid, TextSalas_p[playerid][i]);
				TextDrawHideForPlayer(playerid, TextSalas[i]);
		    }
			mostrando_sala[playerid] = 0;
			SalaPlayer[playerid] = -1;
			dono_sala[playerid] = 0;
			TextDrawHideForPlayer(playerid, TextResultado2[0]);
		    TextDrawHideForPlayer(playerid, TextResultado2[1]);
		    TextDrawHideForPlayer(playerid, TextResultado2[2]);
		    PlayerTextDrawHide(playerid, TextResultado2_p[playerid][0]);
		    PlayerTextDrawHide(playerid, TextResultado2_p[playerid][1]);
		    PlayerTextDrawHide(playerid, TextResultado2_p[playerid][2]);
		    PlayerTextDrawHide(playerid, TextResultado2_p[playerid][3]);
		    PlayerTextDrawHide(playerid, TextResultado2_p[playerid][4]);
	        return 1;
	    }

	    if(con == 0)
		{
			if(mostrando_resultado[playerid] == 1) return 1;
			SelectTextDraw_(playerid, 0x00ffffff);
			mostrando_sala[playerid] = 1;

			pontos_player(playerid, 0, 0, 0, 0);
			TextDrawShowForPlayer(playerid, TextResultado2[0]);
			TextDrawShowForPlayer(playerid, TextResultado2[1]);
			TextDrawShowForPlayer(playerid, TextResultado2[2]);
			PlayerTextDrawShow(playerid, TextResultado2_p[playerid][0]);
			PlayerTextDrawShow(playerid, TextResultado2_p[playerid][1]);
			PlayerTextDrawShow(playerid, TextResultado2_p[playerid][2]);
			PlayerTextDrawShow(playerid, TextResultado2_p[playerid][3]);
			PlayerTextDrawShow(playerid, TextResultado2_p[playerid][4]);

			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][0], Sala[s][sala_Nome]);
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][1], format_time1(s));
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][2], format_time2(s));
			if(dono_sala[playerid] == 1) 
				PlayerTextDrawSetString(playerid, TextSalas_p[playerid][3], "Mulai");
			else 
				PlayerTextDrawSetString(playerid, TextSalas_p[playerid][3], "Siap");
			
			format(str, 1000, "~Y~%s~N~~N~~G~%d ~W~RONDE~N~~N~~B~~H~%s", 
				Mapa[Sala[s][sala_Mapa]][mapa_Nome], Sala[s][sala_Rounds], ConvertTime(Sala[s][sala_Tempo]));
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][4], str);

			for(new i; i < sizeof TextSalas; i++)
			{
				if(i < 5) 
					PlayerTextDrawShow(playerid, TextSalas_p[playerid][i]);
				
				if(i == 5 || i == 6 || i == 7 || i == 8 || i == 9 || i == 10)
				{
					if(dono_sala[playerid] == 1)
					{
						TextDrawShowForPlayer(playerid, TextSalas[i]);
					}
				}
				else 
				{
					TextDrawShowForPlayer(playerid, TextSalas[i]);
				}
			}

			for(new f; f < MAX_PLAYERS; f++)
			{
				if(!Online(f)) continue;
				if(dono_sala[f] == 1 && SalaPlayer[f] == SalaPlayer[playerid])
				{
					SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(f));
					break;
				}
			}
			Olhar_Mapa(s, playerid);
		}

		if(con == 2)
		{
			if(mostrando_resultado[playerid] == 1) return 1;
			format(str, 1000, "~Y~%s~N~~N~~G~%d ~W~RONDE~N~~N~~B~~H~%s", 
				Mapa[Sala[s][sala_Mapa]][mapa_Nome], Sala[s][sala_Rounds], ConvertTime(Sala[s][sala_Tempo]));
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][4], str);
			Olhar_Mapa(SalaPlayer[playerid], playerid);
			return 1;
		}

		if(con == 3)
		{
			if(mostrando_resultado[playerid] == 1) return 1;
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][1], format_time1(s));
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][2], format_time2(s));
			return 1;
		}

		if(con == 4)
		{
			if(mostrando_resultado[playerid] == 1) return 1;
			format(str, 1000, "~Y~%s~N~~N~~G~%d ~W~RONDE~N~~N~~B~~H~%s", 
				Mapa[Sala[s][sala_Mapa]][mapa_Nome], Sala[s][sala_Rounds], ConvertTime(Sala[s][sala_Tempo]));
			PlayerTextDrawSetString(playerid, TextSalas_p[playerid][4], str);
			return 1;
		}
	}

	return 1;
}

Sala_(i, con)
{
    if(i == -1) return 1;

    if(con == 1) // hapus ruangan //
    {
        for(new p; p < MAX_PLAYERS; p++)
        {
            if(Online(p))
            {
                if(SalaPlayer[p] == i)
                {
                    SpawnPlayer(p);
                    MostrarSala(p, 1);
                    esconderLobby(p);
                    ms(p, 3, "Ruangan telah dihapus!");
                }
            }
        }

        Sala[i][sala_Existe] = 0;
        Sala[i][sala_Rounds] = 0;
        Sala[i][sala_Tempo] = 0;
        Sala[i][sala_Mapa] = 0;
        Sala[i][sala_Jogando] = 0;
        format(Sala[i][sala_Nome], 60, "RUANGAN BARU");
        Sala[i][sala_Senha] = 0;
        return 1;
    }

    if(con == 2) // ubah peta //
    {
        if(Sala[i][sala_Mapa] < sizeof Mapa - 1) Sala[i][sala_Mapa]++;
        else if(Sala[i][sala_Mapa] == sizeof Mapa - 1) Sala[i][sala_Mapa] = 0;

        for(new p; p < MAX_PLAYERS; p++)
        {
            if(Online(p))
            {
                if(SalaPlayer[p] == i)
                {
                    tempo_mudar[i] = 5;
                    MostrarSala(p, 2);
                }
            }
        }
        return 1;
    }

    if(con == 3) // ubah ronde //
    {
        if(Sala[i][sala_Rounds] < MAX_ROUNDS) Sala[i][sala_Rounds] += 2;
        else if(Sala[i][sala_Rounds] == MAX_ROUNDS) Sala[i][sala_Rounds] = 1;

        for(new p; p < MAX_PLAYERS; p++)
        {
            if(Online(p))
            {
                if(SalaPlayer[p] == i)
                {
                    MostrarSala(p, 4);
                    esconderLobby(p);
                }
            }
        }
        return 1;
    }

    if(con == 4) // ubah waktu //
    {
        if(Sala[i][sala_Tempo] < MAX_TEMPO_SALA) Sala[i][sala_Tempo] += 30;
        else if(Sala[i][sala_Tempo] == MAX_TEMPO_SALA) Sala[i][sala_Tempo] = 30;

        for(new p; p < MAX_PLAYERS; p++)
        {
            if(Online(p))
            {
                if(SalaPlayer[p] == i)
                {
                    MostrarSala(p, 4);
                    esconderLobby(p);
                }
            }
        }
        return 1;
    }

    if(con == 5) // seseorang keluar //
    {
        for(new p; p < MAX_PLAYERS; p++)
        {
            if(Online(p))
            {
                if(SalaPlayer[p] == i)
                {
                    MostrarSala(p, 3);
                    esconderLobby(p);
                }
            }
        }
    }

    return 1;
}

sair_sala(playerid, i)
{
    TimePlayer[playerid] = -1;
    ms(playerid, 1, "Kamu telah meninggalkan ruangan yang sedang kamu ikuti.");
    MostrarSala(playerid, 1);
    SpawnPlayer(playerid);
    Sala_(i, 5);
    return 1;
}




lista_convidar(playerid)
{
    new cont;
    new linha[100];
    new str[1000];
    for(new i; i < MAX_PLAYERS; i++)
    {
        Players[playerid][i] = -1;
        if(Online(i))
        {
            if(Modo[i] == 0 && pInfo[i][pCadeia] == 0)
            {
                if(SalaPlayer[i] == -1)
                {
                    format(linha, 100, "%s\n", Nome(i));
                    strcat(str, linha);
                    Players[playerid][cont] = i;
                    cont++;
                }
            }
        }
    }
    ShowPlayerDialog_(playerid, DIALOG_CONVIDAR_SALA, DIALOG_STYLE_LIST, "Daftar pemain", str, "Undang", "Batal");
    return 1;
}
// baru sampe sini tgl 03/08/25


lista_kikar(playerid, s)
{
    new cont;
	new linha[100];
	new str[1000];
	for(new i; i<MAX_PLAYERS; i++)
	{
		Players[playerid][i] = -1;
	    if(Online(i))
	    {
            if(Modo[i] == 0)
            {
                if(SalaPlayer[i] == s)
                {
                    if(i == playerid) continue;

                    if(TimePlayer[i] == 0) format(linha, 100, "{0000ff}%s\n", Nome(i));
	    			else format(linha, 100, "{FF0000}%s\n", Nome(i));

					strcat(str, linha);
                    Players[playerid][cont] = i;
                    cont ++;
                }
            }
	    }
	}
	ShowPlayerDialog_(playerid, DIALOG_KIKAR_SALA, DIALOG_STYLE_LIST, "Player in interior", str, "Kick", "Cancel");
	return 1;
}




setar_sala(playerid, s)
{
	if(Sala[s][sala_Existe] == 1)
	{
	    new time1, time2;
	    for(new fd; fd<MAX_PLAYERS; fd++)
	    {
	        if(Online(fd))
	        {
	            if(SalaPlayer[fd] == s)
	            {
	                if(TimePlayer[fd] == 0) time1 ++;
	                if(TimePlayer[fd] == 1) time2 ++;
	            }
			}
	    }

	    if(time1 < 4)
	    {
	        SalaPlayer[playerid] = s;
	        TimePlayer[playerid] = 0;
			dono_sala[playerid] = 0;
	        MostrarSala(playerid, 0);
	        // esconder textdraw cash //
			PlayerTextDrawHide(playerid, T_Cash[playerid][0]);
			PlayerTextDrawHide(playerid, T_Cash[playerid][1]);
			GZ_EsconderGzPlayer(playerid, GZ_PRETA);
	        return 1;
	    }

	    if(time2 < 4)
	    {
	        SalaPlayer[playerid] = s;
	        TimePlayer[playerid] = 1;
			dono_sala[playerid] = 0;
	        MostrarSala(playerid, 0);
			// esconder textdraw cash //
			PlayerTextDrawHide(playerid, T_Cash[playerid][0]);
			PlayerTextDrawHide(playerid, T_Cash[playerid][1]);
			GZ_EsconderGzPlayer(playerid, GZ_PRETA);
	        return 1;
	    }
	}
	return 0;
}

pode_iniciar(i)
{
	for(new p; p<MAX_PLAYERS; p++)
	{
		if(Online(p))
		{
		    if(SalaPlayer[p] == i)
		    {
		        if(dono_sala[p] == 1) continue;
		        if(Pronto[p] == 0)
		        {
		            return p;
		        }
		    }
		}
	}
	return -1;
}

mudar_lado(playerid, i)
{
	new cont1, cont2;
	for(new p; p<MAX_PLAYERS; p++)
    {
		if(Online(p))
		{
		    if(SalaPlayer[p] == i)
		    {
		        if(TimePlayer[p] == 0) cont1 ++;
		        if(TimePlayer[p] == 1) cont2 ++;
		    }
		}
    }
	if(TimePlayer[playerid] == 0)
	{
	    if(cont2 < 4)
	    {
	        TimePlayer[playerid] = 1;
	        return 1;
	    }
	}
	else
	{
	    if(cont1 < 4)
	    {
	        TimePlayer[playerid] = 0;
	        return 1;
	    }
	}
	return 0;
}

iniciar_sala(i)
{
    // SETANDO INFORMACOS DA PARTIDA //
	for(new fg; fg<4; fg++)
	{
	    SalaSpawn[i][0][fg] = -1;
	    SalaSpawn[i][1][fg] = -1;
	}
    Sala[i][sala_Round] = 0;
    Sala[i][sala_PlacarB] = 0;
    Sala[i][sala_PlacarR] = 0;
    new mapa = Sala[i][sala_Mapa];
    GZ_DestruirGz(Sala[i][sala_Gz]);
    Sala[i][sala_Gz] = GZ_CriarGz(Mapa[mapa][mapa_X],Mapa[mapa][mapa_Y],Mapa[mapa][mapa_A],Mapa[mapa][mapa_L], 1, Cores[0]);

	for(new a; a<MAX_PLAYERS; a++)
	{
    	if(Online(a))
    	{
			if(SalaPlayer[a] == i)
			{
			    for(new ii; ii<sizeof TextSalas; ii++)
	    		{
			        if(ii < 5) PlayerTextDrawHide(a, TextSalas_p[a][ii]);
					TextDrawHideForPlayer(a, TextSalas[ii]);
			    }
			    TextDrawHideForPlayer(a, TextResultado2[0]);
			    TextDrawHideForPlayer(a, TextResultado2[1]);
			    TextDrawHideForPlayer(a, TextResultado2[2]);
			    PlayerTextDrawHide(a, TextResultado2_p[a][0]);
			    PlayerTextDrawHide(a, TextResultado2_p[a][1]);
			    PlayerTextDrawHide(a, TextResultado2_p[a][2]);
			    PlayerTextDrawHide(a, TextResultado2_p[a][3]);
			    PlayerTextDrawHide(a, TextResultado2_p[a][4]);

				mostrando_sala[a] = 0;
				Pronto[a] = 0;
				SalaMortes[a] = 0;
				SalaKills[a] = 0;
				SetTimerEx("dar_equipamentos", 3000, 0, "d", a);
				for(new fre; fre<20; fre++) SendClientMessage(a, -1, "");
				if(Sala[i][sala_Round] == 0) ResetPlayerWeapons(a);
				//SetPlayerSkin(a, SkinTime[TimePlayer[a]]);
				SetPlayerInterior(a, Mapa[mapa][mapa_Interior]);
				SetPlayerVirtualWorld(a, Mapa[mapa][mapa_Mundo]+i);
				for(new ww; ww<4; ww++)
				{
				    if(SalaSpawn[i][TimePlayer[a]][ww] == -1)
				    {
				        SalaSpawn[i][0][TimePlayer[a]] = 1;
				        SetPlayerPos(a, SpawnTime[mapa][ww+(4*TimePlayer[a])][0],SpawnTime[mapa][ww+(4*TimePlayer[a])][1],SpawnTime[mapa][ww+(4*TimePlayer[a])][2] );
		        		SetPlayerFacingAngle(a, SpawnTime[mapa][ww+(4*TimePlayer[a])][3]);
						SetPVarInt(a, "pos_mapa", ww+(4*TimePlayer[a]));
				    }
				}
                ClearAnimations(a, 1);
                GZ_MostrarGzPlayer(a, Sala[i][sala_Gz]);
			}
		}
	}

	KillTimer_(Sala[i][sala_Timer]);
	iniciarcs(i);
	return i;
}

forward dar_equipamentos(a);
public dar_equipamentos(a)
{
    Setar_Capacete(a, 1, 100);
	Setar_Colete(a, 1, 100);
	Setar_Mascara(a, 0);
	SetarVida(a, 100);
	return 1;
}

forward Olhar_Mapa(s, con);
public Olhar_Mapa(s, con)
{
	new Float:POS[9];
	new i = Sala[s][sala_Mapa];
    POS[0] = Mapa[i][mapa_X];
    POS[1] = Mapa[i][mapa_Y];
    POS[3] = Mapa[i][mapa_X];
    POS[4] = Mapa[i][mapa_Y];
    PegarAltura(POS[0], POS[1], POS[2]);
    PegarFrente(POS[3], POS[4], random(360), 50);
    POS[5] = POS[2] + 40.0;

    if(con == -1)
    {
	    for(new p; p<MAX_PLAYERS; p++)
	    {
	        if(!Online(p)) continue;
            if(SalaPlayer[p] == s)
            {
                GetPlayerCameraPos(p, POS[6], POS[7], POS[8]);
                new Float:dis;
				GetDistance(dis,  POS[6], POS[7], POS[8], POS[0], POS[1], POS[2] );
				if(dis > 150)
				{
					POS[6] = POS[0];
					POS[7] = POS[1];
					POS[8] = POS[2] + 40.0;
					PegarFrente(POS[6], POS[7], random(360), 50);

				}
    			OlharMapa(p, POS[0], POS[1], POS[2], POS[6], POS[7], POS[8], POS[3], POS[4], POS[5]);
			}
	    }
    }
    else
	{
		GetPlayerCameraPos(con, POS[6], POS[7], POS[8]);
		new Float:dis;
		GetDistance(dis,  POS[6], POS[7], POS[8], POS[0], POS[1], POS[2] );
		if(dis > 150)
		{
			POS[6] = POS[0];
			POS[7] = POS[1];
			POS[8] = POS[2] + 40.0;
			PegarFrente(POS[6], POS[7], random(360), 50);
		}
		OlharMapa(con, POS[0], POS[1], POS[2], POS[6], POS[7], POS[8], POS[3], POS[4], POS[5]);
    }
	return 1;
}

GetDistance( &Float:distt, Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2 )
{
	distt = floatsqroot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2))+((z1-z2)*(z1-z2)));
}

OlharMapa(playerid, Float:pp0, Float:pp1, Float:pp2, Float:pp3, Float:pp4, Float:pp5, Float:pp6, Float:pp7, Float:pp8)
{
	if(mostrando_resultado[playerid] == 0)
	{
		new i = Mapa[Sala[SalaPlayer[playerid]][sala_Mapa]][mapa_Interior];
	    SetPlayerPos(playerid, pp0, pp1, pp2-30);
	    SetPlayerInterior(playerid, i);
	 	InterpolateCameraPos(playerid, pp3, pp4, pp5, pp6, pp7, pp8, 6000, CAMERA_CUT );
	    InterpolateCameraLookAt(playerid, pp0,pp1,pp2,pp0,pp1,pp2, 6000, CAMERA_CUT );
    }
	return 1;
}

/*
DonoSala(s)
{
	for(new i; i<MAX_PLAYERS; i++)
	{
	    if(Online(i))
	    {
			if(!IsPlayerNPC(i))
			{
			    if(SalaPlayer[i] == s)
			    {
			        if(dono_sala[i] == 1)
			        {
			            return Nome(i);
					}
				}
			}
		}
	}
	return Nome(-1);
}
*/

funcao_pvp(playerid)
{
    String_Gigante[0] = EOS;
    new linha[150];
    new cont;
    strcat(String_Gigante, "{00FF00}BUAT RUANGAN BARU\t{000000}_\n");
    for(new i; i < MAX_SALAS; i++)
    {
        Salas[playerid][i] = -1;
        if(Sala[i][sala_Existe] == 1)
        {
            if(Sala[i][sala_Jogando] == 0)
            {
                if(Sala[i][sala_Senha] == 0) 
                    format(linha, 150, "{ffffff}Pemilik: {a1a1a1}%s\t{00ff00}TERBUKA\n", Sala[i][sala_Nome]);
                if(Sala[i][sala_Senha] == 1) 
                    format(linha, 150, "{ffffff}Pemilik: {a1a1a1}%s\t{FF0000}TERTUTUP\n", Sala[i][sala_Nome]);
                strcat(String_Gigante, linha);
                Salas[playerid][cont] = i;
                cont++;
            }
        }
    }
    ShowPlayerDialog_(playerid, DIALOG_PVP, DIALOG_STYLE_LIST, "{ffffff}Mode {00ffff}PVP", String_Gigante, "Lanjut", "Batal");
    return 1;
}



msg_sala(s, asas[], playerid=-1)
{
	for(new i; i<MAX_PLAYERS; i++)
    {
        if(!Online(i)) continue;
        if(IsPlayerNPC(i)) continue;
        if(Logado[i] == 0) continue;
        if(Modo[i] != 0) continue;
        if(SalaPlayer[i] != s) continue;
        if(i == playerid) continue;
        SendClientMessage(i, -1, asas);
    }
	return -555;
}

salvar_admin(i)
{
	new file[80];
    format(file, 80, "Admins/Admin_%d.txt", i);

	if(Admin[i][adm_Existe] == 1)
	{
        if(!DOF2_FileExists(file))
        {
            DOF2_CreateFile(file);
        }

        DOF2_SetString(file, "adm_Nome", Admin[i][adm_Nome]);
		DOF2_SetInt(file, "adm_Level", Admin[i][adm_Level]);
		DOF2_SetString(file, "adm_Funcao", Admin[i][adm_Funcao]);
		DOF2_SetString(file, "adm_Responssavel", Admin[i][adm_Responssavel]);
		DOF2_SetInt(file, "adm_Dia", Admin[i][adm_Dia]);
		DOF2_SetInt(file, "adm_Mes", Admin[i][adm_Mes]);
	 	DOF2_SetInt(file, "adm_Ano", Admin[i][adm_Ano]);
		DOF2_SetInt(file, "adm_Hora", Admin[i][adm_Hora]);
		DOF2_SetInt(file, "adm_Minuto", Admin[i][adm_Minuto]);
		DOF2_SetInt(file, "adm_Segundo", Admin[i][adm_Segundo]);
		DOF2_SetInt(file, "adm_Nota", Admin[i][adm_Nota]);
		DOF2_SetInt(file, "adm_Atendimentos", Admin[i][adm_Atendimentos]);
		DOF2_SaveFile();
	}
	else
	{
	    if(DOF2_FileExists(file))
	    {
	        DOF2_RemoveFile(file);
	    }
	}
	return 1;
}

carregar_admins()
{
	new file[80];
	new cont;
	for(new i; i<MAX_ADMINS; i++)
	{
		format(file, 80, "Admins/Admin_%d.txt", i);
		if(DOF2_FileExists(file))
		{
		    cont++;
            Admin[i][adm_Existe] = 1;
			format(Admin[i][adm_Nome], MAX_PLAYER_NAME, DOF2_GetString(file, "adm_Nome"));
			Admin[i][adm_Level] = DOF2_GetInt(file, "adm_Level");
			format(Admin[i][adm_Funcao], 40, DOF2_GetString(file, "adm_Funcao"));
			format(Admin[i][adm_Responssavel], MAX_PLAYER_NAME, DOF2_GetString(file, "adm_Responssavel"));
			Admin[i][adm_Dia] = DOF2_GetInt(file, "adm_Dia");
			Admin[i][adm_Mes] = DOF2_GetInt(file, "adm_Mes");
			Admin[i][adm_Ano] = DOF2_GetInt(file, "adm_Ano");
			Admin[i][adm_Hora] = DOF2_GetInt(file, "adm_Hora");
			Admin[i][adm_Minuto] = DOF2_GetInt(file, "adm_Minuto");
			Admin[i][adm_Segundo] = DOF2_GetInt(file, "adm_Segundo");
			Admin[i][adm_Nota] = DOF2_GetInt(file, "adm_Nota");
			Admin[i][adm_Atendimentos] = DOF2_GetInt(file, "adm_Atendimentos");
		}
		else
		{
		    Admin[i][adm_Existe] = 0;
			format(Admin[i][adm_Nome], MAX_PLAYER_NAME, Nome(-1));
			Admin[i][adm_Level] = 0;
			format(Admin[i][adm_Funcao], 40, "Nenhuma");
			format(Admin[i][adm_Responssavel], MAX_PLAYER_NAME, Nome(-1));
			Admin[i][adm_Dia] = 0;
			Admin[i][adm_Mes] = 0;
			Admin[i][adm_Ano] = 0;
			Admin[i][adm_Hora] = 0;
			Admin[i][adm_Minuto] = 0;
			Admin[i][adm_Segundo] = 0;
			Admin[i][adm_Nota] = 0;
			Admin[i][adm_Atendimentos] = 0;
		}
	}
	printf("** %d Admins carregadas.", cont);
	return 1;
}

AdminPlayer(playerid)
{
	if(Online(playerid))
	{
		for(new i; i<MAX_ADMINS; i++)
		{
			if(Admin[i][adm_Existe] == 1)
			{
				if(Comparar(Nome(playerid), Admin[i][adm_Nome]))
				{
				    return Admin[i][adm_Level];
				}
			}
		}
	}
	return 0;
}

AdminID(playerid)
{
	if(Online(playerid))
	{
		for(new i; i<MAX_ADMINS; i++)
		{
			if(Admin[i][adm_Existe] == 1)
			{
				if(Comparar(Nome(playerid), Admin[i][adm_Nome]))
				{
				    return i;
				}
			}
		}
	}
	return -1;
}

AdminIDNick(nickk[])
{
	for(new i; i<MAX_ADMINS; i++)
	{
		if(Admin[i][adm_Existe] == 1)
		{
			if(Comparar(Admin[i][adm_Nome], nickk))
			{
			    return i;
			}
		}
	}
	return -1;
}


destruir_admin(player_admin[])
{
    for(new i; i<MAX_ADMINS; i++)
	{
		if(Admin[i][adm_Existe] == 1)
		{
		    if(Comparar(player_admin, Admin[i][adm_Nome]))
		    {
		        Admin[i][adm_Existe] = 0;
				format(Admin[i][adm_Nome], MAX_PLAYER_NAME, Nome(-1));
				Admin[i][adm_Level] = 0;
				format(Admin[i][adm_Funcao], 40, "Tidak Ada");
				format(Admin[i][adm_Responssavel], MAX_PLAYER_NAME, Nome(-1));
				Admin[i][adm_Ano] = 0;
				Admin[i][adm_Mes] = 0;
				Admin[i][adm_Dia] = 0;
				Admin[i][adm_Hora] = 0;
				Admin[i][adm_Minuto] = 0;
				Admin[i][adm_Segundo] = 0;
				Admin[i][adm_Nota] = 0;
				Admin[i][adm_Atendimentos] = 0;
				salvar_admin(i);
				return 1;
		    }
		}
	}
	return 0;
}


criar_admin(player_admin[], admin[], level, funcao[])
{
    for(new i; i<MAX_ADMINS; i++)
	{
		if(Admin[i][adm_Existe] == 0)
		{
		    Admin[i][adm_Existe] = 1;
			format(Admin[i][adm_Nome], MAX_PLAYER_NAME, player_admin);
			Admin[i][adm_Level] = level;
			format(Admin[i][adm_Funcao], 40, funcao);
			format(Admin[i][adm_Responssavel], MAX_PLAYER_NAME, admin);
			getdate(Admin[i][adm_Ano], Admin[i][adm_Mes], Admin[i][adm_Dia]);
			gettime(Admin[i][adm_Hora], Admin[i][adm_Minuto], Admin[i][adm_Segundo]);
			Admin[i][adm_Nota] = 0;
			Admin[i][adm_Atendimentos] = 0;
			salvar_admin(i);
			return 1;
		}
	}
	return 0;
}


MostrarLogin(playerid)
{
    mostrando_login[playerid] = 1;
    for(new i; i<sizeof FundoLobby; i++)
	{
	    if(i == 9) continue;
	    if(i == 8) continue;
		TextDrawShowForPlayer(playerid, FundoLobby[i]);
	}
    return 1;
}

EsconderLogin(playerid)
{
    mostrando_login[playerid] = 0;
    for(new i; i<sizeof FundoLobby; i++)TextDrawHideForPlayer(playerid, FundoLobby[i]);
   	return 1;
}

// bug stuck di password fixed tgl 02/02/26
BotaoEntrar(playerid)
{
    new str[300];
    new file[80];
	format(file, 80, "Whitelist/%s.txt", Nome(playerid));
    if(mostrar_ban(playerid)) return 1;
    if(DOF2_FileExists(file))
    {
        format(str, 300, "{00ff00}WELCOME\n\n{ffffff}Hello {00ffff}%s{ffffff}, your account is already registered in our {00ff00}Database\n{ffffff}please enter your {00ffff}PASSWORD {ffffff}in the field below:", Nome(playerid));
        ShowPlayerDialog_(playerid, DIALOG_LOGAR, DIALOG_STYLE_PASSWORD, "{ffffff}DayZ {ff0000}Gaming {ffffff}2022", str, "Login", "Cancel");
    }
    else
    {
        format(str, 300, "{ffff00}CREATE ACCOUNT\n\n{ffffff}Hello {00ffff}%s{ffffff}, your account is not yet registered\nin our {00ff00}Database {ffffff}please create a password\nfrom {ffff00}4 {ffffff}to {ffff00}12 {ffffff}characters to continue:", Nome(playerid));
        ShowPlayerDialog_(playerid, DIALOG_CRIAR_CONTA, DIALOG_STYLE_PASSWORD, "{ffffff}DayZ {ff0000}Gaming {ffffff}2022", str, "Continue", "Cancel");
    }
    return 1;
}



/*
PlayerOlhando(playerid, &Float:object_x, &Float:object_y, &Float:object_z)
{
    new Float:fPX, Float:fPY, Float:fPZ, Float:fVX, Float:fVY, Float:fVZ;
    const Float:fScale = 5.0;
    GetPlayerCameraPos(playerid, fPX, fPY, fPZ);
    GetPlayerCameraFrontVector(playerid, fVX, fVY, fVZ);
    object_x = fPX + floatmul(fVX, fScale);
    object_y = fPY + floatmul(fVY, fScale);
    object_z = fPZ + floatmul(fVZ, fScale);
    return 1;
}
*/

Online(playerid)
{
	if(playerid < 0 || playerid >= MAX_PLAYERS) return 0;
	if(IsPlayerConnected(playerid))
	{
	    if(IsPlayerNPC(playerid)) return 0;
	    if(Logado[playerid] == 1)
	    {
	        return 1;
	    }
	}
	return 0;
}

tem_remedio(playerid)
{
	if(Online(playerid))
	{
		for(new i; i<MAX_SLOTS; i++)
		{
		    if(Inventario[playerid][i][inv_ID] == 8)
		    {
				return i;
		    }
		}
	}
	return -1;
}

forward SetPlayerToFacePos(playerid, Float:Xxx, Float:Yyy);
public SetPlayerToFacePos(playerid, Float:Xxx, Float:Yyy)
{
	new
	Float:pXxx,
	Float:pYyy,
	Float:pZzz,
	Float:ang;
	if(!IsPlayerConnected(playerid)) return 0;
	GetPlayerPos(playerid, pXxx, pYyy, pZzz);
	if( Yyy > pYyy ) ang = (-acos((Xxx - pXxx) / floatsqroot((Xxx - pXxx)*(Xxx - pXxx) + (Yyy - pYyy)*(Yyy - pYyy))) - 90.0);
	else if( Yyy < pYyy && Xxx < pXxx ) ang = (acos((Xxx - pXxx) / floatsqroot((Xxx - pXxx)*(Xxx - pXxx) + (Yyy - pYyy)*(Yyy - pYyy))) - 450.0);
	else if( Yyy < pYyy ) ang = (acos((Xxx - pXxx) / floatsqroot((Xxx - pXxx)*(Xxx - pXxx) + (Yyy - pYyy)*(Yyy - pYyy))) - 90.0);
	if(Xxx > pXxx) ang = (floatabs(floatabs(ang) + 180.0));
	else ang = (floatabs(ang) - 180.0);
	SetPlayerFacingAngle(playerid, ang);
	return 1;
}

MostrarLoja(playerid, con)
{
	if(Online(playerid))
	{
		new str[150];
		if(con == 0)
		{
		    mostrando_loja[playerid] = 1;
		    item_loja[playerid] = 0;
		    pagina_loja[playerid] = 0;
			for(new i; i<sizeof TextLoja; i++) TextDrawShowForPlayer(playerid, TextLoja[i] );
			for(new ii; ii<8; ii++) PlayerTextDrawShow(playerid, TextLoja_p[playerid][ii] );
			SelectTextDraw_(playerid, 0xffff00ff);
			MostrarLoja(playerid, 2);
			return 1;
		}

		if(con == 1)
		{
		    if(mostrando_loja[playerid] == 1)
		    {
			    mostrando_loja[playerid] = 0;
	            for(new i; i<sizeof TextLoja; i++) TextDrawHideForPlayer(playerid, TextLoja[i] );
				for(new ii; ii<8; ii++) PlayerTextDrawHide(playerid, TextLoja_p[playerid][ii] );
				CancelSelectTextDraw_(playerid);
			}
			return 1;
		}

		if(con == 3)
		{
		    new arma;
			new valor;

		    if(item_loja[playerid] == 4)
		    {
     			arma = Armas_Loja1[pagina_loja[playerid]][0];
				valor = Armas_Loja1[pagina_loja[playerid]][1];
		    }
		    if(item_loja[playerid] == 3)
		    {
		        arma = Armas_Loja2[pagina_loja[playerid]][0];
		    	valor = Armas_Loja2[pagina_loja[playerid]][1];
		    }
		    if(item_loja[playerid] == 2)
		    {
		        arma = Armas_Loja3[pagina_loja[playerid]][0];
		    	valor = Armas_Loja3[pagina_loja[playerid]][1];
		    }
		    if(item_loja[playerid] == 1)
		    {
		        arma = Armas_Loja4[pagina_loja[playerid]][0];
		    	valor = Armas_Loja4[pagina_loja[playerid]][1];
		    }
		    if(item_loja[playerid] == 0)
		    {
		        arma = Armas_Loja5[pagina_loja[playerid]][0];
		    	valor = Armas_Loja5[pagina_loja[playerid]][1];
		    }
			format(str, 150, "You don't have R$ %s.", ConvertMoney(valor));
			if(GranaPlayer2(playerid) < valor) return ms(playerid, 0, str);
			new arms, munis;
			GetPlayerWeaponData(playerid, slot_arma(arma), arms, munis);

			if(arms > 0 && munis > 0)
			{
				new Float:pos[3];
				GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
				PegarFrente(pos[0], pos[1], random(360), random(8)*0.3);
				criar_item(arma_id(arms), pos[0], pos[1], pos[2], munis, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), Itens[arma_id(arms)][item_Tipo], 30);
			}

			GivePlayerWeapon(playerid, arma, 1);
			SetPlayerAmmo(playerid, arma, 1000);
			SetarGrana2(playerid, pInfo[playerid][pGrana2] - valor);
			format(str, 150, "You bought a '%s' for R$ %s.", nome_arma(arma), ConvertMoney(valor));
			ms(playerid, 3, str);
		    return 1;
		}

		if(con == 2)
		{
		    new arma;
		    new modelo;
		    new valor;
			new maxx;

		    if(item_loja[playerid] == 4)
		    {
     			arma = Armas_Loja1[pagina_loja[playerid]][0];
		    	modelo = modelo_arma(Armas_Loja1[pagina_loja[playerid]][0]);
		    	valor = Armas_Loja1[pagina_loja[playerid]][1];
		    	maxx = sizeof Armas_Loja1;
		    }
		    if(item_loja[playerid] == 3)
		    {
		        arma = Armas_Loja2[pagina_loja[playerid]][0];
		    	modelo = modelo_arma(Armas_Loja2[pagina_loja[playerid]][0]);
		    	valor = Armas_Loja2[pagina_loja[playerid]][1];
		    	maxx = sizeof Armas_Loja2;
		    }
		    if(item_loja[playerid] == 2)
		    {
		        arma = Armas_Loja3[pagina_loja[playerid]][0];
		    	modelo = modelo_arma(Armas_Loja3[pagina_loja[playerid]][0]);
		    	valor = Armas_Loja3[pagina_loja[playerid]][1];
		    	maxx = sizeof Armas_Loja3;
		    }
		    if(item_loja[playerid] == 1)
		    {
		        arma = Armas_Loja4[pagina_loja[playerid]][0];
		    	modelo = modelo_arma(Armas_Loja4[pagina_loja[playerid]][0]);
		    	valor = Armas_Loja4[pagina_loja[playerid]][1];
		    	maxx = sizeof Armas_Loja4;
		    }
		    if(item_loja[playerid] == 0)
		    {
		        arma = Armas_Loja5[pagina_loja[playerid]][0];
		    	modelo = modelo_arma(Armas_Loja5[pagina_loja[playerid]][0]);
		    	valor = Armas_Loja5[pagina_loja[playerid]][1];
		    	maxx = sizeof Armas_Loja5;
		    }

			PlayerTextDrawSetPreviewModel(playerid, TextLoja_p[playerid][7], modelo);
			format(str, 150, "%d/%d", pagina_loja[playerid]+1, maxx);
			PlayerTextDrawSetString(playerid, TextLoja_p[playerid][5], str);
			format(str, 150, "~y~%s~n~~g~R$ %s~n~", nome_arma(arma), ConvertMoney(valor));
			PlayerTextDrawSetString(playerid, TextLoja_p[playerid][6], str);
			PlayerTextDrawShow(playerid, TextLoja_p[playerid][5]);
			PlayerTextDrawShow(playerid, TextLoja_p[playerid][6]);
			PlayerTextDrawShow(playerid, TextLoja_p[playerid][7]);

	        if(item_loja[playerid] == 0) PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][4], 0x00ffff50);
	        else PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][4], 0xffffff50);
	        PlayerTextDrawShow(playerid, TextLoja_p[playerid][4]);
	        if(item_loja[playerid] == 1) PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][3], 0x00ffff50);
	        else PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][3], 0xffffff50);
	        PlayerTextDrawShow(playerid, TextLoja_p[playerid][3]);
	        if(item_loja[playerid] == 2) PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][2], 0x00ffff50);
	        else PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][2], 0xffffff50);
	        PlayerTextDrawShow(playerid, TextLoja_p[playerid][2]);
	        if(item_loja[playerid] == 3) PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][1], 0x00ffff50);
	        else PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][1], 0xffffff50);
	        PlayerTextDrawShow(playerid, TextLoja_p[playerid][1]);
	        if(item_loja[playerid] == 4) PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][0], 0x00ffff50);
	        else PlayerTextDrawBoxColor(playerid, TextLoja_p[playerid][0], 0xffffff50);
	        PlayerTextDrawShow(playerid, TextLoja_p[playerid][0]);
		    return 1;
		}
	}
	return 1;
}


esconder_resultado(playerid)
{
    mostrando_resultado[playerid] = 0;
	PlayerTextDrawHide(playerid, TextResultado_p[playerid][0]);
	PlayerTextDrawHide(playerid, TextResultado_p[playerid][1]);
	PlayerTextDrawHide(playerid, TextResultado_p[playerid][2]);
	PlayerTextDrawHide(playerid, TextResultado_p[playerid][3]);
	PlayerTextDrawHide(playerid, TextResultado2_p[playerid][0]);
	PlayerTextDrawHide(playerid, TextResultado2_p[playerid][1]);
	PlayerTextDrawHide(playerid, TextResultado2_p[playerid][2]);
	PlayerTextDrawHide(playerid, TextResultado2_p[playerid][3]);
	PlayerTextDrawHide(playerid, TextResultado2_p[playerid][4]);
	TextDrawHideForPlayer(playerid, TextResultado[0]);
	TextDrawHideForPlayer(playerid, TextResultado[1]);
	TextDrawHideForPlayer(playerid, TextResultado[2]);
	TextDrawHideForPlayer(playerid, TextResultado[3]);
	TextDrawHideForPlayer(playerid, TextResultado2[0]);
	TextDrawHideForPlayer(playerid, TextResultado2[1]);
	TextDrawHideForPlayer(playerid, TextResultado2[2]);
	mostrando_sala[playerid] = 0;
	MostrarSala(playerid, 0);
	return 1;
}

mostrar_resultado(playerid, i, venc)
{
	new str[3][500];
	new linha[100];
	if(SalaPlayer[playerid] == i)
	{
	    mostrando_resultado[playerid] = 1;
	    if(venc == 1) format(linha, 100, "~y~_~n~~n~VICTORY");
		else if(venc == 0) format(linha, 100, "~y~VICTORY~n~~n~~y~_");
		else format(linha, 100, "~w~_~n~~n~~w~_");
		PlayerTextDrawSetString(playerid, TextResultado_p[playerid][0], linha);

		new cont;
		for(new p; p<MAX_PLAYERS; p++)
		{
		    if(Online(p) && SalaPlayer[p] == i)
		    {
		        if(TimePlayer[p] == 0)
		        {
		            cont ++;
		            format(linha, 100, "%s~n~~n~", Nome(p));
		            strcat(str[0],linha);
		            format(linha, 100, "~y~K: ~w~%d~n~~n~", SalaKills[p]);
		            strcat(str[1],linha);
		            format(linha, 100, "~y~D: ~w~%d~n~~n~", SalaMortes[p]);
		            strcat(str[2],linha);
		        }
		    }
		}

		if(cont < 4)
		{
		    for(new f; f<4-cont; f++)
		    {
		        strcat(str[0],"~n~~n~");
		        strcat(str[1],"~n~~n~");
		        strcat(str[2],"~n~~n~");
		    }
		}

		cont = 0;
		strcat(str[0],"~n~");
  		strcat(str[1],"~n~");
  		strcat(str[2],"~n~");


		for(new pp; pp<MAX_PLAYERS; pp++)
		{
		    if(Online(pp) && SalaPlayer[pp] == i)
		    {
		        if(TimePlayer[pp] == 1)
		        {
		            cont ++;
		            format(linha, 100, "%s~n~~n~", Nome(pp));
		            strcat(str[0],linha);
		            format(linha, 100, "~y~K: ~w~%d~n~~n~", SalaKills[pp]);
		            strcat(str[1],linha);
		            format(linha, 100, "~y~D: ~w~%d~n~~n~", SalaMortes[pp]);
		            strcat(str[2],linha);
		        }
		    }
		}

		if(cont < 4)
		{
		    for(new ff; ff<4-cont; ff++)
		    {
		        strcat(str[0],"~n~~n~");
		        strcat(str[1],"~n~~n~");
		        strcat(str[2],"~n~~n~");
		    }
		}

		PlayerTextDrawSetString(playerid, TextResultado_p[playerid][1], str[0]);
		PlayerTextDrawSetString(playerid, TextResultado_p[playerid][2], str[1]);
		PlayerTextDrawSetString(playerid, TextResultado_p[playerid][3], str[2]);
		TextDrawShowForPlayer(playerid, TextResultado[0]);
		TextDrawShowForPlayer(playerid, TextResultado[1]);
		TextDrawShowForPlayer(playerid, TextResultado[2]);
		TextDrawShowForPlayer(playerid, TextResultado[3]);
		TextDrawShowForPlayer(playerid, TextResultado2[0]);
		TextDrawShowForPlayer(playerid, TextResultado2[1]);
		TextDrawShowForPlayer(playerid, TextResultado2[2]);
		PlayerTextDrawShow(playerid, TextResultado_p[playerid][0]);
		PlayerTextDrawShow(playerid, TextResultado_p[playerid][1]);
		PlayerTextDrawShow(playerid, TextResultado_p[playerid][2]);
		PlayerTextDrawShow(playerid, TextResultado_p[playerid][3]);
		PlayerTextDrawShow(playerid, TextResultado2_p[playerid][0]);
		PlayerTextDrawShow(playerid, TextResultado2_p[playerid][1]);
		PlayerTextDrawShow(playerid, TextResultado2_p[playerid][2]);
		PlayerTextDrawShow(playerid, TextResultado2_p[playerid][3]);
		PlayerTextDrawShow(playerid, TextResultado2_p[playerid][4]);
		SelectTextDraw_(playerid, 0x00ffffff);
	}
	return 1;
}


carregar_bases()
{
	new file[80];
	new linha[100];
	new cont;
	for(new i; i<MAX_BASES; i++)
	{
		format(file, 80, "Bases/Base_%d.txt", i);

		if(DOF2_FileExists(file))
		{
		    cont++;
		    Base[i][base_Existe] = 1;
		    format(Base[i][base_Nome], 40, DOF2_GetString(file, "base_Nome"));
		    Base[i][base_Level] = DOF2_GetInt(file, "base_Level");
		    Base[i][base_Classe] = DOF2_GetInt(file, "base_Classe");
		    Base[i][base_XP] = DOF2_GetInt(file, "base_XP");
		    Base[i][base_X] = DOF2_GetFloat(file, "base_X");
		    Base[i][base_Y] = DOF2_GetFloat(file, "base_Y");
		    Base[i][base_Z] = DOF2_GetFloat(file, "base_Z");
		    for(new ii; ii<MAX_MEMBROS; ii++)
		    {
		        format(linha, 100, "base_Membro_%d", ii);
		        format(Membro[i][ii], MAX_PLAYER_NAME, DOF2_GetString(file, linha));
			}
			format(linha, 100, "Base %d", i);
			CanalBase[i] = SvCreateGStream ( 0xffff00ff , linha);
		}
		else
		{
		    format(Base[i][base_Nome], 40, "TIDAK ADA");
		    Base[i][base_Existe] = 0;
		    Base[i][base_Level] = 0;
		    Base[i][base_Classe] = 0;
		    Base[i][base_XP] = 0;
		    Base[i][base_X] = 0.0;
		    Base[i][base_Y] = 0.0;
		    Base[i][base_Z] = 0.0;
		    for(new ii; ii<MAX_MEMBROS; ii++) format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
		    CanalBase[i] = SV_NULL;
		}
		atualizar_base(i);
		salvar_base(i);
		carregar_log_base(i);

	}
	printf("** %d Bases Di Muat", cont);
	return 1;
}

salvar_base(i)
{
	new linha[100];
    new file[80];
    format(file, 80, "Bases/Base_%d.txt", i);
	if(Base[i][base_Existe] == 1)
	{
	    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	    DOF2_SetString(file, "base_Nome", Base[i][base_Nome]);
	    DOF2_SetInt(file, "base_XP", Base[i][base_XP]);
	    DOF2_SetInt(file, "base_Level", Base[i][base_Level]);
	    DOF2_SetInt(file, "base_Classe", Base[i][base_Classe]);
	    DOF2_SetFloat(file, "base_X", Base[i][base_X]);
	    DOF2_SetFloat(file, "base_Y", Base[i][base_Y]);
	    DOF2_SetFloat(file, "base_Z", Base[i][base_Z]);

	    for(new ii; ii<MAX_MEMBROS; ii++)
	    {
	        format(linha, 100, "base_Membro_%d", ii);
	        DOF2_SetString(file, linha, Membro[i][ii]);
		}
		DOF2_SaveFile();
		salvar_log_base(i);
	}
	else if(DOF2_FileExists(file))
	{
	 	DOF2_RemoveFile(file);
	 	limpar_log_base(i);
	}
	return 1;
}

CA_CreateObject_(objj, Float:xxxx, Float:yyyy, Float:zzzz, Float:rrxxxx, Float:rryyyy, Float:rrzzzz, mund=-1, inter=-1)
{
    CreateDynamicObject(objj, xxxx, yyyy, zzzz,   rrxxxx, rryyyy, rrzzzz, mund, inter);
	CA_CreateObject(objj, xxxx, yyyy, zzzz,   rrxxxx, rryyyy, rrzzzz, true);
	return 1;
}

criar_mapa()
{

	//  mapa sendo criado //
	CA_CreateObject_(874, 1498.40637, -1651.33337, 14.43182,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1505.22717, -1635.99536, 14.43182,   0.00000, 0.00000, -67.14003);
	CA_CreateObject_(874, 1495.68079, -1622.73950, 14.43182,   0.00000, 0.00000, 118.97998);
	CA_CreateObject_(874, 1511.55420, -1612.95520, 14.33498,   0.00000, 0.00000, 15.65997);
	CA_CreateObject_(874, 1491.46704, -1612.23853, 14.43182,   0.00000, 0.00000, 118.49995);
	CA_CreateObject_(874, 1473.28296, -1620.80347, 13.95874,   0.00000, 0.00000, 116.21995);
	CA_CreateObject_(874, 1460.76099, -1624.61072, 14.43182,   0.00000, 0.00000, 210.71996);
	CA_CreateObject_(874, 1462.13745, -1614.76074, 14.43182,   0.00000, 0.00000, 370.14001);
	CA_CreateObject_(874, 1448.07202, -1612.28674, 14.15480,   0.00000, 0.00000, 303.90009);
	CA_CreateObject_(874, 1446.33752, -1628.42065, 14.43182,   0.00000, 0.00000, 396.90005);
	CA_CreateObject_(874, 1475.76611, -1609.82410, 13.95874,   0.00000, 0.00000, 241.67995);
	CA_CreateObject_(874, 1459.91113, -1638.85962, 14.43182,   0.00000, 0.00000, 307.98010);
	CA_CreateObject_(874, 1465.30933, -1652.04309, 14.43182,   0.00000, 0.00000, 211.44014);
	CA_CreateObject_(874, 1461.93860, -1662.82593, 14.43182,   0.00000, 0.00000, 353.46017);
	CA_CreateObject_(874, 1460.17773, -1677.59705, 14.43182,   0.00000, 0.00000, 256.02017);
	CA_CreateObject_(874, 1478.21851, -1678.02136, 14.43182,   0.00000, 0.00000, 256.02017);
	CA_CreateObject_(874, 1497.12488, -1676.55737, 14.43182,   0.00000, 0.00000, 256.02017);
	CA_CreateObject_(874, 1485.71033, -1659.13672, 14.43182,   0.00000, 0.00000, 144.41995);
	CA_CreateObject_(874, 1477.93555, -1660.81482, 14.43182,   0.00000, 0.00000, -25.68003);
	CA_CreateObject_(874, 1446.88635, -1689.98682, 14.43182,   0.00000, 0.00000, 145.38017);
	CA_CreateObject_(874, 1447.09741, -1708.13074, 14.43182,   0.00000, 0.00000, 165.12019);
	CA_CreateObject_(874, 1444.70435, -1662.43372, 14.43182,   0.00000, 0.00000, 18.06020);
	CA_CreateObject_(874, 1440.89465, -1647.24744, 14.43182,   0.00000, 0.00000, 186.84021);
	CA_CreateObject_(874, 1436.86865, -1696.10010, 14.43182,   0.00000, 0.00000, 162.48016);
	CA_CreateObject_(874, 1438.83533, -1718.26196, 13.73917,   0.00000, 0.00000, 188.16019);
	CA_CreateObject_(874, 1456.25830, -1720.56506, 14.43182,   0.00000, 0.00000, 109.86019);
	CA_CreateObject_(874, 1469.74243, -1722.37964, 14.43182,   0.00000, 0.00000, 205.98021);
	CA_CreateObject_(874, 1485.11707, -1721.09326, 14.43182,   0.00000, 0.00000, 64.14021);
	CA_CreateObject_(874, 1500.81262, -1720.97620, 14.43182,   0.00000, 0.00000, 216.84021);
	CA_CreateObject_(874, 1513.21436, -1712.89661, 14.43182,   0.00000, 0.00000, 558.54004);
	CA_CreateObject_(874, 1517.34143, -1697.64270, 13.97876,   0.00000, 0.00000, 534.90015);
	CA_CreateObject_(874, 1503.54712, -1690.80359, 13.97876,   0.00000, 0.00000, 598.08020);
	CA_CreateObject_(874, 1498.41968, -1705.07056, 13.97876,   0.00000, 0.00000, 686.52026);
	CA_CreateObject_(874, 1479.83118, -1691.96460, 14.43182,   0.00000, 0.00000, 287.34018);
	CA_CreateObject_(874, 1477.85327, -1709.16016, 14.43182,   0.00000, 0.00000, 234.00018);
	CA_CreateObject_(874, 1459.62256, -1705.95679, 14.43182,   0.00000, 0.00000, 162.90018);
	CA_CreateObject_(874, 1459.64075, -1691.22766, 14.43182,   0.00000, 0.00000, 162.90018);
	CA_CreateObject_(874, 1516.24194, -1676.58545, 14.43182,   0.00000, 0.00000, 198.24017);
	CA_CreateObject_(874, 1516.64502, -1654.92627, 14.43182,   0.00000, 0.00000, 130.68019);
	CA_CreateObject_(874, 1518.52319, -1629.70251, 14.43182,   0.00000, 0.00000, 163.50018);
	CA_CreateObject_(1457, 1458.47449, -1623.56042, 15.48108,   0.00000, 0.00000, 118.49998);
	CA_CreateObject_(3073, 1473.30090, -1632.97595, 15.25540,   -6.52000, -0.05900, -135.96001);
	CA_CreateObject_(19321, 1486.14807, -1611.65320, 14.51288,   0.00000, 0.00000, -42.71999);
	CA_CreateObject_(2934, 1483.23083, -1610.19348, 16.42360,   45.00000, 0.00000, 226.86000);
	CA_CreateObject_(1358, 1470.38391, -1615.10425, 14.22130,   0.00000, 0.00000, 26.10000);
	CA_CreateObject_(1358, 1501.17261, -1646.83337, 14.22130,   0.00000, 0.00000, 77.64001);
	CA_CreateObject_(1358, 1459.55481, -1667.19250, 14.22130,   0.00000, 0.00000, 138.72002);
	CA_CreateObject_(19321, 1469.74731, -1654.71252, 14.51288,   0.00000, 0.00000, 36.84001);
	CA_CreateObject_(19321, 1513.26733, -1637.98340, 14.57880,   0.00000, 0.00000, 152.34000);
	CA_CreateObject_(8341, 1564.10840, -1615.02844, 16.55550,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19321, 1555.08203, -1629.56653, 13.90680,   0.00000, 0.00000, 243.06000);
	CA_CreateObject_(874, 1541.58130, -1635.76453, 13.59180,   0.00000, 0.00000, 162.00020);
	CA_CreateObject_(874, 1551.96460, -1620.77490, 13.59180,   0.00000, 0.00000, 272.70016);
	CA_CreateObject_(874, 1561.04297, -1623.83569, 13.59180,   0.00000, 0.00000, 201.72014);
	CA_CreateObject_(874, 1564.48071, -1636.28381, 13.59180,   0.00000, 0.00000, 260.52017);
	CA_CreateObject_(874, 1542.90491, -1610.32678, 13.59180,   0.00000, 0.00000, 148.02007);
	CA_CreateObject_(874, 1586.33862, -1631.07239, 13.59180,   0.00000, 0.00000, 208.92015);
	CA_CreateObject_(874, 1583.05798, -1619.40088, 13.59180,   0.00000, 0.00000, 113.82015);
	CA_CreateObject_(874, 1590.23633, -1607.31091, 13.59180,   0.00000, 0.00000, 74.76015);
	CA_CreateObject_(874, 1600.42969, -1618.73376, 13.59180,   0.00000, 0.00000, 146.46016);
	CA_CreateObject_(874, 1592.97107, -1646.80090, 10.73580,   20.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1596.72668, -1661.27002, 6.87180,   15.00000, 0.00000, -26.40000);
	CA_CreateObject_(874, 1606.02002, -1674.79016, 5.55220,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1597.24768, -1682.27429, 5.55220,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1607.17786, -1691.57117, 5.55220,   0.00000, 0.00000, 4.56000);
	CA_CreateObject_(874, 1606.81848, -1705.34070, 5.55220,   0.00000, 0.00000, 4.56000);
	CA_CreateObject_(874, 1598.63513, -1714.98816, 5.55220,   0.00000, 0.00000, 72.48000);
	CA_CreateObject_(874, 1579.09070, -1714.56299, 5.55220,   0.00000, 0.00000, 72.48000);
	CA_CreateObject_(874, 1594.52295, -1696.94836, 5.55220,   0.00000, 0.00000, 4.50000);
	CA_CreateObject_(874, 1590.37207, -1707.42529, 5.55220,   0.00000, 0.00000, -97.79997);
	CA_CreateObject_(874, 1584.32190, -1681.53674, 5.55220,   0.00000, 0.00000, -53.75998);
	CA_CreateObject_(874, 1562.70178, -1713.03259, 5.55220,   0.00000, 0.00000, -53.75998);
	CA_CreateObject_(874, 1574.23975, -1702.38538, 5.55220,   0.00000, 0.00000, -76.85998);
	CA_CreateObject_(874, 1556.87805, -1695.61707, 5.55220,   0.00000, 0.00000, -111.05998);
	CA_CreateObject_(874, 1549.23950, -1708.05664, 5.55220,   0.00000, 0.00000, -81.35998);
	CA_CreateObject_(874, 1539.03491, -1696.41528, 5.55220,   0.00000, 0.00000, -133.13997);
	CA_CreateObject_(874, 1550.76416, -1680.13269, 5.55220,   0.00000, 0.00000, -32.39997);
	CA_CreateObject_(874, 1538.50378, -1680.91797, 5.55220,   0.00000, 0.00000, -79.55997);
	CA_CreateObject_(874, 1533.29175, -1669.12415, 5.55220,   0.00000, 0.00000, -37.97998);
	CA_CreateObject_(874, 1544.63806, -1664.25378, 5.55220,   0.00000, 0.00000, -4.67998);
	CA_CreateObject_(874, 1544.82104, -1647.58069, 5.55220,   0.00000, 0.00000, 133.86002);
	CA_CreateObject_(874, 1530.03723, -1652.98535, 5.55220,   0.00000, 0.00000, 236.52003);
	CA_CreateObject_(874, 1535.00256, -1642.24194, 5.55220,   0.00000, 0.00000, 199.62001);
	CA_CreateObject_(19321, 1598.49622, -1676.06702, 6.47780,   0.00000, 0.00000, 243.06000);
	CA_CreateObject_(8886, 1599.48486, -1707.48181, 8.20240,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1358, 1579.12036, -1709.21936, 6.14250,   0.00000, 0.00000, 41.70000);
	CA_CreateObject_(1358, 1539.78711, -1687.23157, 6.14250,   0.00000, 0.00000, 41.70000);
	CA_CreateObject_(939, 1578.62170, -1691.89844, 7.70440,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(939, 1553.87097, -1686.12988, 7.70830,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(939, 1527.54883, -1667.32532, 7.70830,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(2935, 1544.77954, -1704.29480, 6.26660,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(0, 1471.61743, -1686.08130, 14.43070,   0.00000, 0.00000, -44.28000);
	CA_CreateObject_(874, 1545.13721, -1662.87085, 13.97876,   0.00000, 0.00000, 503.94019);
	CA_CreateObject_(874, 1546.42004, -1688.36877, 13.97876,   0.00000, 0.00000, 355.74023);
	CA_CreateObject_(874, 1541.84338, -1707.97156, 13.97876,   0.00000, 0.00000, 349.86020);
	CA_CreateObject_(874, 1540.57117, -1645.00879, 13.97876,   0.00000, 0.00000, 533.28027);
	CA_CreateObject_(874, 1540.08374, -1676.67297, 13.14780,   0.00000, 0.00000, 531.06018);
	CA_CreateObject_(874, 1516.30847, -1748.22839, 14.43182,   0.00000, 0.00000, 303.00018);
	CA_CreateObject_(874, 1526.36340, -1748.38867, 14.43182,   0.00000, 0.00000, 366.96017);
	CA_CreateObject_(874, 1535.46191, -1746.29407, 14.43182,   0.00000, 0.00000, 465.36020);
	CA_CreateObject_(874, 1551.88049, -1749.32959, 14.43182,   0.00000, 0.00000, 378.18021);
	CA_CreateObject_(874, 1555.55750, -1761.54541, 14.43182,   0.00000, 0.00000, 310.98029);
	CA_CreateObject_(874, 1556.88916, -1745.44910, 14.43182,   0.00000, 0.00000, 394.50031);
	CA_CreateObject_(874, 1444.77734, -1746.85925, 14.43182,   0.00000, 0.00000, 95.82020);
	CA_CreateObject_(874, 1434.79968, -1748.05554, 14.43182,   0.00000, 0.00000, 235.44022);
	CA_CreateObject_(874, 1421.42090, -1748.33447, 14.43182,   0.00000, 0.00000, 277.14020);
	CA_CreateObject_(874, 1407.12744, -1749.09717, 14.43182,   0.00000, 0.00000, 155.16020);
	CA_CreateObject_(874, 1406.11426, -1761.89124, 14.43182,   0.00000, 0.00000, 177.12021);
	CA_CreateObject_(874, 1405.93750, -1816.87378, 14.43182,   0.00000, 0.00000, 177.12021);
	CA_CreateObject_(874, 1404.55432, -1831.87769, 13.87780,   0.00000, 0.00000, 188.94019);
	CA_CreateObject_(874, 1417.59338, -1832.49951, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1446.92773, -1832.19141, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1462.22229, -1831.93860, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1495.00146, -1831.63721, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1514.05823, -1831.88562, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1543.80676, -1831.77588, 13.87780,   0.00000, 0.00000, 70.62020);
	CA_CreateObject_(874, 1554.83105, -1828.48779, 13.87780,   0.00000, 0.00000, -9.35979);
	CA_CreateObject_(874, 1553.31824, -1817.74817, 13.87780,   0.00000, 0.00000, 165.18019);
	CA_CreateObject_(11293, 1449.83569, -1698.27393, 18.57600,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1501.54102, -1742.51025, 13.60080,   0.00000, 0.00000, 47.82020);
	CA_CreateObject_(874, 1481.21411, -1740.47827, 13.60080,   0.00000, 0.00000, 77.58021);
	CA_CreateObject_(874, 1461.99316, -1742.32922, 13.60080,   0.00000, 0.00000, 92.52023);
	CA_CreateObject_(874, 1487.08228, -1752.84351, 15.26280,   0.00000, 0.00000, 77.58020);
	CA_CreateObject_(874, 1472.29053, -1753.98767, 15.26280,   0.00000, 0.00000, 77.58020);
	CA_CreateObject_(3632, 1463.67566, -1749.03162, 14.98880,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18689, 1463.67566, -1749.03162, 14.43480,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3632, 1492.52173, -1697.00989, 14.09900,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18689, 1492.52173, -1697.00989, 13.54500,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1440, 1446.12207, -1610.11609, 13.56381,   0.00000, 0.00000, 29.76000);
	CA_CreateObject_(1440, 1538.49670, -1615.65247, 13.10196,   0.00000, 0.00000, -88.98001);
	CA_CreateObject_(874, 1575.20422, -1720.91577, 13.68024,   0.00000, 0.00000, 623.58002);
	CA_CreateObject_(1440, 1558.90369, -1715.76953, 13.11995,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(874, 1558.86682, -1721.67737, 13.68024,   0.00000, 0.00000, 801.11987);
	CA_CreateObject_(1227, 1552.94897, -1776.50745, 13.36010,   0.00000, 0.00000, 87.84000);
	CA_CreateObject_(1415, 1552.96960, -1794.09424, 12.80610,   0.00000, 0.00000, 88.91998);
	CA_CreateObject_(1227, 1552.96594, -1779.51941, 13.36010,   0.00000, 0.00000, 68.10001);
	CA_CreateObject_(874, 1555.87622, -1789.02002, 13.41320,   0.00000, 0.00000, 177.66031);
	CA_CreateObject_(3593, 1426.81897, -1704.51526, 12.84616,   0.00000, 0.00000, 82.62000);
	CA_CreateObject_(3594, 1426.94165, -1701.01379, 13.22350,   10.00000, 0.00000, 183.84000);
	CA_CreateObject_(3593, 1434.79761, -1712.25659, 12.89013,   0.00000, 0.00000, 134.93996);
	CA_CreateObject_(3594, 1421.02197, -1657.22546, 12.89010,   0.00000, 0.00000, 219.17990);
	CA_CreateObject_(1450, 1432.26270, -1712.34094, 12.94936,   0.00000, 0.00000, -125.94002);
	CA_CreateObject_(874, 1417.52063, -1672.94055, 13.82222,   0.00000, 0.00000, 169.98016);
	CA_CreateObject_(874, 1417.52759, -1714.85950, 13.80242,   0.00000, 0.00000, 188.16019);
	CA_CreateObject_(1372, 1419.39050, -1614.42297, 12.53654,   0.00000, 0.00000, 89.39999);
	CA_CreateObject_(1372, 1419.51929, -1612.37207, 12.53654,   0.00000, 0.00000, 111.05999);
	CA_CreateObject_(874, 1415.44421, -1604.96265, 13.87780,   0.00000, 0.00000, 476.82010);
	CA_CreateObject_(639, 1580.63586, -1758.13660, 8.83478,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(639, 1580.67200, -1752.19641, 8.83478,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(639, 1678.96521, -1769.60620, 9.34349,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(639, 1679.04919, -1775.16370, 9.34349,   0.00000, 0.00000, 178.56000);
	CA_CreateObject_(639, 1678.99487, -1780.94409, 9.34349,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(639, 1679.08716, -1784.94800, 9.34349,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3593, 1551.23730, -1721.56702, 13.08240,   0.00000, 0.00000, 111.24000);
	CA_CreateObject_(3594, 1580.67651, -1769.59705, 12.99620,   0.00000, 0.00000, -122.16000);
	CA_CreateObject_(3594, 1585.13867, -1770.26245, 13.27320,   -10.00000, 0.00000, -75.66000);
	CA_CreateObject_(811, 1415.40955, -1721.76477, 13.37650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(811, 1439.73486, -1709.88098, 13.37650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(811, 1418.74817, -1681.72595, 13.37650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(811, 1419.90918, -1660.24097, 13.37650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3593, 1550.50256, -1877.04285, 12.99620,   0.00000, 0.00000, 158.45990);
	CA_CreateObject_(3594, 1546.97937, -1875.08850, 13.27320,   -10.00000, 0.00000, 81.53990);
	CA_CreateObject_(874, 1567.58447, -1891.29480, 13.32380,   0.00000, 0.00000, 165.18021);
	CA_CreateObject_(874, 1568.55957, -1879.41541, 13.32380,   0.00000, 0.00000, 71.04021);
	CA_CreateObject_(3632, 1548.17786, -1877.73560, 13.09780,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18689, 1548.17786, -1877.73560, 12.54380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18862, 1563.55859, -1863.95459, 15.30320,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18862, 1515.01367, -1718.26465, 15.56980,   0.00000, 0.00000, 30.84000);
	CA_CreateObject_(18862, 1441.52087, -1674.20422, 14.99310,   0.00000, 0.00000, -22.92000);
	CA_CreateObject_(18862, 1408.92419, -1589.00488, 15.05730,   0.00000, 0.00000, 21.18000);
	CA_CreateObject_(2935, 1559.45654, -1567.08618, 13.92260,   0.00000, 0.00000, 31.98000);
	CA_CreateObject_(2934, 1564.71289, -1574.95581, 13.92260,   0.00000, 0.00000, -9.30000);
	CA_CreateObject_(874, 1561.12988, -1573.16235, 13.03780,   0.00000, 0.00000, 330.72009);
	CA_CreateObject_(18862, 1682.70911, -1754.16394, 16.13310,   0.00000, 0.00000, 70.26000);
	CA_CreateObject_(3594, 1676.09338, -1748.05652, 13.22350,   0.00000, 15.00000, 124.02000);
	CA_CreateObject_(3593, 1674.03149, -1747.46887, 13.77750,   -20.00000, 0.00000, 59.40000);
	CA_CreateObject_(19302, 1575.36487, -1636.19202, 12.65140,   90.00000, 0.00000, 43.80000);
	CA_CreateObject_(18862, 1369.93457, -1653.67627, 16.20240,   0.00000, 0.00000, 22.74000);
	CA_CreateObject_(3594, 1380.10181, -1663.88757, 12.92500,   0.00000, 0.00000, -34.68000);


	/// postos de gasolina ///
	CA_CreateObject_(3287, 1933.74426, -1785.37964, 15.13792,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(3287, 1013.50610, -931.96283, 43.81488,   0.00000, 0.00000, 7.38000);
	CA_CreateObject_(3287, -82.13990, -1161.10669, 3.73670,   0.00000, 0.00000, 65.70000);
	CA_CreateObject_(3287, -1327.81091, 2698.09912, 51.33260,   0.00000, 0.00000, 28.56000);
	CA_CreateObject_(3287, -1459.50562, 1870.28906, 33.89980,   0.00000, 0.00000, 4.20000);
	CA_CreateObject_(3287, -1614.25061, -2696.39282, 49.80240,   0.00000, 0.00000, -34.44000);
	CA_CreateObject_(3287, -1676.04712, 437.33130, 8.45390,   0.00000, 0.00000, 45.06000);
	CA_CreateObject_(3287, -2235.36597, -2568.71387, 33.19220,   0.00000, 0.00000, 60.54000);
	CA_CreateObject_(3287, -2425.14453, 990.73712, 46.56240,   0.00000, 0.00000, 89.34000);
	CA_CreateObject_(3287, 1396.60925, 457.18481, 21.44360,   0.00000, 0.00000, -114.24000);
	CA_CreateObject_(3287, 634.78680, 1679.68481, 8.25860,   0.00000, 0.00000, 40.86000);
	CA_CreateObject_(3287, 662.21674, -579.86707, 17.60110,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(3287, 1591.53516, 2213.86987, 12.08700,   0.00000, 0.00000, 88.80000);
	CA_CreateObject_(3287, 2124.30566, 906.29657, 12.08530,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3287, 2133.24731, 2734.98462, 12.07160,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3287, 2185.78418, 2485.91650, 12.08410,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(3287, 2641.60938, 1084.28064, 12.07510,   0.00000, 0.00000, 90.00000);

	// mercado negro //
	CA_CreateObject_(3383, 293.50165, -30.63919, 1000.43054,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(19448, 293.39865, -29.59415, 1001.51288,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(2358, 291.99719, -30.33656, 1001.61316,   356.85840, 0.00000, -3.11974);
	CA_CreateObject_(2358, 292.91116, -30.43750, 1001.61316,   356.85840, 0.00000, -26.33974);
	CA_CreateObject_(2358, 292.46445, -30.38754, 1001.85431,   356.85840, 0.00000, -3.11974);
	CA_CreateObject_(355, 294.84512, -30.83253, 1001.56702,   90.00000, 0.00000, 155.39999);
	CA_CreateObject_(356, 294.02750, -30.28336, 1001.56702,   90.00000, 0.00000, 215.27991);
	CA_CreateObject_(353, 294.71442, -31.42903, 1001.56702,   90.00000, 0.00000, 119.81994);
	CA_CreateObject_(351, 294.06586, -30.79832, 1001.56702,   90.00000, 0.00000, 240.72003);
	CA_CreateObject_(348, 294.35300, -31.14941, 1001.56702,   90.00000, 0.00000, 216.11990);
	CA_CreateObject_(19773, 292.58783, -30.68402, 1001.47552,   0.00000, 90.00000, 110.04005);
	CA_CreateObject_(2034, 291.98911, -30.68110, 1001.50488,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2035, 292.06281, -31.02247, 1001.50488,   0.00000, 0.00000, -12.72000);
	CA_CreateObject_(2036, 292.68744, -31.27115, 1001.50488,   0.00000, 0.00000, 7.86000);
	CA_CreateObject_(2044, 292.92068, -30.88390, 1001.50488,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2358, 294.98883, -30.28371, 1001.61316,   356.85840, 0.00000, -18.05974);
	CA_CreateObject_(2358, 294.98880, -30.28370, 1001.85321,   356.85840, 0.00000, 0.66030);

	// mapa da boate removida //
	CA_CreateObject_(19538, 1861.18762, -1682.20972, 12.37920,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18981, 1840.93774, -1683.78943, 11.92250,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1865.76575, -1684.65906, 11.92250,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1890.68176, -1687.16406, 11.92250,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1914.20691, -1687.16760, 11.92850,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1921.86536, -1687.16846, 11.92250,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1879.97192, -1708.77173, 11.92050,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1879.98511, -1726.56799, 11.92850,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18981, 1879.99219, -1733.97839, 11.92050,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19495, 1924.30115, -1707.94495, 16.80340,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19496, 1924.30115, -1707.94495, 16.80340,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19493, 1914.96667, -1707.66870, 17.19140,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19494, 1914.96667, -1707.66870, 17.19140,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19499, 1901.57617, -1714.03784, 15.84430,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(19495, 1897.34351, -1733.59778, 16.80340,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19381, 1915.36182, -1722.96130, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1915.33093, -1713.38562, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1925.65491, -1722.83325, 12.32000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1925.63098, -1713.27136, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1925.65454, -1703.90771, 12.32000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1915.54370, -1704.34753, 12.31800,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18766, 1931.16956, -1723.58374, 12.45440,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1931.15649, -1713.70508, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1931.15808, -1704.66394, 12.45440,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1897.65698, -1737.61609, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1908.12891, -1737.64368, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1914.87256, -1732.33533, 12.35600,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1918.52539, -1738.15527, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1927.07288, -1738.13599, 12.35800,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19507, 1922.89417, -1731.22253, 14.84570,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1931.15540, -1733.47620, 12.45440,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1931.13098, -1737.35913, 12.45040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1925.55762, -1731.13574, 12.35000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1918.28601, -1732.09998, 12.35400,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19511, 1909.45459, -1735.51782, 14.49370,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19512, 1909.45459, -1735.51782, 14.49370,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19496, 1897.34351, -1733.59778, 16.80340,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1910.05005, -1723.48877, 12.43640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1914.55566, -1718.93433, 12.44440,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3035, 1895.41504, -1739.45105, 13.21420,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3035, 1897.81982, -1739.39539, 13.21420,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3035, 1900.39575, -1739.34155, 13.21420,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19500, 1901.57617, -1714.03784, 15.84430,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(18766, 1926.46265, -1718.94580, 12.45240,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1909.46375, -1699.74182, 10.13407,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1910.66675, -1704.38904, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1919.25073, -1704.40308, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1929.98596, -1699.81335, 10.13407,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1919.26807, -1699.79163, 10.09410,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1893.77356, -1699.70508, 10.09410,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1927.99695, -1742.42761, 13.62370,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1916.19287, -1742.42273, 13.62370,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1915.30334, -1739.63770, 13.62370,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1915.31458, -1732.22278, 13.53270,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1915.30359, -1724.12683, 13.53270,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1910.67383, -1716.48767, 13.53270,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1904.97852, -1742.41785, 13.62370,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1893.57495, -1742.43127, 10.09410,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1892.32959, -1741.03870, 10.09410,   90.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1892.33496, -1738.69897, 10.09410,   90.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1931.48364, -1696.99243, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19499, 1922.40991, -1660.24390, 15.84430,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19500, 1922.40991, -1660.24390, 15.84430,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1931.38574, -1679.36548, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19503, 1897.65466, -1661.93811, 15.26387,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19504, 1897.65466, -1661.93811, 15.26390,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1887.43140, -1674.73816, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1900.22192, -1674.70825, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1914.21484, -1674.79163, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1913.32617, -1671.98352, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1913.32996, -1664.56494, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1913.34973, -1657.56323, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1913.35522, -1651.01843, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1930.00269, -1674.74158, 10.13407,   90.00000, 0.00000, 90.00000);
	CA_CreateObject_(19508, 1922.89417, -1731.22253, 14.84570,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(3035, 1929.66016, -1739.08350, 13.21420,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1915.27319, -1728.00623, 13.53270,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19497, 1844.92676, -1708.90576, 14.73290,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19495, 1864.21558, -1698.90552, 16.89440,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(19499, 1843.78552, -1732.59546, 15.84430,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19500, 1843.78552, -1732.59546, 15.84430,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19496, 1864.21558, -1698.90552, 16.89440,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(19511, 1864.21448, -1709.37256, 15.34800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1867.76953, -1698.75940, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1867.75452, -1708.33435, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1867.77698, -1717.95764, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19512, 1864.21448, -1709.37256, 15.34800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1857.26538, -1717.96619, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(8167, 1870.30908, -1694.05750, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1872.92139, -1698.42188, 10.12772,   90.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1870.28748, -1698.78369, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1872.98022, -1705.00720, 10.12772,   90.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1870.32703, -1703.92627, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1872.93616, -1714.47009, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19381, 1867.79382, -1727.57849, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1867.83447, -1738.75598, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1867.83057, -1735.95740, 12.35600,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19507, 1865.98169, -1734.05396, 14.84570,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(19381, 1863.03235, -1727.18152, 12.35800,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1863.42749, -1739.49902, 12.35800,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1863.72559, -1734.60205, 12.36000,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19508, 1865.98169, -1734.05396, 14.84570,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(8167, 1862.94543, -1741.91687, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1870.38318, -1741.89880, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1873.01709, -1740.49536, 10.12772,   90.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1872.97449, -1728.91003, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1870.31836, -1728.19409, 13.50750,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19510, 1864.86877, -1721.23743, 15.14750,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19509, 1864.86877, -1721.23743, 15.14750,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(18766, 1857.77026, -1718.88586, 10.52340,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(8167, 1858.12439, -1719.14270, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1858.13245, -1726.57117, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19381, 1914.87256, -1732.33533, 12.35600,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(18766, 1832.14539, -1627.32617, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1832.11938, -1637.28870, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1832.11646, -1647.26453, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1832.11768, -1657.24109, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1832.10974, -1667.24146, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1837.64783, -1622.83008, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1847.62573, -1622.83618, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1857.62634, -1622.83569, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1837.62146, -1671.75793, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1877.80859, -1622.82080, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1882.31226, -1628.33179, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1882.31958, -1638.32361, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1882.31665, -1648.32080, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1882.31238, -1658.28638, 12.45640,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1882.34705, -1665.61389, 12.45440,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1882.31836, -1667.22192, 12.45240,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(18766, 1857.50488, -1671.77124, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1867.43152, -1671.75220, 12.45640,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18766, 1877.36975, -1671.74817, 12.45440,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1882.65466, -1671.92664, 13.50750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1831.62280, -1694.74756, 13.10750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(8167, 1831.57166, -1672.99927, 13.10750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(967, 1843.38660, -1671.50635, 12.40650,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(967, 1872.04248, -1623.06775, 12.40650,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19868, 1885.39026, -1622.40125, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1890.59949, -1622.36450, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1895.91223, -1622.31201, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1901.17297, -1622.28784, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1906.41687, -1622.29785, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1911.69202, -1622.26636, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1916.94604, -1622.25916, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1922.21057, -1622.25537, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1929.06042, -1622.36462, 12.37039,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19868, 1931.64014, -1624.98877, 12.37040,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19868, 1931.65918, -1630.25269, 12.37040,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19868, 1931.59412, -1634.71094, 12.37040,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19868, 1931.67102, -1639.86169, 12.37040,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19868, 1931.66040, -1643.23779, 12.37040,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19868, 1929.06592, -1645.81262, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1923.80176, -1645.83826, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1918.52197, -1645.84094, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1913.24146, -1645.82886, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1907.92175, -1645.83386, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1902.61658, -1645.79968, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1897.33667, -1645.81250, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1892.05603, -1645.81152, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1888.52942, -1645.83459, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1885.00208, -1645.83899, 12.37040,   0.00000, 0.00000, -180.00000);
	CA_CreateObject_(19868, 1882.85962, -1643.59741, 12.37040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19868, 1882.83704, -1638.49426, 12.37040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19868, 1882.83911, -1633.40625, 12.37040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19868, 1882.83167, -1628.34229, 12.37040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19868, 1882.82483, -1625.03320, 12.37040,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(4597, 1862.42590, -1660.99744, 11.94780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1862.18213, -1650.02625, 11.94780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1862.10474, -1639.59058, 11.94780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1851.38721, -1633.53467, 11.94780,   0.00000, -0.26400, 180.00000);
	CA_CreateObject_(4597, 1851.57544, -1644.04016, 11.94780,   0.00000, -0.26400, 180.00000);
	CA_CreateObject_(4597, 1851.47705, -1654.71301, 11.94780,   0.00000, -0.26400, 180.00000);
	CA_CreateObject_(1290, 1857.55750, -1668.92517, 18.15156,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1290, 1833.57422, -1643.99219, 18.15160,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1290, 1857.37317, -1624.94800, 18.15156,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1290, 1881.31531, -1649.56592, 18.15160,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1283, 1878.09326, -1698.53357, 15.60156,   3.14159, 0.00000, 0.00000);
	CA_CreateObject_(1283, 1882.93066, -1679.73474, 15.60160,   3.14160, 0.00000, 90.00000);
	CA_CreateObject_(4597, 1913.12207, -1686.85437, 11.98780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1885.35364, -1686.80835, 11.98780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1829.35291, -1681.64807, 11.98780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1855.43994, -1682.09753, 11.98780,   0.00000, -0.26400, 0.00000);
	CA_CreateObject_(4597, 1881.27551, -1725.32800, 11.98780,   0.00000, -0.26400, -90.00000);
	CA_CreateObject_(4597, 1881.26868, -1702.08411, 11.98780,   0.00000, -0.26400, -90.00000);
	CA_CreateObject_(1226, 1842.84229, -1691.73926, 16.14197,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1226, 1861.73975, -1692.15588, 16.14197,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1226, 1893.86047, -1697.79077, 16.14197,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1226, 1917.89453, -1697.83777, 16.14197,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1226, 1913.52295, -1676.42603, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1889.79858, -1676.13721, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1871.42590, -1673.95593, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1853.18042, -1674.05212, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1874.43652, -1710.18835, 16.14200,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(1226, 1874.58301, -1729.59277, 16.14200,   0.00000, 0.00000, 180.00000);
	CA_CreateObject_(1226, 1890.66248, -1728.19775, 16.14200,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1226, 1890.54871, -1708.42493, 16.14200,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3459, 1892.49048, -1699.70764, 19.63659,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3459, 1882.11182, -1671.68762, 19.63659,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3459, 1931.41077, -1699.89099, 19.63659,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3459, 1831.97900, -1671.80432, 19.63659,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(17513, 1910.78638, -1633.02991, 4.40990,   0.00000, 0.00000, 269.87991);
	CA_CreateObject_(19381, 1887.73779, -1640.95801, 12.38390,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1887.75610, -1631.33118, 12.38390,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1887.72546, -1622.96436, 12.37790,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1928.97717, -1626.74304, 12.44790,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1928.97583, -1636.17224, 12.45390,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1928.99951, -1641.48999, 12.44790,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(946, 1894.61682, -1634.67224, 14.54396,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(946, 1922.00037, -1634.77185, 14.54400,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1920.14026, -1623.55310, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1899.41821, -1623.47278, 16.14200,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(1226, 1899.60901, -1644.51880, 16.14200,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(1226, 1919.17993, -1644.41736, 16.14200,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(18981, 1890.38879, -1684.23816, 11.88250,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19325, 1862.87305, -1740.57214, 13.12072,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1867.61987, -1740.55835, 13.12072,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1859.52478, -1731.84814, 13.12070,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1871.05981, -1737.49402, 13.94539,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1850.21960, -1730.43994, 13.00944,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1846.83594, -1739.63525, 13.75140,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1838.79761, -1739.66431, 13.75140,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19498, 1844.92676, -1708.90576, 14.73290,   0.00000, 0.00000, -90.06000);
	CA_CreateObject_(19325, 1834.27673, -1713.18274, 13.52470,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1841.01575, -1707.15405, 14.69219,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1849.19580, -1704.48096, 14.86045,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1853.44006, -1704.43201, 14.86045,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1845.02344, -1726.48450, 13.75140,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1871.07080, -1730.16467, 13.72833,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1868.38879, -1723.90125, 14.76633,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1868.36072, -1718.54102, 14.76633,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1870.18494, -1712.41614, 14.88362,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1867.56726, -1708.26099, 14.88362,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19511, 1864.21448, -1709.37256, 15.34800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1863.25195, -1704.27661, 13.75510,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1858.33740, -1710.27527, 13.99120,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1846.11060, -1718.49878, 13.55446,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1869.10999, -1701.90320, 16.25257,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1869.13000, -1701.90320, 17.43230,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1870.22058, -1698.63428, 17.07392,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1870.21985, -1696.39429, 17.07390,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1858.26379, -1696.08398, 16.81063,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1858.25037, -1702.28552, 16.81063,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1858.25061, -1700.04639, 16.81060,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1858.21887, -1700.13818, 13.03331,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1907.59045, -1715.37390, 13.10322,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1894.58875, -1716.49438, 13.10322,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1904.25562, -1720.41980, 13.10320,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1917.69446, -1702.46985, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1915.45386, -1702.46875, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1913.05481, -1702.48730, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1917.73547, -1713.37305, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1915.49500, -1713.37244, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1912.97766, -1713.29175, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1917.95703, -1713.31824, 13.99781,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1915.72144, -1713.31653, 13.99780,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1913.80835, -1713.34363, 13.99780,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1914.23120, -1703.01270, 14.25247,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1923.58704, -1701.90540, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1921.34558, -1701.90662, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1927.24426, -1703.02026, 16.97800,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1927.24231, -1703.02234, 16.17060,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1925.58142, -1713.86438, 12.69015,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1927.64282, -1713.93945, 16.71377,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1925.40332, -1713.93884, 16.71380,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1921.68079, -1713.92712, 16.71380,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1928.86108, -1733.85107, 13.79298,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1926.78796, -1736.31787, 13.75469,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1919.43884, -1736.33862, 13.75469,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1916.35217, -1732.90479, 12.91701,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1916.34460, -1728.89307, 13.94206,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1916.34460, -1728.89307, 13.94206,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1916.38916, -1726.33728, 13.94206,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1925.18823, -1724.81738, 13.21130,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1906.41406, -1741.47192, 14.18960,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1910.61230, -1738.90820, 14.18960,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1914.57056, -1734.72412, 12.93234,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1910.56201, -1729.63159, 14.22501,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1907.05444, -1729.56128, 14.22501,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19466, 1892.41479, -1730.62341, 16.12867,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1892.41077, -1730.61536, 17.28490,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1891.34326, -1733.89453, 16.94650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1891.34314, -1736.13354, 16.94650,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.29944, -1730.27954, 16.66791,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.29968, -1732.51990, 16.66790,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.32678, -1736.36035, 16.66790,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.28210, -1730.25671, 13.93428,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.28064, -1732.49683, 13.93430,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19466, 1903.30640, -1735.11743, 13.93430,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1890.24194, -1671.07764, 13.80085,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1887.97180, -1671.07544, 13.80090,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1889.00391, -1653.98450, 13.80090,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1897.57117, -1654.01514, 13.80090,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19325, 1884.80481, -1668.05664, 13.64097,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1884.79004, -1661.69043, 13.64097,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1929.40723, -1658.03625, 13.24514,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19325, 1916.30225, -1659.01917, 13.24353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1290, 1852.13757, -1681.61902, 18.15156,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1290, 1908.63013, -1686.80103, 18.15156,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1290, 1881.07678, -1723.72559, 18.15160,   0.00000, 0.00000, 90.00000);

	// shoping //
	CA_CreateObject_(19322, 1117.58594, -1490.00781, 32.72759,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19323, 1117.58594, -1490.00781, 32.72760,   0.00000, 0.00000, 0.00000);

	// mapa aberto novo //
	CA_CreateObject_(19506, 1356.67651, -1766.88123, 14.38610,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19505, 1356.67651, -1766.88123, 14.38610,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19492, 1343.37366, -1766.28967, 17.34422,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19491, 1343.37366, -1766.28967, 17.34420,   0.00000, 0.00000, -90.00000);
	CA_CreateObject_(19504, 1824.23962, -1407.00635, 15.44510,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19503, 1824.23962, -1407.00635, 15.44510,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1813.35461, -1427.13647, 12.50350,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1813.31384, -1436.77026, 12.50350,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1814.26074, -1445.14343, 12.48350,   0.00000, 90.00000, -10.20000);
	CA_CreateObject_(19381, 1808.09814, -1426.63867, 12.48350,   0.00000, 90.00000, -47.76000);
	CA_CreateObject_(19381, 1802.68616, -1431.47729, 12.44350,   0.00000, 90.00000, -47.76000);
	CA_CreateObject_(19381, 1790.20251, -1438.85498, 12.44350,   0.00000, 90.00000, -20.10000);
	CA_CreateObject_(19381, 1797.38147, -1436.27649, 12.48350,   0.00000, 90.00000, -47.76000);
	CA_CreateObject_(19381, 1800.18494, -1442.11462, 12.44350,   0.00000, 90.00000, -20.10000);
	CA_CreateObject_(19381, 1804.70654, -1440.13184, 12.52350,   0.00000, 90.00000, 20.22001);
	CA_CreateObject_(19381, 1807.37415, -1443.87012, 12.50350,   0.00000, 90.00000, -10.20000);
	CA_CreateObject_(19599, 1825.04175, -1443.08508, 15.04790,   0.00000, 0.00000, 90.00000);
	CA_CreateObject_(19381, 1823.86597, -1446.02246, 12.50350,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1831.62781, -1446.06543, 12.48350,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1831.63574, -1436.45837, 12.48350,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1831.66736, -1426.93323, 12.48150,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(5400, 1778.01978, -1402.90210, 12.60272,   356.85840, 0.00000, -47.58000);
	CA_CreateObject_(1294, 1814.52295, -1430.66382, 16.89287,   3.14159, 0.00000, 37.69080);
	CA_CreateObject_(1294, 1793.77197, -1439.05945, 16.89287,   3.14159, 0.00000, -136.78918);
	CA_CreateObject_(673, 1832.06445, -1449.21191, 12.01286,   356.85840, 0.00000, -1.57080);
	CA_CreateObject_(673, 1813.85547, -1447.64282, 12.01286,   356.85840, 0.00000, -1.57080);
	CA_CreateObject_(673, 1787.28760, -1441.00940, 12.01286,   356.85840, 0.00000, -1.57080);
	CA_CreateObject_(673, 1810.35291, -1422.70386, 12.01286,   356.85840, 0.00000, -1.57080);
	CA_CreateObject_(19381, 1821.55725, -1426.96155, 12.47950,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19381, 1822.06433, -1436.47925, 12.47950,   0.00000, 90.00000, 0.00000);
	CA_CreateObject_(19598, 1825.04175, -1443.08508, 15.04790,   0.00000, 0.00000, 90.00000);

	// mapa do rd //
	CA_CreateObject_(14400, 2000.04810, -2554.84399, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2014.29639, -2541.59009, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1988.91870, -2531.29175, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1997.05884, -2541.19727, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2035.84790, -2521.22217, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2037.00281, -2536.16968, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2038.37183, -2559.19531, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2028.02271, -2544.77686, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2017.06543, -2560.52539, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1984.86328, -2564.94946, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2009.77722, -2522.25903, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1968.05774, -2514.60791, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1974.68164, -2533.52588, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1977.08789, -2548.57349, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1954.01672, -2555.50684, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1944.38367, -2529.08691, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1955.47607, -2537.54663, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(694, 1942.69653, -2545.83130, -2.30336,   -1.14000, -18.36000, 0.00000);
	CA_CreateObject_(694, 1994.22034, -2527.97705, -2.30336,   -0.60000, -5.94000, 0.00000);
	CA_CreateObject_(694, 2037.84229, -2552.18799, -2.30336,   -0.12000, -2.46000, 0.00000);
	CA_CreateObject_(694, 1819.42163, -2561.39673, -2.30336,   0.12000, -2.22000, 0.00000);
	CA_CreateObject_(14400, 1784.93945, -2558.35083, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1816.45422, -2529.26270, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1775.68945, -2539.65479, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1731.46277, -2535.29980, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1753.11267, -2554.11450, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1776.76062, -2523.38330, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1710.78577, -2552.31567, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1830.60583, -2555.31763, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1810.65161, -2567.05737, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1751.50305, -2527.92114, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1795.62048, -2535.91382, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1802.61121, -2559.55200, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(694, 1763.71814, -2535.80322, -2.30336,   -6.66000, -7.38000, 0.00000);
	CA_CreateObject_(694, 1692.69812, -2532.36865, -2.30336,   -0.48000, -8.64000, 0.00000);
	CA_CreateObject_(694, 1806.97192, -2522.37183, -2.30336,   -0.36000, -4.20000, 0.00000);
	CA_CreateObject_(694, 1442.74670, -2542.98169, -2.30336,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1617.05969, -2528.13696, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1445.65112, -2523.11011, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1553.77478, -2545.33862, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1546.93005, -2564.56445, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1562.45203, -2518.29565, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1582.06018, -2544.01636, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1597.90210, -2533.52466, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1575.95313, -2559.05371, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1513.35266, -2552.71802, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1468.82007, -2548.35913, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1493.96838, -2528.88232, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(694, 1546.27417, -2532.57202, -2.30336,   -0.36000, -12.24000, 0.00000);
	CA_CreateObject_(694, 1486.41003, -2551.92896, -2.30336,   -5.88000, -30.36000, 0.00000);
	CA_CreateObject_(694, 1614.71558, -2558.27783, -2.30336,   -0.30000, -6.24000, 0.00000);
	CA_CreateObject_(10757, 1939.43628, -2336.65381, 13.79986,   2.64000, 22.43999, 0.00000);
	CA_CreateObject_(18723, 1948.24792, -2338.16138, 11.69825,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3269, 1917.18652, -2380.40137, 12.17810,   0.00000, 0.00000, -90.24000);
	CA_CreateObject_(3269, 1953.79041, -2449.07593, 12.17810,   0.00000, 0.00000, -90.24000);
	CA_CreateObject_(3269, 1946.03772, -2412.73779, 12.17810,   0.00000, 0.00000, -262.67999);
	CA_CreateObject_(3269, 1831.70923, -2437.31006, 12.17810,   0.00000, 0.00000, -90.24000);
	CA_CreateObject_(3270, 1968.37195, -2360.66504, 12.53552,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3270, 1960.06140, -2292.24756, 12.53552,   0.00000, 0.00000, 65.99999);
	CA_CreateObject_(3270, 1915.90442, -2296.46704, 12.53552,   0.00000, 0.00000, 65.99999);
	CA_CreateObject_(3268, 1966.59509, -2501.67383, 12.34725,   0.00000, 0.00000, 269.93997);
	CA_CreateObject_(3268, 2032.37048, -2502.05493, 12.32726,   0.00000, 0.00000, 269.94003);
	CA_CreateObject_(3268, 1811.50684, -2501.69873, 12.46278,   0.00000, 0.00000, 270.42001);
	CA_CreateObject_(694, 1764.13306, -2548.46704, 3.67377,   -29.40000, -79.32000, 0.00000);
	CA_CreateObject_(3268, 1733.39197, -2502.05835, 12.46278,   0.00000, 0.00000, 270.42001);
	CA_CreateObject_(3268, 1519.97571, -2502.26099, 12.46278,   0.00000, 0.00000, 270.42001);
	CA_CreateObject_(3268, 1584.25598, -2502.29932, 12.46278,   0.00000, 0.00000, 270.42001);
	CA_CreateObject_(5132, 2037.91150, -2497.74438, 12.59422,   0.00000, 0.00000, -91.25999);
	CA_CreateObject_(5259, 2028.66443, -2496.20435, 10.08134,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3630, 1979.51990, -2499.63989, 13.74942,   0.00000, 0.00000, 89.94001);
	CA_CreateObject_(3630, 1971.18091, -2499.24780, 13.74942,   0.00000, 0.00000, 89.94001);
	CA_CreateObject_(3630, 1963.52209, -2499.20386, 13.74942,   0.00000, 0.00000, 89.94001);
	CA_CreateObject_(3630, 1960.40674, -2499.21069, 13.74942,   0.00000, 0.00000, 89.94001);
	CA_CreateObject_(3630, 1967.55774, -2492.71289, 13.74942,   0.00000, 0.00000, -180.54007);
	CA_CreateObject_(1800, 1825.61145, -2495.34351, 12.54339,   0.00000, 0.00000, 87.23999);
	CA_CreateObject_(1800, 1825.69556, -2497.62183, 12.54339,   0.00000, 0.00000, 87.23999);
	CA_CreateObject_(1800, 1825.70496, -2500.46436, 12.54339,   0.00000, 0.00000, 87.23999);
	CA_CreateObject_(1800, 1825.95227, -2504.07690, 12.54339,   0.00000, 0.00000, 116.69998);
	CA_CreateObject_(1800, 1825.80457, -2502.05957, 12.97532,   -0.12000, -86.33998, -8.22001);
	CA_CreateObject_(1369, 1816.80652, -2501.95508, 13.08700,   0.00000, 0.00000, -136.80000);
	CA_CreateObject_(2907, 1816.84509, -2502.03467, 13.38650,   287.00000, -58.00000, -6.00000);
	CA_CreateObject_(2908, 1816.79407, -2502.11792, 13.86605,   -118.46001, 96.54002, 68.89999);
	CA_CreateObject_(2906, 1816.61829, -2502.05688, 13.39400,   -32.98000, 164.72003, 36.30000);
	CA_CreateObject_(2905, 1816.65442, -2501.61523, 13.15955,   4.44000, 126.66000, 50.51999);
	CA_CreateObject_(2905, 1815.61780, -2501.36255, 12.61344,   6.78000, 58.86002, 50.51999);
	CA_CreateObject_(2906, 1817.22437, -2501.44019, 12.55435,   0.00000, 4.00000, 36.00000);
	CA_CreateObject_(3092, 1823.98511, -2505.14185, 13.43911,   -268.55997, 170.25999, -50.00001);
	CA_CreateObject_(2908, 1824.64368, -2504.70557, 13.57930,   -18.06000, 80.04000, 96.78000);
	CA_CreateObject_(19944, 1804.00037, -2500.92554, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1804.37244, -2503.31445, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1800.43384, -2505.39893, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1800.77307, -2503.10596, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1800.24585, -2501.12964, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1800.58264, -2498.83765, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1804.38330, -2498.76538, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1804.00037, -2500.92554, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19944, 1802.78772, -2496.75317, 12.54254,   0.00000, 0.00000, 91.62000);
	CA_CreateObject_(19903, 1807.07043, -2510.34790, 12.54545,   0.00000, 0.00000, 47.04000);
	CA_CreateObject_(14400, 1907.08093, -2359.81812, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1910.89368, -2408.85693, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1871.17822, -2434.48022, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1894.82690, -2401.52222, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1888.34473, -2383.20264, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1924.70996, -2401.26001, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1938.95288, -2438.01709, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1965.83728, -2427.12061, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1904.70850, -2428.59473, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1905.69373, -2451.99927, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1864.05042, -2391.26660, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1926.21497, -2456.91284, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1939.65613, -2390.42578, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1946.92615, -2356.77295, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1972.88342, -2319.92261, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1956.74158, -2377.46216, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1880.35596, -2352.15039, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1954.89355, -2278.31348, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1920.35205, -2282.32422, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1894.89050, -2304.98901, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1937.43872, -2316.50757, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1945.75330, -2329.46021, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1937.10681, -2297.90918, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1929.27600, -2354.02612, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1909.05176, -2336.50977, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1938.24597, -2271.86743, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1986.34766, -2305.15381, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1920.40845, -2325.34546, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1960.07886, -2320.24243, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1945.15503, -2307.83496, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1905.68481, -2315.73462, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1884.76331, -2289.40869, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1934.45459, -2287.72266, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1919.91650, -2268.31885, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1896.31580, -2275.27466, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1935.85132, -2254.17725, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1972.02197, -2283.74170, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1964.13989, -2248.07227, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1978.98621, -2265.23706, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1910.80347, -2250.77563, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1999.52417, -2255.41626, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1895.21729, -2284.80566, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1948.50159, -2260.53149, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1893.24805, -2265.59399, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1939.88000, -2238.95386, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1923.88049, -2257.43701, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1987.85388, -2279.66089, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1965.67310, -2266.03198, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1914.70374, -2402.55005, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2028.86365, -2461.59619, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1877.15210, -2373.27563, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1900.61096, -2375.44629, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1973.51257, -2386.39087, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1963.57214, -2339.28931, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1942.87891, -2370.03101, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1890.40979, -2353.42310, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1918.58972, -2353.00000, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1930.63354, -2423.55176, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1919.17175, -2445.33423, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1981.54407, -2444.11743, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1956.71680, -2431.45605, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1916.03687, -2426.08032, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1965.79248, -2416.19189, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1987.25891, -2410.99902, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2076.91748, -2503.85400, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2058.63721, -2471.03223, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2017.76233, -2486.37134, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2058.47485, -2533.44800, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1998.69995, -2458.72681, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1962.32764, -2484.33643, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1940.06555, -2490.58594, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1989.02271, -2481.35669, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1998.42419, -2497.90063, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2076.00659, -2474.41089, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2088.25269, -2530.24805, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2067.54517, -2550.20728, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2057.86035, -2500.99146, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2066.70117, -2519.57495, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1958.74207, -2527.23926, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2018.02344, -2549.20728, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2013.29858, -2510.79272, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1992.64856, -2568.82227, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1980.77405, -2521.63184, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1998.04553, -2550.82153, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2024.03027, -2533.29688, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2027.45837, -2517.41772, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2010.15186, -2568.60791, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2041.45911, -2468.26563, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2028.46277, -2428.18457, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2010.61169, -2495.70874, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2017.28760, -2466.11694, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2017.83325, -2439.63037, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1998.13672, -2478.43042, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2060.11475, -2444.75073, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2076.92456, -2458.21973, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2069.24170, -2491.56226, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1960.33411, -2188.52490, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1959.35498, -2188.56592, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1958.31226, -2188.55176, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1961.37488, -2188.52002, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1962.33630, -2188.54053, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1957.33008, -2188.55298, 12.66020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1957.83447, -2188.60156, 12.86380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1958.77417, -2188.57764, 12.86380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1959.75452, -2188.57544, 12.86380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1960.79785, -2188.57910, 12.86380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1961.83948, -2188.56226, 12.86380,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1961.35815, -2188.58057, 13.04860,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1960.33789, -2188.57568, 13.04860,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1959.27588, -2188.58081, 13.04860,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1958.25415, -2188.58813, 13.04860,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1958.79358, -2188.61108, 13.22080,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1959.81494, -2188.61719, 13.22080,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1960.87402, -2188.66431, 13.22080,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1960.33301, -2188.68066, 13.40989,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2060, 1958.97156, -2188.68140, 13.40989,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2064, 1959.61060, -2189.82715, 13.18615,   0.00000, 0.00000, 180.18004);
	CA_CreateObject_(805, 1904.22095, -2170.10474, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1985.35339, -2191.70557, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1992.17175, -2166.15625, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1959.09692, -2135.59155, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1930.01147, -2164.17969, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1983.28894, -2245.64502, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1952.95728, -2171.70508, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1995.56152, -2209.62817, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2010.64172, -2199.46948, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 2000.71863, -2182.95313, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1972.60730, -2207.73438, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1951.72327, -2221.02466, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(805, 1996.19177, -2236.25879, 13.27712,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1986.13110, -2203.81543, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1996.30457, -2221.35156, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 2014.83569, -2187.34033, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1961.18591, -2163.95850, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1938.60217, -2151.87476, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1979.87646, -2160.92456, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1949.12842, -2197.18115, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(13590, 1965.28979, -2201.77637, 13.47699,   0.00000, 0.00000, 273.29993);
	CA_CreateObject_(18566, 1937.64563, -2562.51074, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1965.86340, -2524.61597, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 2030.27466, -2520.03223, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 2013.62927, -2546.71436, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 2003.02686, -2526.58643, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1984.20569, -2555.53003, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1826.32190, -2561.49561, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1931.92957, -2528.91479, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1957.84558, -2543.59424, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1778.55591, -2531.40259, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1776.04114, -2567.37939, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1803.70068, -2545.23389, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1825.98584, -2530.26880, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1530.13257, -2522.14380, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1765.54395, -2555.19189, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1734.10022, -2550.81689, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1739.64771, -2522.69727, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1529.96094, -2557.60010, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1619.76636, -2545.19458, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1578.06116, -2556.63916, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1590.98792, -2540.33203, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1617.93152, -2528.45215, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1467.57458, -2525.29321, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1478.94312, -2566.53320, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1504.30530, -2538.89795, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(18566, 1420.56445, -2535.70996, 13.02133,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3270, 1554.13452, -2451.11011, 12.51904,   0.00000, 0.00000, -3.84000);
	CA_CreateObject_(3270, 1655.15845, -2490.55762, 12.51904,   0.00000, 0.00000, 93.47999);
	CA_CreateObject_(3270, 1750.08325, -2452.43774, 12.51904,   0.00000, 0.00000, -4.68000);
	CA_CreateObject_(13591, 1958.76794, -2178.26196, 12.55572,   0.00000, 0.00000, 110.28001);
	CA_CreateObject_(13591, 1971.24243, -2173.26123, 12.55572,   0.00000, 0.00000, 16.80001);
	CA_CreateObject_(13591, 1960.96570, -2159.65234, 12.55572,   0.00000, 0.00000, 217.19998);
	CA_CreateObject_(3593, 1958.71069, -2150.88818, 12.80780,   0.00000, 0.00000, 180.66000);
	CA_CreateObject_(3594, 1960.54297, -2142.06152, 12.94750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3593, 1961.91809, -2099.62817, 12.80780,   0.00000, 0.00000, 193.25996);
	CA_CreateObject_(3593, 1959.23499, -2108.86182, 12.80780,   0.00000, 0.00000, 163.62001);
	CA_CreateObject_(3593, 1958.83789, -2118.15576, 12.80780,   0.00000, 0.00000, 180.66000);
	CA_CreateObject_(3593, 1958.98096, -2134.84399, 12.80780,   0.00000, 0.00000, 180.66000);
	CA_CreateObject_(3594, 1960.32117, -2127.92969, 12.94750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3594, 1962.42883, -2113.51367, 12.94750,   0.00000, 0.00000, -12.30000);
	CA_CreateObject_(13591, 1972.10889, -2109.32373, 12.55572,   0.00000, 0.00000, 127.61993);
	CA_CreateObject_(3594, 1958.85681, -2092.55029, 12.94750,   0.00000, 0.00000, -7.68000);
	CA_CreateObject_(3594, 1960.92737, -2082.61816, 12.94750,   0.00000, 0.00000, 27.96000);
	CA_CreateObject_(3593, 1959.38074, -2073.90771, 12.80780,   0.00000, 0.00000, 168.35999);
	CA_CreateObject_(3593, 1978.41492, -2107.12061, 12.80780,   0.00000, 0.00000, 70.85995);
	CA_CreateObject_(3593, 1983.54663, -2112.86694, 12.80780,   0.00000, 0.00000, 86.87995);
	CA_CreateObject_(3593, 2000.67712, -2108.54761, 12.80780,   0.00000, 0.00000, 70.85995);
	CA_CreateObject_(3593, 1993.00073, -2106.98682, 12.80780,   0.00000, 0.00000, 86.87995);
	CA_CreateObject_(3594, 1986.26306, -2107.65967, 12.94750,   0.00000, 0.00000, -42.17999);
	CA_CreateObject_(3594, 2010.37878, -2107.00659, 12.94750,   0.00000, 0.00000, -87.95999);
	CA_CreateObject_(3594, 2019.37476, -2110.71655, 12.94750,   0.00000, 0.00000, -103.91999);
	CA_CreateObject_(3593, 2026.11133, -2107.06787, 12.80780,   0.00000, 0.00000, 86.87995);
	CA_CreateObject_(3593, 1963.90698, -2169.70679, 12.80780,   0.00000, 0.00000, 193.25995);
	CA_CreateObject_(3593, 1967.98181, -2167.09863, 12.80780,   0.00000, 0.00000, 79.13998);
	CA_CreateObject_(3593, 1984.42725, -2164.82617, 12.80780,   0.00000, 0.00000, 95.45998);
	CA_CreateObject_(3594, 1975.79517, -2164.84863, 12.94750,   0.00000, 0.00000, -59.88000);
	CA_CreateObject_(3594, 2003.90881, -2164.33032, 12.94750,   0.00000, 0.00000, -96.06001);
	CA_CreateObject_(3593, 1992.35510, -2165.68921, 12.80780,   0.00000, 0.00000, 79.13998);
	CA_CreateObject_(3593, 1981.96191, -2168.97705, 12.80780,   0.00000, 0.00000, 95.45998);
	CA_CreateObject_(3593, 2009.10718, -2167.08472, 12.80780,   0.00000, 0.00000, 95.45998);
	CA_CreateObject_(3593, 2021.26050, -2164.66870, 12.80780,   0.00000, 0.00000, 95.45998);
	CA_CreateObject_(14400, 2009.92590, -2167.16699, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3594, 2015.56628, -2163.36572, 12.94750,   0.00000, 0.00000, -59.88000);
	CA_CreateObject_(3594, 2026.22986, -2167.47876, 12.94750,   0.00000, 0.00000, -59.88000);
	CA_CreateObject_(3594, 2035.79761, -2165.24316, 12.94750,   0.00000, 0.00000, -82.38000);
	CA_CreateObject_(3593, 1952.61194, -2171.60352, 12.80780,   0.00000, 0.00000, 271.55997);
	CA_CreateObject_(3593, 1945.25244, -2168.23926, 12.80780,   0.00000, 0.00000, 271.55997);
	CA_CreateObject_(3594, 1936.41541, -2169.04321, 12.94750,   0.00000, 0.00000, 95.64001);
	CA_CreateObject_(3593, 1929.07788, -2163.74072, 12.80780,   0.00000, 0.00000, 247.13991);
	CA_CreateObject_(3594, 1918.93506, -2164.79370, 12.94750,   0.00000, 0.00000, 95.64001);
	CA_CreateObject_(3594, 1911.74194, -2168.61328, 12.94750,   0.00000, 0.00000, 95.70000);
	CA_CreateObject_(3593, 1922.45154, -2168.91382, 12.80780,   0.00000, 0.00000, 271.55997);
	CA_CreateObject_(3593, 1904.87402, -2169.05737, 12.80780,   -6.00000, 0.00000, 272.00000);
	CA_CreateObject_(3593, 1899.34216, -2168.41748, 12.84780,   0.00000, 10.00000, 319.00000);
	CA_CreateObject_(3594, 1894.75195, -2167.23999, 12.98750,   6.00000, 0.00000, 73.49999);
	CA_CreateObject_(3594, 1885.29822, -2169.02563, 12.94750,   0.00000, 0.00000, 95.70000);
	CA_CreateObject_(3594, 1969.70642, -2186.04688, 12.94750,   0.00000, 0.00000, -1.44001);
	CA_CreateObject_(3594, 1963.48926, -2151.25464, 12.94750,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3593, 1938.84436, -2152.09717, 12.80780,   0.00000, 0.00000, 271.55997);
	CA_CreateObject_(3593, 1948.24927, -2156.72437, 12.88780,   -4.00000, 0.00000, 272.00000);
	CA_CreateObject_(2905, 1962.29089, -2184.47729, 12.54305,   0.00000, 0.00000, 23.88000);
	CA_CreateObject_(2906, 1964.95105, -2183.57422, 12.54284,   0.00000, 0.00000, -72.96000);
	CA_CreateObject_(2907, 1962.91296, -2178.81689, 12.54287,   0.00000, 0.00000, -76.74000);
	CA_CreateObject_(2908, 1964.53528, -2186.79614, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1958.23682, -2185.62866, 12.54287,   0.00000, 0.00000, -61.86000);
	CA_CreateObject_(2907, 1958.86731, -2172.99170, 12.54287,   0.00000, 0.00000, -102.23999);
	CA_CreateObject_(2907, 1965.52917, -2192.89893, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1960.61340, -2192.02881, 12.54287,   0.00000, 0.00000, 72.53999);
	CA_CreateObject_(2907, 1963.14209, -2175.00830, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1967.40393, -2179.22754, 12.54287,   0.00000, 0.00000, 175.68001);
	CA_CreateObject_(2907, 1956.04138, -2192.02466, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1952.32471, -2166.65918, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1955.03320, -2177.06201, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1969.80237, -2180.98486, 12.54287,   0.00000, 0.00000, 99.48000);
	CA_CreateObject_(2907, 1961.35840, -2176.25146, 12.54287,   0.00000, 0.00000, 106.32001);
	CA_CreateObject_(2907, 1963.81543, -2189.30518, 12.54287,   0.00000, 0.00000, -58.14000);
	CA_CreateObject_(2907, 1942.28320, -2165.38818, 12.54287,   0.00000, 0.00000, 61.20000);
	CA_CreateObject_(2907, 1967.42957, -2170.65039, 12.54287,   0.00000, 0.00000, 86.70000);
	CA_CreateObject_(2907, 1967.85596, -2162.12305, 12.54287,   0.00000, 0.00000, -212.03999);
	CA_CreateObject_(2907, 1967.73816, -2166.67163, 12.54287,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2907, 1957.71472, -2168.12769, 12.54287,   0.00000, 0.00000, 125.46000);
	CA_CreateObject_(2905, 1949.33215, -2166.27905, 12.54305,   0.00000, 0.00000, 84.78000);
	CA_CreateObject_(2905, 1964.59229, -2180.11743, 12.54305,   0.00000, 0.00000, 210.35997);
	CA_CreateObject_(2905, 1958.08228, -2156.71826, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1971.95593, -2162.66284, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1954.70190, -2162.41846, 12.54305,   0.00000, 0.00000, 165.30002);
	CA_CreateObject_(2905, 1960.94690, -2172.40479, 12.54305,   0.00000, 0.00000, 78.35999);
	CA_CreateObject_(2905, 1965.67700, -2177.13013, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1960.52722, -2186.67212, 12.54305,   0.00000, 0.00000, 82.98000);
	CA_CreateObject_(2905, 1953.71875, -2188.50781, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1957.45422, -2183.35693, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1957.62024, -2190.38257, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1962.11438, -2190.75513, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1970.33350, -2178.16748, 12.54305,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2905, 1967.69385, -2182.99487, 12.54305,   0.00000, 0.00000, 234.35999);
	CA_CreateObject_(2906, 1956.89160, -2159.85596, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2906, 1954.73413, -2165.97437, 12.54284,   0.00000, 0.00000, -74.58000);
	CA_CreateObject_(2906, 1960.70557, -2167.84619, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2906, 1959.99158, -2174.51636, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2906, 1963.63501, -2176.95703, 12.54284,   0.00000, 0.00000, -45.96000);
	CA_CreateObject_(2906, 1962.70483, -2187.16748, 12.54284,   0.00000, 0.00000, -227.39998);
	CA_CreateObject_(2906, 1969.28796, -2178.43408, 12.54284,   0.00000, 0.00000, 80.76000);
	CA_CreateObject_(2906, 1968.27759, -2181.15967, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2906, 1956.91296, -2181.94116, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2906, 1957.22241, -2187.29102, 12.54284,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1959.31116, -2187.61328, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1961.51941, -2168.98657, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1957.21033, -2169.91113, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1964.71924, -2177.84497, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1971.04822, -2182.16602, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1961.14417, -2190.23877, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1960.32129, -2184.14111, 12.54338,   0.00000, 0.00000, 180.54001);
	CA_CreateObject_(2908, 1963.89783, -2182.91357, 12.54338,   0.00000, 0.00000, -102.78001);
	CA_CreateObject_(2908, 1954.24988, -2153.10474, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1946.75073, -2164.76196, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1956.71826, -2163.49805, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1977.33020, -2169.02222, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2908, 1974.51965, -2168.46924, 12.54338,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1969.29419, -2184.33203, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(12957, 1953.91907, -2154.93262, 13.06840,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(12957, 1962.87439, -2122.19409, 13.06840,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(12957, 1957.68274, -2067.24463, 13.06840,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(12957, 2028.48254, -2163.06641, 13.06840,   0.00000, 0.00000, -92.52000);
	CA_CreateObject_(12957, 2043.36597, -2166.64380, 13.06840,   0.00000, 0.00000, -92.52000);
	CA_CreateObject_(3594, 2049.72632, -2164.57007, 12.94750,   0.00000, 0.00000, -82.38000);
	CA_CreateObject_(12957, 1996.92017, -2163.07031, 13.06840,   0.00000, 0.00000, -92.52000);
	CA_CreateObject_(12957, 1936.29773, -2165.65601, 12.94263,   0.00000, 0.00000, 83.70000);
	CA_CreateObject_(12957, 1908.31555, -2166.03784, 12.94263,   0.00000, 0.00000, 83.70000);
	CA_CreateObject_(12957, 1875.58740, -2170.04883, 12.94263,   0.00000, 0.00000, 83.70000);
	CA_CreateObject_(2673, 1959.01465, -2186.39453, 12.64934,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2673, 1964.82642, -2188.18750, 12.64934,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2673, 1964.04504, -2182.01563, 12.64934,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2673, 1962.21619, -2176.74390, 12.64934,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2673, 1958.39905, -2192.57446, 12.64934,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1960.88269, -2191.26538, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1958.27014, -2190.31152, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1963.82861, -2187.45459, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1961.19666, -2185.75806, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1955.39636, -2188.26709, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2053, 1961.66040, -2194.80542, 12.60350,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(14400, 1958.80261, -2184.70898, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1959.40820, -2192.25635, 14.24456,   30.00000, 0.00000, 0.00000);
	CA_CreateObject_(1308, 1962.94885, -2188.83374, 16.75000,   182.00000, 0.00000, -2.00000);
	CA_CreateObject_(1308, 1956.01233, -2188.71729, 16.75000,   182.00000, 0.00000, -2.00000);
	CA_CreateObject_(3794, 1722.72717, -2495.01685, 13.01318,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3795, 1722.24182, -2506.70752, 12.83660,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3788, 1720.95178, -2503.76392, 13.03429,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3794, 1721.74756, -2500.55469, 13.01318,   0.00000, 0.00000, -55.74000);
	CA_CreateObject_(3794, 1722.96143, -2497.68677, 13.01318,   0.00000, 0.00000, -28.50000);
	CA_CreateObject_(18253, 1761.42163, -2498.16724, 14.72524,   0.00000, 0.00000, 90.53999);
	CA_CreateObject_(2977, 1738.05225, -2499.29712, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1744.06458, -2496.41797, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1739.78601, -2497.33447, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1743.75879, -2498.55054, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1744.32666, -2500.95288, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1741.05896, -2502.85913, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1744.78638, -2502.92261, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2977, 1740.51953, -2499.84595, 12.54353,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2040, 1732.98828, -2498.43018, 12.63033,   0.00000, 0.00000, 16.86000);
	CA_CreateObject_(2037, 1732.13440, -2496.87158, 12.82314,   0.00000, 0.00000, -34.67999);
	CA_CreateObject_(2036, 1732.46265, -2499.75586, 12.54901,   0.00000, 0.00000, -45.54000);
	CA_CreateObject_(2040, 1733.30981, -2497.20117, 12.63033,   0.00000, 0.00000, -105.29999);
	CA_CreateObject_(2040, 1732.14258, -2496.28052, 12.63033,   0.00000, 0.00000, 94.26002);
	CA_CreateObject_(2040, 1734.45056, -2496.62476, 12.63033,   0.00000, 0.00000, 7.44000);
	CA_CreateObject_(2040, 1733.99402, -2497.77588, 12.63033,   0.00000, 0.00000, -56.46000);
	CA_CreateObject_(2036, 1736.11853, -2498.20972, 12.54901,   0.00000, 0.00000, -152.70000);
	CA_CreateObject_(2036, 1734.55054, -2499.87305, 12.54901,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(2037, 1732.67395, -2497.43018, 12.82314,   0.00000, 0.00000, -34.67999);
	CA_CreateObject_(2037, 1733.06470, -2496.24878, 12.82314,   0.00000, 0.00000, -34.67999);
	CA_CreateObject_(2068, 1738.92053, -2489.93018, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1727.19836, -2490.13818, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(3791, 1731.47852, -2504.80737, 12.96516,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3791, 1727.08301, -2503.07495, 12.96516,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3791, 1733.12891, -2508.29468, 12.96516,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3791, 1727.40710, -2507.27002, 12.96516,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1369, 1811.82275, -2500.03467, 13.10432,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3397, 1803.51404, -2511.31519, 12.54462,   0.00000, 0.00000, -85.91999);
	CA_CreateObject_(3395, 1812.90271, -2510.92114, 12.54441,   0.00000, 0.00000, -90.71999);
	CA_CreateObject_(3394, 1817.48901, -2510.88550, 12.54549,   0.00000, 0.00000, -90.78001);
	CA_CreateObject_(2068, 1805.55310, -2489.86743, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1817.93140, -2489.78027, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1961.04773, -2489.78101, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1972.92859, -2489.74585, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 2026.56970, -2490.18652, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 2038.16968, -2490.09229, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(5089, 1970.29138, -2308.38135, 18.71094,   356.85840, 0.00000, 3.14159);
	CA_CreateObject_(10757, 1975.06165, -2216.24902, 13.79986,   2.64000, 22.43999, 59.22001);
	CA_CreateObject_(1697, 1593.26917, -2489.20947, 13.23658,   -2.04000, -14.88000, -94.74000);
	CA_CreateObject_(1697, 1576.01196, -2500.01001, 21.13851,   0.00000, 0.00000, 91.07999);
	CA_CreateObject_(1697, 1576.17102, -2507.13379, 21.13851,   0.00000, 0.00000, 91.07999);
	CA_CreateObject_(1697, 1592.42871, -2506.99683, 21.13851,   0.00000, 0.00000, -90.24001);
	CA_CreateObject_(14400, 1598.07935, -2489.12891, 12.93479,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(939, 1582.73999, -2499.01782, 14.80244,   0.00000, 0.00000, 89.81996);
	CA_CreateObject_(939, 1587.68359, -2498.96387, 14.80244,   0.00000, 0.00000, 94.91999);
	CA_CreateObject_(939, 1592.81506, -2499.08252, 14.80244,   0.00000, 0.00000, 94.91999);
	CA_CreateObject_(939, 1576.81567, -2499.07715, 14.80244,   0.00000, 0.00000, 89.81996);
	CA_CreateObject_(3395, 1580.88477, -2511.67261, 12.49036,   0.00000, 0.00000, 270.77988);
	CA_CreateObject_(3397, 1586.25793, -2511.57861, 12.54390,   0.00000, 0.00000, -89.04002);
	CA_CreateObject_(3397, 1592.09399, -2511.53418, 12.54390,   0.00000, 0.00000, -89.04002);
	CA_CreateObject_(3397, 1575.35754, -2511.68750, 12.54390,   0.00000, 0.00000, -89.04002);
	CA_CreateObject_(3395, 1569.92053, -2504.92822, 12.49036,   0.00000, 0.00000, 181.19984);
	CA_CreateObject_(3395, 1569.96619, -2499.86426, 12.49036,   0.00000, 0.00000, 181.19984);
	CA_CreateObject_(2068, 1587.61938, -2490.41357, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1580.51868, -2490.26318, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1525.90063, -2490.36182, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(2068, 1514.15222, -2490.51367, 15.45370,   -59.00000, 0.00000, 0.00000);
	CA_CreateObject_(952, 1526.17920, -2504.75049, 13.85457,   0.00000, 0.00000, -179.39999);
	CA_CreateObject_(952, 1522.16418, -2504.73828, 13.85457,   0.00000, 0.00000, -179.39999);
	CA_CreateObject_(1327, 1515.58167, -2502.09448, 13.10470,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1515.49463, -2504.78857, 13.10470,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1518.73877, -2506.10034, 13.10470,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1515.49463, -2504.78857, 13.69217,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1515.49463, -2504.78857, 14.24700,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1515.58167, -2502.09448, 13.70427,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(1327, 1517.84009, -2503.17041, 13.04470,   0.00000, -87.00000, 0.00000);
	CA_CreateObject_(694, 1509.81836, -2550.44653, -2.30336,   -0.36000, -12.24000, 0.00000);
	CA_CreateObject_(13591, 1513.95703, -2499.36230, 12.82401,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(13591, 1515.60840, -2483.74316, 12.82401,   0.00000, 0.00000, -40.98000);
	CA_CreateObject_(3566, 1646.12585, -2454.04297, 14.91512,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3568, 1659.46167, -2454.30542, 14.92545,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3566, 1931.69312, -2151.03345, 14.26300,   0.00000, -90.00000, 38.34000);
	CA_CreateObject_(2068, 1960.70642, -2489.31616, 15.45370,   -121.00000, 0.00000, -176.36000);
	CA_CreateObject_(2068, 1973.14075, -2489.21460, 15.45370,   -121.00000, 0.00000, -179.41997);
	CA_CreateObject_(2068, 2026.58386, -2489.62012, 15.45370,   -121.00000, 0.00000, -179.41997);
	CA_CreateObject_(2068, 2038.27063, -2489.59277, 15.45370,   -121.00000, 0.00000, -179.41997);
	CA_CreateObject_(2068, 1817.94006, -2489.30762, 15.45370,   -121.00000, 0.00000, -176.36000);
	CA_CreateObject_(2068, 1805.56421, -2489.37646, 15.45370,   -121.00000, 0.00000, -176.36000);
	CA_CreateObject_(2068, 1738.87793, -2489.54248, 15.45370,   -121.00000, 0.00000, -177.62001);
	CA_CreateObject_(2068, 1727.05957, -2489.69556, 15.45370,   -121.00000, 0.00000, -177.62001);
	CA_CreateObject_(2068, 1587.73230, -2489.86206, 15.45370,   -121.00000, 0.00000, -177.62001);
	CA_CreateObject_(2068, 1580.74609, -2489.89624, 15.45370,   -121.00000, 0.00000, -177.62001);
	CA_CreateObject_(2068, 1525.66577, -2489.97070, 15.45370,   -121.00000, 0.00000, -177.62001);
	CA_CreateObject_(2068, 1514.19678, -2490.01147, 15.45370,   -121.00000, 0.00000, -177.62001);
    CA_CreateObject_(19456, 2365.67798, -1144.12109, 27.63281,   0.00000, 0.00000, -90.59997);
	CA_CreateObject_(19456, 2381.76343, -1127.45215, 29.08588,   0.00000, 0.00000, -179.93997);
	CA_CreateObject_(19456, 2381.77539, -1137.07227, 28.92590,   0.00000, 0.00000, -179.94000);
	CA_CreateObject_(19364, 2381.78589, -1142.63013, 28.33500,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19456, 2361.26465, -1139.18335, 27.67190,   0.00000, 0.00000, -183.65990);
	CA_CreateObject_(19364, 2361.63062, -1133.19995, 27.71520,   0.00000, 0.00000, -3.24000);
	CA_CreateObject_(3580, 2371.99561, -1131.99451, 32.14135,   0.00000, 0.00000, 179.22006);
	CA_CreateObject_(3655, 2345.90405, -1138.32556, 29.58768,   0.00000, 0.00000, -179.04013);
	CA_CreateObject_(1308, 2359.81934, -1117.15503, 29.93970,   6.00000, -11.00000, 2.30000);
	CA_CreateObject_(19445, 2386.68262, -1143.92615, 28.43209,   0.00000, 0.00000, -87.23998);
	CA_CreateObject_(3655, 2390.17090, -1131.44934, 32.14270,   0.00000, 0.00000, 267.05991);
	CA_CreateObject_(19453, 2342.16479, -1129.04028, 29.11611,   6.00000, 0.00000, -43.00000);
	CA_CreateObject_(19453, 2350.14746, -1124.90637, 29.66451,   0.00000, 0.00000, -82.00000);
	CA_CreateObject_(19453, 2357.41089, -1123.88708, 29.30450,   -4.00000, 0.00000, -82.00000);
	CA_CreateObject_(1483, 2348.88159, -1126.96399, 30.15690,   0.00000, 0.00000, -82.32000);
	CA_CreateObject_(1483, 2356.00220, -1126.30859, 29.75490,   -6.00000, 0.00000, -82.00000);
	CA_CreateObject_(1336, 2342.10962, -1137.19604, 34.10020,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1336, 2388.57617, -1134.82410, 36.52916,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19459, 2403.50586, -1138.26257, 30.58889,   0.00000, 0.00000, 0.18000);
	CA_CreateObject_(19459, 2413.42310, -1142.25110, 31.11185,   0.00000, 0.00000, -85.38000);
	CA_CreateObject_(19459, 2417.77319, -1137.00586, 31.43360,   0.00000, 0.00000, -177.42000);
	CA_CreateObject_(9247, 2409.17993, -1128.74622, 35.98540,   0.00000, 0.00000, -89.57999);
	CA_CreateObject_(3642, 2400.83960, -1113.01990, 41.80610,   -2.00000, 0.00000, 180.00000);
	CA_CreateObject_(1336, 2397.04883, -1115.67468, 43.95469,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(19456, 2424.84204, -1096.44604, 41.03267,   6.00000, 0.00000, -84.26001);
	CA_CreateObject_(3639, 2437.73071, -1111.79114, 45.51164,   0.00000, 0.00000, -180.06000);
	CA_CreateObject_(19462, 2434.54761, -1096.03052, 42.56528,   0.00000, 0.00000, -89.93999);
	CA_CreateObject_(1483, 2413.48560, -1117.30615, 40.80361,   0.00000, 0.00000, 178.68005);
	CA_CreateObject_(3556, 2422.34180, -1111.19397, 42.74550,   0.00000, -4.00000, 0.00000);
	CA_CreateObject_(19453, 2350.86523, -1144.32703, 27.84116,   0.00000, 0.00000, -89.00000);
	CA_CreateObject_(19453, 2343.63867, -1144.37708, 27.84116,   0.00000, 0.00000, -89.00000);
	CA_CreateObject_(3811, 2369.17578, -1144.59106, 27.00438,   0.00000, 0.00000, 268.74005);
	CA_CreateObject_(3811, 2366.85352, -1144.54163, 27.00438,   0.00000, 0.00000, 268.74005);
	CA_CreateObject_(3811, 2364.51123, -1144.49316, 27.00438,   0.00000, 0.00000, 268.74005);
	CA_CreateObject_(3811, 2362.23145, -1144.41785, 27.00438,   0.00000, 0.00000, 268.74005);
	CA_CreateObject_(3640, 2432.56885, -1130.20654, 37.71070,   0.00000, -2.00000, 4.00000);
	CA_CreateObject_(19447, 2431.12842, -1141.15125, 33.18130,   4.00000, 0.00000, -88.80001);
	CA_CreateObject_(19428, 2441.58521, -1140.98389, 34.19340,   -4.00000, 0.00000, 91.00000);
	CA_CreateObject_(19447, 2442.66650, -1136.25488, 34.16101,   0.00000, -4.00000, -2.00000);
	CA_CreateObject_(19447, 2443.03198, -1126.64099, 34.16101,   0.00000, -4.00000, -2.00000);
	CA_CreateObject_(19428, 2418.58960, -1141.85693, 31.85494,   -4.00000, 0.00000, 94.42001);
	CA_CreateObject_(19450, 2480.59912, -1140.36096, 37.81400,   4.00000, -2.00000, 271.00000);
	CA_CreateObject_(19450, 2495.39185, -1140.04871, 39.12184,   4.00000, 2.00000, 271.10004);
	CA_CreateObject_(19450, 2495.56177, -1135.25769, 39.38180,   0.00000, 2.00000, 359.00000);
	CA_CreateObject_(19450, 2495.72998, -1125.66211, 39.38180,   0.00000, 2.00000, 359.00000);
	CA_CreateObject_(3634, 2488.24365, -1130.01514, 40.17840,   0.00000, 0.00000, -2.00000);
	CA_CreateObject_(19428, 2421.97363, -1136.42053, 33.00617,   0.00000, 91.00000, 180.30028);
	CA_CreateObject_(19462, 2429.65234, -1100.76196, 42.56528,   0.00000, 0.00000, -179.81999);
	CA_CreateObject_(19456, 2416.04614, -1102.04688, 40.53450,   -2.00000, 0.00000, -180.00000);
	CA_CreateObject_(19456, 2416.04712, -1111.62512, 40.53450,   -2.00000, 0.00000, -180.00000);
	CA_CreateObject_(19462, 2445.59204, -1101.11658, 42.48530,   0.00000, 0.00000, -180.36000);
	CA_CreateObject_(19462, 2445.56543, -1110.47290, 42.48530,   0.00000, 0.00000, -180.36000);
	CA_CreateObject_(3655, 2472.88574, -1113.73926, 46.19182,   0.00000, 0.00000, 85.44001);
	CA_CreateObject_(19458, 2475.47168, -1099.36133, 45.29300,   4.00000, 2.00000, -96.00000);
	CA_CreateObject_(19458, 2479.64990, -1104.62109, 45.19840,   4.00000, 0.00000, -4.00000);
	CA_CreateObject_(19458, 2463.50464, -1098.10327, 43.90129,   4.00000, 0.00000, -96.00000);
	CA_CreateObject_(19458, 2465.11597, -1103.13306, 43.90130,   2.00000, 0.00000, -4.00000);
	CA_CreateObject_(19458, 2464.44067, -1112.62793, 43.90130,   2.00000, 0.00000, -4.00000);
	CA_CreateObject_(19458, 2464.13159, -1117.10852, 43.90130,   2.00000, 0.00000, -4.00000);
	CA_CreateObject_(17934, 2454.90967, -1110.59387, 44.81612,   0.00000, 0.00000, 85.85999);
	CA_CreateObject_(3594, 2473.80884, -1082.28308, 44.38086,   11.00000, 0.00000, -81.03999);
	CA_CreateObject_(19439, 2446.51807, -1096.44031, 43.30286,   0.00000, 0.00000, -92.94000);
	CA_CreateObject_(19439, 2448.08228, -1096.52966, 43.30286,   0.00000, 0.00000, -92.94000);
	CA_CreateObject_(19439, 2456.21655, -1097.41077, 43.29970,   2.00000, 0.00000, -93.00000);
	CA_CreateObject_(3655, 2512.21680, -1113.40393, 57.93186,   0.00000, 0.00000, -6.35998);
	CA_CreateObject_(19463, 2537.89917, -1099.46741, 60.95260,   16.00000, 0.00000, -82.00000);
	CA_CreateObject_(19463, 2532.24097, -1100.32178, 59.27350,   16.00000, 0.00000, -82.00000);
	CA_CreateObject_(19463, 2518.76270, -1101.84595, 55.44530,   12.00000, 0.00000, -91.00000);
	CA_CreateObject_(19463, 2509.42310, -1101.81055, 53.16744,   12.00000, 0.00000, -89.26000);
	CA_CreateObject_(19463, 2500.15479, -1101.47009, 51.11630,   12.00000, 2.00000, -94.00000);
	CA_CreateObject_(19463, 2484.78516, -1100.21680, 47.44090,   12.00000, 2.00000, -94.00000);
	CA_CreateObject_(19463, 2541.82837, -1103.70166, 62.04690,   -1.00000, 2.00000, -180.00000);
	CA_CreateObject_(19463, 2542.02051, -1113.18713, 61.72510,   -1.00000, 2.00000, -177.90002);
	CA_CreateObject_(19463, 2537.91577, -1118.90576, 60.77503,   -11.00000, 2.00000, -259.00000);
	CA_CreateObject_(18659, 2536.96680, -1099.47974, 61.10223,   0.00000, 0.00000, -81.05994);
	CA_CreateObject_(18667, 2536.93750, -1099.50403, 61.39480,   0.00000, 0.00000, -81.84000);
	CA_CreateObject_(18659, 2342.73804, -1144.40479, 31.38714,   0.00000, 0.00000, 91.07999);
	CA_CreateObject_(18665, 2342.75903, -1144.44995, 31.76313,   0.00000, 0.00000, 89.40001);
	CA_CreateObject_(3406, 2298.26001, -1108.17834, 34.93095,   0.00000, 0.00000, 14.70000);
	CA_CreateObject_(3406, 2306.71484, -1105.94263, 34.93095,   0.00000, 0.00000, 14.70000);
	CA_CreateObject_(3406, 2315.19116, -1103.69055, 34.93095,   0.00000, 0.00000, 14.70000);
	CA_CreateObject_(3406, 2323.44946, -1101.11108, 34.98352,   0.00000, 0.00000, 19.08001);
	CA_CreateObject_(3406, 2331.83228, -1097.99084, 35.76334,   0.00000, -8.00000, 21.52000);
	CA_CreateObject_(3406, 2339.84180, -1094.77966, 36.98678,   0.00000, -8.00000, 21.52000);
	CA_CreateObject_(3406, 2347.87769, -1091.85510, 38.20092,   0.00000, -8.00000, 19.42000);
	CA_CreateObject_(3406, 2355.98657, -1088.98950, 39.46558,   0.00000, -8.00000, 19.42000);
	CA_CreateObject_(3406, 2364.21826, -1086.32129, 40.72237,   0.00000, -8.00000, 17.20000);
	CA_CreateObject_(3406, 2372.43115, -1083.80640, 41.60276,   0.00000, -4.00000, 17.00000);
	CA_CreateObject_(3406, 2380.83228, -1082.01086, 42.17072,   0.00000, -4.00000, 8.47999);
	CA_CreateObject_(3406, 2389.49170, -1080.83374, 42.79040,   0.00000, -4.00000, 7.16000);
	CA_CreateObject_(3406, 2398.00317, -1079.27759, 43.41994,   0.00000, -4.00000, 13.04000);
	CA_CreateObject_(3406, 2406.26074, -1076.94263, 44.13304,   0.00000, -4.00000, 18.50000);
	CA_CreateObject_(3640, 2573.69824, -1097.35498, 69.59680,   0.00000, 0.00000, 224.03990);
	CA_CreateObject_(19463, 2538.58569, -1118.92273, 57.30112,   -11.00000, 2.00000, -259.00000);
	CA_CreateObject_(19454, 2546.63257, -1096.77661, 63.58950,   14.00000, -4.00000, -65.00000);
	CA_CreateObject_(19454, 2559.71167, -1095.40393, 65.97850,   4.00000, 0.00000, -133.13997);
	CA_CreateObject_(19454, 2566.63501, -1101.93738, 66.33850,   0.00000, 0.00000, -133.00000);
	CA_CreateObject_(19454, 2573.63599, -1108.47742, 66.33850,   0.00000, 0.00000, -133.00000);
	CA_CreateObject_(19454, 2581.38770, -1109.55286, 66.33850,   0.00000, 0.00000, -63.27998);
	CA_CreateObject_(3498, 2480.78369, -1095.75452, 48.84962,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2424.42920, -1091.90479, 44.65191,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2399.64795, -1085.21094, 42.22467,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2441.58618, -1080.32129, 45.90459,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2522.22729, -1086.56897, 59.47282,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2541.20215, -1094.36108, 64.86078,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2564.21729, -1076.43372, 72.21204,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2324.85645, -1124.38416, 31.39876,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2313.92383, -1147.85828, 30.17443,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2344.26660, -1119.50720, 31.79601,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2352.91797, -1101.34985, 35.30854,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2334.15576, -1149.09656, 29.97285,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2361.05054, -1148.56250, 30.92551,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2381.04370, -1148.63171, 30.95249,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2403.56665, -1147.51587, 33.19255,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2428.54663, -1145.66772, 35.57389,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2453.30469, -1145.36243, 38.05185,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2482.86377, -1145.10449, 40.77748,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2523.60596, -1144.11426, 44.49633,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2570.01050, -1144.36096, 50.58404,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2617.52051, -1144.29822, 55.00532,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2462.52026, -1161.90063, 39.36173,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2503.35376, -1161.25903, 43.18158,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2546.79565, -1161.09985, 47.79613,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2593.65576, -1161.03845, 53.05397,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3406, 2414.49658, -1074.16370, 44.73090,   0.00000, -4.00000, 18.50000);
	CA_CreateObject_(3406, 2422.71313, -1071.25330, 45.40340,   0.00000, -4.00000, 20.48001);
	CA_CreateObject_(3406, 2431.27173, -1068.34973, 47.52020,   0.00000, -20.00000, 18.26000);
	CA_CreateObject_(3406, 2438.98975, -1066.96619, 49.76390,   4.00000, -12.00000, 4.00000);
	CA_CreateObject_(3361, 2445.43774, -1066.48975, 54.70060,   0.00000, 0.00000, -174.24002);
	CA_CreateObject_(3406, 2448.23486, -1060.38281, 54.75418,   0.00000, 0.00000, 98.82002);
	CA_CreateObject_(3406, 2447.32104, -1051.75110, 54.73373,   0.00000, 0.00000, 96.18000);
	CA_CreateObject_(3406, 2446.43408, -1043.36816, 54.01420,   -2.00000, 8.00000, 97.00000);
	CA_CreateObject_(3655, 2582.83154, -1030.79150, 71.62490,   0.00000, 0.00000, 265.82010);
	CA_CreateObject_(3362, 2563.78467, -1024.76599, 68.55329,   0.00000, 0.00000, -89.33999);
	CA_CreateObject_(3830, 2544.54883, -1028.36206, 73.30504,   0.00000, 0.00000, -186.11993);
	CA_CreateObject_(19462, 2553.16064, -1033.00098, 69.99819,   0.00000, 0.00000, -4.14000);
	CA_CreateObject_(19462, 2542.22339, -1037.72522, 70.13544,   0.00000, 0.00000, -90.36000);
	CA_CreateObject_(19462, 2538.08252, -1032.91089, 70.12180,   0.00000, 0.00000, -187.43990);
	CA_CreateObject_(2692, 2544.41309, -1032.64893, 72.69460,   10.00000, 0.00000, 0.00000);
	CA_CreateObject_(1526, 2540.43188, -1037.80432, 70.73614,   0.00000, 0.00000, 90.12000);
	CA_CreateObject_(1336, 2531.13501, -1028.05591, 73.76688,   0.00000, 0.00000, -96.53999);
	CA_CreateObject_(1336, 2549.44141, -1028.03894, 75.52954,   0.00000, 0.00000, -96.47998);
	CA_CreateObject_(1336, 2579.12109, -1034.42334, 76.13184,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3642, 2527.26025, -1030.17578, 71.26610,   0.00000, 0.00000, -0.78000);
	CA_CreateObject_(9326, 2511.65869, -1032.99939, 74.60591,   0.00000, 0.00000, 177.36000);
	CA_CreateObject_(617, 2521.47583, -1028.58813, 68.02789,   3.14159, 0.00000, 0.21817);
	CA_CreateObject_(3583, 2491.07544, -1017.31921, 67.02760,   0.00000, 0.00000, -118.32000);
	CA_CreateObject_(3759, 2526.81567, -1067.75403, 72.23620,   0.00000, 0.00000, -178.86000);
	CA_CreateObject_(3498, 2532.87061, -1057.63916, 72.91626,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3845, 2533.35571, -981.87207, 87.01330,   0.00000, 0.00000, -85.26000);
	CA_CreateObject_(3827, 2523.54492, -981.04657, 85.44541,   0.00000, 0.00000, -85.86000);
	CA_CreateObject_(3655, 2512.67603, -983.22607, 83.75570,   0.00000, 0.00000, 92.82000);
	CA_CreateObject_(3612, 2537.82959, -991.23578, 69.04770,   -179.80000, 0.00000, -86.00000);
	CA_CreateObject_(3612, 2522.55029, -985.99701, 69.02770,   -180.00000, 0.00000, -86.00000);
	CA_CreateObject_(3612, 2520.98022, -992.66901, 69.02770,   -180.00000, 0.00000, -86.00000);
	CA_CreateObject_(3612, 2504.99585, -993.70898, 68.42770,   -176.00000, 0.00000, -86.00000);
	CA_CreateObject_(3820, 2501.63892, -984.01599, 84.98860,   0.00000, 4.00000, 273.00000);
	CA_CreateObject_(11496, 2503.61938, -992.97620, 80.05327,   4.00000, 0.00000, 274.44003);
	CA_CreateObject_(11496, 2519.54858, -991.91791, 80.64610,   0.00000, 0.00000, -85.92001);
	CA_CreateObject_(11496, 2535.24146, -990.64716, 80.68610,   0.00000, 0.00000, -84.86000);
	CA_CreateObject_(11496, 2524.77612, -988.32642, 80.66610,   0.00000, 0.00000, -263.94000);
	CA_CreateObject_(3601, 2490.29346, -983.28638, 82.98396,   0.00000, 0.00000, 3.84000);
	CA_CreateObject_(3612, 2488.22852, -994.70764, 63.36583,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2488.18677, -993.98303, 75.22920,   0.02000, 0.00000, 271.71997);
	CA_CreateObject_(3612, 2488.02148, -987.62787, 63.38584,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3361, 2492.13892, -992.27167, 77.75256,   0.00000, 0.00000, -178.32002);
	CA_CreateObject_(3612, 2476.62476, -986.21606, 68.15775,   -180.00000, 0.00000, -87.98002);
	CA_CreateObject_(3655, 2478.24194, -982.64941, 82.64854,   0.00000, 0.00000, 92.82000);
	CA_CreateObject_(3612, 2471.80908, -993.26849, 60.88028,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3361, 2479.54248, -990.81781, 77.74238,   0.00000, 0.00000, 1.73995);
	CA_CreateObject_(3361, 2492.20874, -994.60242, 77.75256,   0.00000, 0.00000, -178.32002);
	CA_CreateObject_(11496, 2471.92432, -992.61633, 72.55269,   0.02000, 0.00000, 271.71997);
	CA_CreateObject_(11496, 2482.14429, -990.67401, 75.10380,   0.02000, 0.00000, 361.47977);
	CA_CreateObject_(3361, 2477.09619, -993.07043, 73.34855,   0.00000, 0.00000, -178.98001);
	CA_CreateObject_(3655, 2466.46362, -985.50940, 75.18523,   0.00000, 0.00000, 92.82000);
	CA_CreateObject_(3655, 2466.35791, -983.06470, 81.61842,   0.00000, 0.00000, 272.99994);
	CA_CreateObject_(3406, 2471.17847, -990.92621, 77.40397,   0.00000, -6.00000, 2.00000);
	CA_CreateObject_(3612, 2460.30249, -988.76355, 60.80494,   -180.00000, 0.00000, 1.11998);
	CA_CreateObject_(11496, 2461.32056, -989.28796, 72.55269,   0.02000, 0.00000, 181.60001);
	CA_CreateObject_(3361, 2459.51563, -988.20325, 73.29839,   0.00000, 8.00000, -88.00000);
	CA_CreateObject_(3361, 2459.30518, -982.74121, 77.12920,   0.00000, -2.00000, -88.00000);
	CA_CreateObject_(17529, 2633.59668, -1032.66309, 72.46628,   0.00000, 0.00000, -89.87999);
	CA_CreateObject_(3655, 2611.03369, -1031.10840, 71.62490,   0.00000, 0.00000, 269.60004);
	CA_CreateObject_(17513, 2575.42236, -895.05560, 76.67930,   0.00000, -1.38000, 189.00000);
	CA_CreateObject_(3655, 2449.09375, -1128.88477, 36.45244,   0.00000, 0.00000, 87.36000);
	CA_CreateObject_(3655, 2465.36621, -1130.10657, 38.97104,   2.00000, 0.00000, -91.78001);
	CA_CreateObject_(3642, 2516.54175, -1131.52844, 42.13194,   0.00000, 0.00000, -92.40001);
	CA_CreateObject_(18766, 2421.67676, -1133.01184, 32.97279,   -90.00000, 0.00000, 93.00000);
	CA_CreateObject_(1660, 2422.22510, -1144.46973, 29.55250,   -4.00000, 0.00000, 1.50000);
	CA_CreateObject_(3842, 2453.86255, -980.43793, 83.62035,   0.00000, 0.00000, -91.19998);
	CA_CreateObject_(3655, 2452.38916, -985.91870, 75.18523,   0.00000, 0.00000, 91.80001);
	CA_CreateObject_(3845, 2444.84229, -981.64130, 84.96474,   0.00000, 0.00000, -91.85999);
	CA_CreateObject_(3612, 2448.62695, -993.90546, 60.88028,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3612, 2447.27539, -999.03143, 53.94991,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3612, 2431.62109, -994.45178, 60.88028,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3655, 2440.67261, -986.44421, 75.14520,   0.00000, 0.00000, -88.74000);
	CA_CreateObject_(3612, 2430.43164, -999.80719, 53.94991,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2448.77783, -993.01801, 72.47270,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(11496, 2432.78491, -993.55353, 72.47270,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(11496, 2447.74951, -998.11755, 65.67396,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(11496, 2431.79810, -998.84900, 65.67396,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(3612, 2464.16528, -998.43427, 53.94991,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2463.72559, -997.55255, 65.67396,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(3612, 2481.24683, -999.73944, 55.96320,   -180.00000, 0.00000, -87.92000);
	CA_CreateObject_(17526, 2448.24878, -988.36499, 68.35019,   0.00000, 0.00000, -88.32000);
	CA_CreateObject_(3361, 2469.87524, -999.61182, 65.73721,   0.00000, 0.00000, -175.67999);
	CA_CreateObject_(11496, 2480.73364, -998.93170, 67.62772,   0.02000, 0.00000, 272.13998);
	CA_CreateObject_(3612, 2497.31104, -1001.04694, 58.10669,   -180.00000, 0.00000, -87.92000);
	CA_CreateObject_(3612, 2513.05347, -1000.18280, 61.31625,   -180.00000, 0.00000, -85.39999);
	CA_CreateObject_(3612, 2529.00317, -998.81451, 63.75161,   -180.00000, 0.00000, -84.61999);
	CA_CreateObject_(3589, 2495.89551, -994.93860, 72.48400,   0.00000, 0.00000, 182.00000);
	CA_CreateObject_(11496, 2496.72461, -1000.20526, 69.73730,   0.02000, 0.00000, 271.72000);
	CA_CreateObject_(3655, 2512.46753, -990.06964, 75.82909,   0.00000, 0.00000, 273.78000);
	CA_CreateObject_(11496, 2512.48071, -999.27753, 72.92527,   0.02000, 0.00000, 274.59991);
	CA_CreateObject_(11447, 2477.46997, -994.54779, 67.63329,   0.00000, 0.00000, 90.77999);
	CA_CreateObject_(3642, 2484.96411, -992.86646, 70.13004,   0.00000, 0.00000, -178.49998);
	CA_CreateObject_(11496, 2528.44897, -998.01331, 75.43953,   0.02000, 0.00000, 275.49988);
	CA_CreateObject_(11447, 2525.00757, -993.82520, 75.43748,   0.00000, 0.00000, 94.07999);
	CA_CreateObject_(11447, 2532.37695, -991.80316, 75.43748,   0.00000, 0.00000, 271.67996);
	CA_CreateObject_(643, 2463.17603, -997.93689, 66.34979,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3601, 2428.61816, -987.56903, 75.67198,   0.00000, 0.00000, 2.22000);
	CA_CreateObject_(3361, 2451.53955, -991.38702, 77.54241,   0.00000, 0.00000, 1.98000);
	CA_CreateObject_(3361, 2443.67090, -991.60217, 77.56240,   0.00000, 0.00000, 180.71988);
	CA_CreateObject_(3361, 2439.13696, -975.83362, 77.88100,   0.00000, 0.00000, 87.89990);
	CA_CreateObject_(3361, 2438.86646, -983.54901, 77.86100,   0.00000, 0.00000, 267.72021);
	CA_CreateObject_(3842, 2418.18896, -982.02429, 80.90190,   0.00000, 0.00000, -270.42001);
	CA_CreateObject_(3601, 2417.34131, -988.32147, 75.65200,   0.00000, 0.00000, -179.10001);
	CA_CreateObject_(3612, 2414.59204, -995.09381, 60.84030,   -180.00000, 0.00000, -87.92000);
	CA_CreateObject_(3612, 2413.52856, -1000.46423, 53.94991,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(3612, 2409.34058, -988.19189, 60.88028,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2415.83423, -999.45288, 65.67396,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(3555, 2422.34351, -995.02148, 68.30557,   0.00000, 0.00000, -179.15997);
	CA_CreateObject_(3612, 2396.54297, -1001.01093, 53.94991,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2399.81348, -1000.00903, 65.67396,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(11496, 2416.83374, -994.10480, 72.47270,   0.02000, 0.00000, 272.13998);
	CA_CreateObject_(3655, 2410.80103, -993.32172, 68.15122,   0.00000, 0.00000, -448.07996);
	CA_CreateObject_(3612, 2401.55713, -995.59918, 60.83993,   -180.00000, 0.00000, -87.92002);
	CA_CreateObject_(11496, 2400.99097, -994.76050, 72.46430,   0.02000, 0.00000, 271.89999);
	CA_CreateObject_(3589, 2400.19141, -996.12402, 68.42520,   0.00000, 0.00000, -178.02000);
	CA_CreateObject_(3655, 2405.03418, -986.47870, 75.39216,   0.00000, 0.00000, -90.17999);
	CA_CreateObject_(3612, 2389.50488, -991.10547, 60.64118,   -180.00000, 0.00000, 0.69997);
	CA_CreateObject_(3612, 2396.49731, -990.83386, 60.59561,   -180.00000, 0.00000, 1.96000);
	CA_CreateObject_(11496, 2390.55713, -991.58221, 72.36430,   0.02000, 0.00000, 180.70000);
	CA_CreateObject_(11447, 2396.19897, -986.93353, 72.14909,   0.00000, 0.00000, 90.24003);
	CA_CreateObject_(3361, 2390.82300, -981.55762, 70.46841,   0.00000, 0.00000, 1.56000);
	CA_CreateObject_(3655, 2438.50684, -1010.23248, 56.07281,   0.00000, 0.00000, 194.70004);
	CA_CreateObject_(3361, 2397.52319, -1005.65729, 63.76295,   0.00000, 0.00000, 2.28000);
	CA_CreateObject_(3361, 2401.97656, -1009.27087, 59.73769,   0.00000, 0.00000, -86.52002);
	CA_CreateObject_(3361, 2402.26953, -1015.49390, 56.81150,   0.00000, 0.00000, -88.08000);
	CA_CreateObject_(3361, 2402.53320, -1020.80072, 55.06424,   0.00000, -4.00000, -87.00000);
	CA_CreateObject_(3361, 2403.87793, -1027.22021, 52.67570,   0.00000, -12.00000, -73.00000);
	CA_CreateObject_(3361, 2406.49023, -1033.14453, 49.82927,   0.00000, 0.00000, -59.64002);
	CA_CreateObject_(3555, 2464.96240, -1011.75623, 60.99657,   0.00000, 0.00000, 87.41998);
	CA_CreateObject_(660, 2473.32935, -1011.62396, 59.52344,   356.85840, 0.00000, 3.14159);
	CA_CreateObject_(3361, 2388.92188, -1002.28259, 66.45939,   0.00000, 0.00000, 1.32000);
	CA_CreateObject_(3361, 2385.03052, -998.35864, 70.51302,   0.00000, 0.00000, -88.98002);
	CA_CreateObject_(3655, 2551.89990, -880.09271, 87.57805,   0.00000, 0.00000, 6.06000);
	CA_CreateObject_(3612, 2566.14868, -868.83105, 79.03615,   0.00000, -181.00000, -81.72001);
	CA_CreateObject_(3612, 2582.94897, -866.39130, 78.95988,   0.00000, -181.00000, -81.72001);
	CA_CreateObject_(3612, 2589.27100, -877.27155, 78.92088,   0.00000, -181.00000, -171.77995);
	CA_CreateObject_(3612, 2591.55249, -894.06659, 77.56475,   0.00000, -181.00000, -172.25993);
	CA_CreateObject_(3612, 2593.81079, -910.84064, 77.56475,   0.00000, -181.00000, -172.25993);
	CA_CreateObject_(3601, 2553.66162, -891.72479, 88.10512,   0.00000, 0.00000, -81.71999);
	CA_CreateObject_(3612, 2489.12695, -931.88739, 80.15855,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2472.16797, -932.53644, 80.12502,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2455.69214, -933.17462, 79.82830,   2.00000, -181.00000, -88.00000);
	CA_CreateObject_(3612, 2438.77075, -933.80176, 79.17712,   2.00000, -181.00000, -88.00000);
	CA_CreateObject_(3612, 2506.10034, -931.14105, 80.15855,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3842, 2434.23413, -925.21918, 95.49216,   2.00000, 0.00000, -88.00000);
	CA_CreateObject_(3827, 2443.50659, -927.08881, 95.85783,   -2.00000, 0.00000, 94.00000);
	CA_CreateObject_(3642, 2453.44360, -924.32227, 93.99880,   0.00000, 0.00000, 3.42000);
	CA_CreateObject_(3655, 2464.61304, -924.48468, 94.31512,   0.00000, 0.00000, 93.18001);
	CA_CreateObject_(3648, 2477.27344, -923.58765, 93.96039,   0.00000, 0.00000, 91.38002);
	CA_CreateObject_(11496, 2438.83203, -932.62292, 90.87800,   2.00000, 0.00000, -88.03999);
	CA_CreateObject_(11496, 2454.66406, -932.13458, 91.48811,   2.00000, 0.00000, -88.03999);
	CA_CreateObject_(11496, 2470.54004, -931.56921, 91.78690,   0.00000, 0.00000, -88.00000);
	CA_CreateObject_(11496, 2486.49023, -930.99268, 91.78690,   0.00000, -0.24000, -88.00000);
	CA_CreateObject_(3820, 2487.94580, -923.13074, 96.42422,   0.00000, 0.00000, -268.32010);
	CA_CreateObject_(3655, 2489.90894, -928.57672, 85.46072,   0.00000, 0.00000, 271.92007);
	CA_CreateObject_(3655, 2461.07690, -930.78699, 85.46072,   0.00000, 0.00000, 451.31985);
	CA_CreateObject_(3612, 2491.38354, -936.67841, 70.91526,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2508.21313, -935.95569, 70.91526,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2474.46265, -937.32770, 70.91526,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2457.66333, -938.17255, 70.91526,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3612, 2440.62646, -938.69116, 70.91526,   0.00000, -181.00000, -87.71992);
	CA_CreateObject_(3555, 2505.35938, -932.61584, 85.25641,   0.00000, 0.00000, 181.26006);
	CA_CreateObject_(3589, 2475.55884, -933.97510, 85.29647,   0.00000, 0.00000, 182.03999);
	CA_CreateObject_(3648, 2440.48511, -932.36273, 85.20171,   0.00000, 0.00000, 92.22001);
	CA_CreateObject_(3616, 2459.42065, -946.45898, 81.93187,   0.00000, 0.00000, 359.45999);
	CA_CreateObject_(3655, 2466.67871, -958.59576, 82.10434,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(17934, 2449.13232, -959.72046, 81.26121,   0.00000, 0.00000, 88.86001);
	CA_CreateObject_(3651, 2492.95581, -959.57806, 83.73286,   0.00000, 0.00000, 90.23992);
	CA_CreateObject_(3642, 2494.51880, -945.10449, 83.64749,   0.00000, 0.00000, 92.45999);
	CA_CreateObject_(3655, 2512.97290, -959.81909, 84.30596,   0.00000, 0.00000, -89.16000);
	CA_CreateObject_(11447, 2480.77930, -961.11609, 79.09013,   0.00000, 0.00000, -93.30000);
	CA_CreateObject_(3655, 2524.95020, -959.60760, 84.30596,   0.00000, 0.00000, -89.16000);
	CA_CreateObject_(3655, 2519.32739, -959.05023, 90.55946,   0.00000, 0.00000, -179.15999);
	CA_CreateObject_(3361, 2532.05591, -963.08209, 82.81952,   0.00000, 0.00000, -88.49999);
	CA_CreateObject_(3361, 2531.98364, -957.72131, 86.50350,   0.00000, 0.00000, -88.86000);
	CA_CreateObject_(3361, 2523.35547, -965.31671, 86.67100,   0.00000, 0.00000, 2.22000);
	CA_CreateObject_(3361, 2515.62549, -965.56537, 86.63100,   0.00000, 0.00000, -178.67999);
	CA_CreateObject_(3580, 2546.35986, -957.13013, 85.68621,   0.00000, 0.00000, 187.62001);
	CA_CreateObject_(3285, 2543.94238, -944.45892, 83.59465,   0.00000, 0.00000, 104.22006);
	CA_CreateObject_(3612, 2510.48389, -918.67145, 80.15855,   0.00000, -181.00000, -178.61992);
	CA_CreateObject_(3655, 2498.84521, -922.27161, 94.73370,   0.00000, 0.00000, 451.32010);
	CA_CreateObject_(11496, 2502.46045, -930.31866, 91.78690,   0.00000, -0.24000, -88.00000);
	CA_CreateObject_(3241, 2505.57275, -922.43182, 92.38140,   0.00000, 0.00000, 181.67996);
	CA_CreateObject_(11496, 2506.60864, -929.90143, 91.82690,   0.00000, -0.24000, -88.00000);
	CA_CreateObject_(11496, 2509.83057, -919.32953, 91.82690,   0.00000, -0.24000, 1.69999);
	CA_CreateObject_(3612, 2498.75293, -914.14410, 80.21860,   0.00000, -181.00000, -90.35990);
	CA_CreateObject_(3612, 2482.57324, -914.08032, 79.81860,   2.00000, -181.00000, -90.00000);
	CA_CreateObject_(3406, 2463.37671, -915.98749, 90.20720,   24.00000, 2.00000, 2.00000);
	CA_CreateObject_(3406, 2472.13501, -915.70209, 89.88720,   24.00000, 2.00000, 2.00000);
	CA_CreateObject_(3498, 2470.49438, -918.20398, 90.47427,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3406, 2479.87256, -913.47595, 89.47250,   24.00000, 4.00000, 24.00000);
	CA_CreateObject_(3406, 2454.76416, -916.42780, 90.44720,   24.00000, 2.00000, 2.00000);
	CA_CreateObject_(3406, 2447.69678, -916.79468, 90.64720,   24.00000, 2.00000, 2.00000);
	CA_CreateObject_(3406, 2446.33032, -919.53558, 90.09097,   4.00000, 2.00000, 3.08000);
	CA_CreateObject_(3406, 2438.73926, -919.82318, 89.01620,   4.00000, -22.00000, 3.00000);
	CA_CreateObject_(3406, 2435.32617, -919.88812, 89.20500,   4.00000, -2.00000, 3.00000);
	CA_CreateObject_(3612, 2432.85767, -927.40240, 78.63240,   -4.00000, -183.00000, -174.00000);
	CA_CreateObject_(3361, 2501.81494, -1002.63110, 71.05849,   0.00000, 0.00000, 186.42000);
	CA_CreateObject_(3361, 2485.75439, -999.90973, 67.87890,   0.00000, 0.00000, 181.67992);
	CA_CreateObject_(3361, 2517.94800, -1001.35858, 73.58226,   0.00000, 0.00000, -175.43994);
	CA_CreateObject_(3655, 2546.29199, -983.14862, 83.65764,   0.00000, 0.00000, -107.94002);
	CA_CreateObject_(3498, 2538.72827, -986.17419, 83.49686,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3612, 2551.11523, -994.23145, 69.04770,   -179.80000, 0.00000, -111.14001);
	CA_CreateObject_(3612, 2544.80298, -1000.92432, 64.23661,   -176.00000, 0.00000, -111.12000);
	CA_CreateObject_(11496, 2550.53125, -993.07642, 80.72610,   0.00000, 0.00000, -111.08000);
	CA_CreateObject_(3642, 2556.69116, -986.61554, 82.93813,   0.00000, 0.00000, -18.90000);
	CA_CreateObject_(3612, 2562.23218, -993.93811, 68.68770,   -184.00000, 0.00000, -20.00000);
	CA_CreateObject_(11496, 2561.43921, -993.54059, 80.34610,   -4.00000, 0.00000, -20.00000);
	CA_CreateObject_(1227, 2558.93311, -995.49902, 81.42854,   0.00000, 0.00000, 68.76001);
	CA_CreateObject_(11496, 2542.99707, -999.26752, 75.88420,   4.00000, 0.00000, 250.00000);
	CA_CreateObject_(11447, 2541.34351, -992.60492, 75.74690,   0.00000, -2.00000, 68.00000);
	CA_CreateObject_(11447, 2545.42114, -994.88770, 76.00150,   2.00000, 0.00000, 250.00000);
	CA_CreateObject_(11447, 2549.79736, -996.14948, 76.26690,   0.00000, 0.00000, 72.00000);
	CA_CreateObject_(3612, 2560.38501, -1006.83972, 65.14217,   -178.00000, 0.00000, -111.00000);
	CA_CreateObject_(11496, 2557.71509, -1004.88397, 76.70284,   2.00000, 0.00000, 248.98003);
	CA_CreateObject_(923, 2553.84717, -1000.99713, 77.53288,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1227, 2557.32690, -1001.27173, 77.52550,   0.00000, 0.00000, -20.10000);
	CA_CreateObject_(3601, 2555.42847, -903.81512, 87.62510,   0.00000, 0.00000, -81.72000);
	CA_CreateObject_(3655, 2582.04077, -949.65704, 83.06233,   0.00000, 0.00000, -75.90000);
	CA_CreateObject_(3655, 2556.66895, -944.33130, 84.58128,   0.00000, 0.00000, -79.73999);
	CA_CreateObject_(11428, 2578.40601, -1000.32990, 81.07965,   8.00000, 0.00000, 42.00000);
	CA_CreateObject_(3612, 2425.50293, -937.92303, 78.73911,   2.00000, -181.00000, -57.87999);
	CA_CreateObject_(3612, 2414.35669, -947.65222, 78.17736,   2.00000, -181.00000, -36.00000);
	CA_CreateObject_(3655, 2424.12744, -928.23621, 93.07670,   0.00000, 0.00000, 633.29974);
	CA_CreateObject_(11496, 2422.44580, -934.35852, 90.26990,   2.00000, 0.00000, -88.00000);
	CA_CreateObject_(11496, 2424.05640, -937.25983, 90.38990,   2.00000, 0.00000, -59.06000);
	CA_CreateObject_(3655, 2412.06055, -938.02069, 93.07670,   0.00000, 0.00000, 502.97955);
	CA_CreateObject_(3612, 2419.19385, -927.50946, 78.50713,   2.00000, -181.00000, -57.87999);
	CA_CreateObject_(3612, 2408.44385, -937.07312, 77.94118,   2.00000, -181.00000, -35.25999);
	CA_CreateObject_(11496, 2412.57104, -947.86292, 89.84113,   2.00000, 0.00000, -34.75999);
	CA_CreateObject_(3612, 2406.63184, -944.51215, 78.17736,   2.00000, -181.00000, 56.93999);
	CA_CreateObject_(3361, 2413.72900, -966.83777, 78.15251,   0.00000, 0.00000, -82.37998);
	CA_CreateObject_(3361, 2411.58936, -960.17975, 82.14152,   0.00000, 0.00000, -62.21997);
	CA_CreateObject_(3361, 2407.39575, -955.15472, 86.27535,   0.00000, 0.00000, -38.57997);
	CA_CreateObject_(3361, 2405.38281, -951.51489, 87.85139,   0.00000, 0.00000, -125.63997);
	CA_CreateObject_(3612, 2425.76636, -943.57220, 71.18360,   -2.00000, -181.00000, -58.00000);
	CA_CreateObject_(3361, 2411.58936, -960.17975, 82.14152,   0.00000, 0.00000, -62.21997);
	CA_CreateObject_(3601, 2434.46143, -959.60028, 85.59020,   0.00000, 0.00000, 4.02000);
	CA_CreateObject_(3612, 2418.27246, -952.75708, 70.48360,   18.00000, -179.00000, 34.00000);
	CA_CreateObject_(3655, 2401.23022, -963.53082, 77.58420,   12.00000, 0.00000, -84.04000);
	CA_CreateObject_(3655, 2399.07983, -957.72931, 83.85829,   12.00000, 0.00000, -84.04000);
	CA_CreateObject_(11428, 2382.60547, -959.52911, 77.63480,   -16.00000, 14.00000, 106.00000);
	CA_CreateObject_(11428, 2384.42749, -948.36084, 82.81335,   -16.00000, 14.00000, 106.00000);
	CA_CreateObject_(11428, 2368.78809, -957.60419, 74.65195,   -16.00000, 14.00000, 106.00000);
	CA_CreateObject_(11447, 2388.13232, -968.81671, 70.81072,   -16.00000, 4.00000, 99.00000);
	CA_CreateObject_(3612, 2607.13037, -1016.43347, 63.65452,   -178.00000, 0.00000, -169.38004);
	CA_CreateObject_(3655, 2615.36548, -1016.53809, 77.64456,   2.00000, -2.00000, 193.00009);
	CA_CreateObject_(3655, 2611.46387, -1008.59625, 77.86786,   2.00000, -2.00000, 193.00009);
	CA_CreateObject_(3612, 2601.77979, -1002.95642, 64.97910,   -178.00000, 0.00000, -163.56010);
	CA_CreateObject_(3655, 2606.80420, -1001.11493, 79.32342,   2.00000, -2.00000, 193.00009);
	CA_CreateObject_(3655, 2612.07739, -1007.90729, 85.01467,   2.00000, -2.00000, -166.27994);
	CA_CreateObject_(3361, 2602.55615, -1016.34076, 73.29228,   0.00000, 0.00000, -78.84002);
	CA_CreateObject_(3498, 2605.39063, -1013.29303, 82.31810,   90.00000, 2.00000, 12.00000);
	CA_CreateObject_(3498, 2604.81641, -1013.39984, 82.31810,   90.00000, 2.00000, 12.00000);
	CA_CreateObject_(3498, 2604.35791, -1013.47510, 82.31810,   90.00000, 2.00000, 12.00000);
	CA_CreateObject_(3498, 2610.94849, -1016.42664, 81.60493,   98.00000, 2.00000, 99.00000);
	CA_CreateObject_(3498, 2610.85400, -1015.99512, 81.60493,   98.00000, 2.00000, 99.00000);
	CA_CreateObject_(3498, 2610.70679, -1015.51727, 81.60490,   98.00000, 2.00000, 99.00000);
	CA_CreateObject_(3498, 2610.53906, -1015.10870, 81.58490,   98.00000, 2.00000, 99.00000);
	CA_CreateObject_(3498, 2605.36523, -1017.57703, 77.90379,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2603.37939, -1009.42157, 77.90379,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(1468, 2604.66553, -1015.34393, 83.67185,   0.00000, 0.00000, -76.07999);
	CA_CreateObject_(1468, 2603.79810, -1011.81006, 83.67185,   0.00000, 0.00000, -76.07999);
	CA_CreateObject_(1468, 2607.98242, -1017.21680, 83.39597,   0.00000, 8.00000, 11.00000);
	CA_CreateObject_(3655, 2523.99902, -930.01520, 85.26378,   0.00000, 0.00000, 274.68021);
	CA_CreateObject_(3612, 2510.07764, -902.00397, 80.15855,   0.00000, -181.00000, -178.61992);
	CA_CreateObject_(3612, 2514.58545, -889.31360, 80.15850,   0.00000, -181.00000, -219.83990);
	CA_CreateObject_(3612, 2522.35107, -880.06927, 80.11850,   0.00000, -181.00000, -219.83990);
	CA_CreateObject_(3612, 2548.60767, -870.87708, 79.26900,   0.00000, -181.00000, -261.89969);
	CA_CreateObject_(3612, 2533.65576, -873.05603, 79.30900,   0.00000, -181.00000, -261.89969);
	CA_CreateObject_(706, 2532.90649, -896.72974, 84.07645,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3655, 2539.25781, -927.20801, 85.26378,   0.00000, 0.00000, 105.90024);
	CA_CreateObject_(3655, 2585.91797, -971.50183, 82.78051,   0.00000, 0.00000, 98.16001);
	CA_CreateObject_(3361, 2564.29517, -1001.80383, 78.72839,   0.00000, 0.00000, -110.21999);
	CA_CreateObject_(3498, 2567.00342, -1037.66040, 72.87536,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2499.24268, -1036.74402, 72.12686,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2461.89233, -1044.05127, 64.25630,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2437.83496, -1024.00574, 58.97777,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3498, 2407.96948, -1055.53552, 55.58950,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(3589, 2440.20093, -1057.61658, 55.65100,   0.00000, 0.00000, 86.82000);
	CA_CreateObject_(1409, 2457.47192, -1044.28540, 58.84375,   356.85840, 0.00000, -1.43990);
	CA_CreateObject_(3557, 2458.32910, -1054.31628, 60.57175,   0.00000, 0.00000, -4.74000);
	CA_CreateObject_(3589, 2604.50830, -969.12451, 82.66920,   0.00000, 0.00000, -168.59999);
	CA_CreateObject_(656, 2591.69556, -991.86871, 77.16454,   -8.88001, 14.04002, 0.00000);
	CA_CreateObject_(759, 2566.92676, -981.03528, 80.05434,   3.14159, 0.00000, 1.78023);
	CA_CreateObject_(759, 2583.90454, -988.19440, 78.39388,   3.14159, 0.00000, 1.78023);
	CA_CreateObject_(759, 2592.39038, -1002.50031, 75.34313,   3.14159, 0.00000, 1.78023);
	CA_CreateObject_(759, 2597.41797, -1018.67822, 71.85480,   3.14159, 0.00000, 1.78023);
	CA_CreateObject_(759, 2596.75195, -1036.43823, 68.32177,   3.14159, 0.00000, 1.78023);
	CA_CreateObject_(656, 2593.08105, -1035.87866, 68.45087,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2569.18604, -971.58472, 79.59233,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(727, 2537.64136, -962.27625, 80.70090,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2481.79883, -947.72839, 78.71240,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2422.66040, -967.86835, 75.64641,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2479.68140, -1010.66949, 60.07478,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(727, 2412.96509, -1016.95654, 51.77664,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(727, 2382.08008, -970.25189, 70.35690,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2394.34644, -935.83258, 86.61048,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2484.64917, -894.95929, 92.32201,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2382.65942, -1119.91675, 27.04807,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(727, 2427.63794, -1065.32935, 48.72665,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(735, 2494.44897, -1114.97681, 47.25809,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(727, 2462.85425, -1139.29749, 34.70761,   38.16000, 5.75999, 0.00000);
	CA_CreateObject_(735, 2311.10425, -1125.00879, 26.79153,   15.66000, 13.62000, 0.00000);
	CA_CreateObject_(823, 2346.77539, -1108.51318, 29.70475,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2434.60547, -1088.42102, 41.11067,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2542.77393, -1087.93469, 61.50908,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2561.61914, -1049.60876, 68.40527,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2593.98755, -1010.78961, 73.93326,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2503.83008, -969.43988, 81.25702,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2435.79541, -1000.32147, 66.15899,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2406.03857, -996.41943, 72.64845,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2511.19238, -1000.45349, 73.10576,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2522.34937, -989.93817, 80.84673,   0.00000, 0.00000, 0.00000);
	CA_CreateObject_(823, 2555.03076, -996.48041, 80.90007,   0.00000, 0.00000, 0.00000);


	return 1;
}

remover_colisoes()
{
	CA_RemoveBuilding( 1294, 1802.7891, -1270.9297, 17.1406, 0.25);
	CA_RemoveBuilding( 2068, 292.2188, -34.8438, 1003.9609, 0.25);
	CA_RemoveBuilding( 6130, 1117.5859, -1490.0078, 32.7188, 0.25);
	CA_RemoveBuilding( 6255, 1117.5859, -1490.0078, 32.7188, 0.25);
	CA_RemoveBuilding( 5544, 1873.7422, -1682.4766, 34.7969, 0.25);
	CA_RemoveBuilding( 1524, 1837.6641, -1640.3828, 13.7578, 0.25);
	CA_RemoveBuilding( 620, 1855.7188, -1741.5391, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1879.5078, -1741.4844, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1908.2188, -1741.4844, 10.8047, 0.25);
	CA_RemoveBuilding( 712, 1929.5781, -1736.9063, 21.3906, 0.25);
	CA_RemoveBuilding( 620, 1931.0391, -1726.3281, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1832.3828, -1694.3125, 9.7188, 0.25);
	CA_RemoveBuilding( 1537, 1837.4375, -1683.9688, 12.3047, 0.25);
	CA_RemoveBuilding( 1533, 1837.4375, -1683.9531, 12.3047, 0.25);
	CA_RemoveBuilding( 1537, 1837.4375, -1686.9844, 12.3125, 0.25);
	CA_RemoveBuilding( 620, 1832.8984, -1670.7656, 9.7188, 0.25);
	CA_RemoveBuilding( 1533, 1837.4375, -1677.9219, 12.2969, 0.25);
	CA_RemoveBuilding( 1537, 1837.4375, -1680.9531, 12.2969, 0.25);
	CA_RemoveBuilding( 1533, 1837.4375, -1680.9375, 12.2969, 0.25);
	CA_RemoveBuilding( 5408, 1873.7422, -1682.4766, 34.7969, 0.25);
	CA_RemoveBuilding( 620, 1931.0391, -1702.2891, 10.8047, 0.25);
	CA_RemoveBuilding( 712, 1929.5781, -1694.4609, 21.3906, 0.25);
	CA_RemoveBuilding( 620, 1931.0391, -1667.0313, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1931.0391, -1637.8984, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1855.7188, -1623.2813, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1879.5078, -1623.1016, 10.8047, 0.25);
	CA_RemoveBuilding( 620, 1908.2188, -1622.9844, 10.8047, 0.25);
	CA_RemoveBuilding( 712, 1929.5781, -1627.6250, 21.3906, 0.25);

	// mapa aberto novo //
	CA_RemoveBuilding( 4191, 1353.2578, -1764.5313, 15.5938, 0.25);
	CA_RemoveBuilding( 4022, 1353.2578, -1764.5313, 15.5938, 0.25);
	CA_RemoveBuilding( 1532, 1353.1328, -1759.6563, 12.5000, 0.25);
	CA_RemoveBuilding( 4606, 1825.0000, -1413.9297, 12.5547, 0.25);
	CA_RemoveBuilding( 4594, 1825.0000, -1413.9297, 12.5547, 0.25);

	// mapa do rd //
	CA_RemoveBuilding( 5087, 1880.7109, -2112.6328, 21.2578, 0.25);
	CA_RemoveBuilding( 714, 2356.5313, -1192.7188, 26.1641, 0.25);
	CA_RemoveBuilding( 714, 2487.5781, -1206.8359, 38.0781, 0.25);
	CA_RemoveBuilding( 714, 2588.2500, -1090.0156, 66.0469, 0.25);
	CA_RemoveBuilding( 3647, 2513.4688, -1111.8281, 57.8359, 0.25);
	CA_RemoveBuilding( 3647, 2406.5469, -1112.5000, 41.5391, 0.25);
	CA_RemoveBuilding( 3654, 2372.6875, -1132.3359, 29.8984, 0.25);
	CA_RemoveBuilding( 3706, 2577.8984, -1095.5547, 68.0625, 0.25);
	CA_RemoveBuilding( 3562, 2515.1094, -1132.4531, 42.6875, 0.25);
	CA_RemoveBuilding( 3562, 2470.8359, -1109.8594, 45.5547, 0.25);
	CA_RemoveBuilding( 3563, 2438.7891, -1109.7109, 44.1484, 0.25);
	CA_RemoveBuilding( 3561, 2488.2422, -1130.8516, 40.5547, 0.25);
	CA_RemoveBuilding( 3560, 2457.0625, -1105.6016, 44.8516, 0.25);
	CA_RemoveBuilding( 3559, 2394.4297, -1130.6484, 31.9844, 0.25);
	CA_RemoveBuilding( 3581, 2427.0781, -1131.2656, 36.2813, 0.25);
	CA_RemoveBuilding( 714, 2356.3516, -1283.4063, 26.1641, 0.25);
	CA_RemoveBuilding( 620, 2356.8281, -1252.7109, 26.9688, 0.25);
	CA_RemoveBuilding( 1315, 2310.4844, -1158.8203, 29.1953, 0.25);
	CA_RemoveBuilding( 1315, 2316.3672, -1147.4297, 29.1797, 0.25);
	CA_RemoveBuilding( 1468, 2368.3203, -1143.9141, 27.8438, 0.25);
	CA_RemoveBuilding( 1468, 2361.1563, -1136.1797, 28.3672, 0.25);
	CA_RemoveBuilding( 1468, 2360.6953, -1141.3906, 28.0313, 0.25);
	CA_RemoveBuilding( 1468, 2363.1094, -1143.9141, 27.8438, 0.25);
	CA_RemoveBuilding( 669, 2359.6328, -1132.0391, 27.6797, 0.25);
	CA_RemoveBuilding( 1468, 2394.8203, -1143.3047, 29.3125, 0.25);
	CA_RemoveBuilding( 1468, 2389.6094, -1143.5703, 28.7734, 0.25);
	CA_RemoveBuilding( 1468, 2384.3594, -1143.8047, 28.2109, 0.25);
	CA_RemoveBuilding( 1468, 2379.0938, -1143.9141, 27.8438, 0.25);
	CA_RemoveBuilding( 3649, 2372.6875, -1132.3359, 29.8984, 0.25);
	CA_RemoveBuilding( 3558, 2394.4297, -1130.6484, 31.9844, 0.25);
	CA_RemoveBuilding( 3594, 2382.4141, -1131.0703, 28.4375, 0.25);
	CA_RemoveBuilding( 621, 2384.5625, -1120.0313, 27.8203, 0.25);
	CA_RemoveBuilding( 673, 2396.7891, -1118.1406, 39.1875, 0.25);
	CA_RemoveBuilding( 621, 2386.7656, -1115.2344, 26.6094, 0.25);
	CA_RemoveBuilding( 669, 2396.0703, -1107.1875, 38.4766, 0.25);
	CA_RemoveBuilding( 1468, 2403.4688, -1140.4453, 30.3047, 0.25);
	CA_RemoveBuilding( 1418, 2417.3906, -1137.4531, 32.9063, 0.25);
	CA_RemoveBuilding( 621, 2413.2734, -1129.2109, 30.3359, 0.25);
	CA_RemoveBuilding( 3648, 2406.5469, -1112.5000, 41.5391, 0.25);
	CA_RemoveBuilding( 1418, 2419.2109, -1139.1406, 32.8672, 0.25);
	CA_RemoveBuilding( 17907, 2426.1641, -1110.0938, 43.4844, 0.25);
	CA_RemoveBuilding( 1418, 2427.0234, -1139.4688, 33.7031, 0.25);
	CA_RemoveBuilding( 3583, 2427.0781, -1131.2656, 36.2813, 0.25);
	CA_RemoveBuilding( 1418, 2430.5000, -1139.4375, 33.8047, 0.25);
	CA_RemoveBuilding( 1418, 2434.0000, -1139.3984, 33.9219, 0.25);
	CA_RemoveBuilding( 1418, 2435.6719, -1137.5625, 34.0313, 0.25);
	CA_RemoveBuilding( 1418, 2435.6563, -1134.0781, 34.1563, 0.25);
	CA_RemoveBuilding( 1418, 2435.6250, -1130.5547, 34.2734, 0.25);
	CA_RemoveBuilding( 669, 2449.9766, -1128.4063, 34.2109, 0.25);
	CA_RemoveBuilding( 621, 2456.7734, -1117.9844, 40.8906, 0.25);
	CA_RemoveBuilding( 1418, 2481.5156, -1137.1328, 38.2891, 0.25);
	CA_RemoveBuilding( 1418, 2480.2734, -1134.0625, 38.2891, 0.25);
	CA_RemoveBuilding( 669, 2474.3594, -1130.7344, 38.5078, 0.25);
	CA_RemoveBuilding( 669, 2468.8359, -1120.1016, 43.0391, 0.25);
	CA_RemoveBuilding( 1418, 2484.4531, -1138.3906, 38.1953, 0.25);
	CA_RemoveBuilding( 3556, 2488.2422, -1130.8516, 40.5547, 0.25);
	CA_RemoveBuilding( 1418, 2491.3516, -1138.4609, 38.7266, 0.25);
	CA_RemoveBuilding( 1418, 2494.4219, -1137.3438, 38.7734, 0.25);
	CA_RemoveBuilding( 1418, 2495.7656, -1134.3906, 38.7734, 0.25);
	CA_RemoveBuilding( 621, 2451.3516, -1115.9922, 41.6484, 0.25);
	CA_RemoveBuilding( 3555, 2438.7891, -1109.7109, 44.1484, 0.25);
	CA_RemoveBuilding( 621, 2447.9219, -1102.4141, 40.8828, 0.25);
	CA_RemoveBuilding( 1410, 2450.2422, -1103.8281, 42.6641, 0.25);
	CA_RemoveBuilding( 3557, 2457.0625, -1105.6016, 44.8516, 0.25);
	CA_RemoveBuilding( 1410, 2448.3203, -1096.7109, 42.4219, 0.25);
	CA_RemoveBuilding( 1410, 2450.4219, -1099.1406, 42.5625, 0.25);
	CA_RemoveBuilding( 1410, 2473.0391, -1099.1953, 44.7500, 0.25);
	CA_RemoveBuilding( 1410, 2464.8203, -1100.7734, 43.5625, 0.25);
	CA_RemoveBuilding( 3582, 2470.8359, -1109.8594, 45.5547, 0.25);
	CA_RemoveBuilding( 1410, 2477.6094, -1099.7813, 45.3672, 0.25);
	CA_RemoveBuilding( 1410, 2460.9297, -1097.8750, 42.9922, 0.25);
	CA_RemoveBuilding( 1410, 2465.4688, -1098.3594, 43.6328, 0.25);
	CA_RemoveBuilding( 1468, 2516.4609, -1139.6563, 40.8203, 0.25);
	CA_RemoveBuilding( 1468, 2511.2031, -1139.6563, 40.3516, 0.25);
	CA_RemoveBuilding( 1468, 2505.9453, -1139.6563, 39.8984, 0.25);
	CA_RemoveBuilding( 3582, 2515.1094, -1132.4531, 42.6875, 0.25);
	CA_RemoveBuilding( 669, 2500.7031, -1129.2266, 38.3516, 0.25);
	CA_RemoveBuilding( 1468, 2521.6953, -1139.6563, 41.2656, 0.25);
	CA_RemoveBuilding( 1468, 2524.3047, -1136.9609, 41.4297, 0.25);
	CA_RemoveBuilding( 3648, 2513.4688, -1111.8281, 57.8359, 0.25);
	CA_RemoveBuilding( 700, 2538.7891, -1105.0156, 59.2109, 0.25);
	CA_RemoveBuilding( 669, 2531.7109, -1112.0000, 56.6172, 0.25);
	CA_RemoveBuilding( 1468, 2561.8359, -1097.7266, 65.9844, 0.25);
	CA_RemoveBuilding( 1468, 2557.9375, -1094.0703, 65.8750, 0.25);
	CA_RemoveBuilding( 1468, 2567.0313, -1080.2344, 68.8047, 0.25);
	CA_RemoveBuilding( 1468, 2565.8203, -1101.4297, 66.1563, 0.25);
	CA_RemoveBuilding( 17905, 2568.0234, -1098.3203, 59.5391, 0.25);
	CA_RemoveBuilding( 1418, 2569.0859, -1076.3516, 69.0078, 0.25);
	CA_RemoveBuilding( 1468, 2569.7109, -1105.1719, 66.2500, 0.25);
	CA_RemoveBuilding( 1418, 2571.7500, -1063.1250, 69.2344, 0.25);
	CA_RemoveBuilding( 1418, 2569.7344, -1072.9141, 69.1016, 0.25);
	CA_RemoveBuilding( 1418, 2571.0469, -1066.5938, 69.1250, 0.25);
	CA_RemoveBuilding( 1418, 2570.6328, -1078.2266, 68.8828, 0.25);
	CA_RemoveBuilding( 3646, 2577.8984, -1095.5547, 68.0625, 0.25);
	CA_RemoveBuilding( 1418, 2574.1719, -1078.6953, 68.8828, 0.25);
	CA_RemoveBuilding( 1418, 2572.4375, -1059.6641, 69.2969, 0.25);
	CA_RemoveBuilding( 1418, 2574.5234, -1057.9063, 69.3203, 0.25);
	CA_RemoveBuilding( 1418, 2578.0156, -1057.8516, 69.3203, 0.25);
	CA_RemoveBuilding( 700, 2581.2031, -1109.5781, 65.7266, 0.25);
	CA_RemoveBuilding( 710, 2412.9922, -1055.0078, 65.0156, 0.25);
	CA_RemoveBuilding( 710, 2422.8516, -1022.1953, 66.4453, 0.25);
	CA_RemoveBuilding( 709, 2653.4219, -909.7031, 71.0625, 0.25);
	CA_RemoveBuilding( 706, 2691.1953, -849.9297, 63.0234, 0.25);
	CA_RemoveBuilding( 709, 2626.3828, -847.2813, 71.7656, 0.25);
	CA_RemoveBuilding( 706, 2559.3047, -915.7422, 81.7266, 0.25);
	CA_RemoveBuilding( 3340, 2460.0000, -1057.6172, 58.7344, 0.25);
	CA_RemoveBuilding( 3340, 2481.1719, -1067.4063, 65.7734, 0.25);
	CA_RemoveBuilding( 3340, 2549.2188, -955.9063, 81.2891, 0.25);
	CA_RemoveBuilding( 3341, 2440.4063, -1059.4375, 53.2891, 0.25);
	CA_RemoveBuilding( 3341, 2462.6328, -1009.0313, 58.6641, 0.25);
	CA_RemoveBuilding( 3298, 2458.7109, -944.4922, 79.5391, 0.25);
	CA_RemoveBuilding( 3298, 2530.0313, -960.0391, 81.2891, 0.25);
	CA_RemoveBuilding( 3298, 2512.1797, -1023.9219, 69.5313, 0.25);
	CA_RemoveBuilding( 3298, 2578.9531, -1029.9844, 69.0859, 0.25);
	CA_RemoveBuilding( 3298, 2581.5000, -949.9453, 80.7969, 0.25);
	CA_RemoveBuilding( 3300, 2434.6094, -1009.0781, 55.2422, 0.25);
	CA_RemoveBuilding( 3300, 2449.5234, -961.8984, 81.0078, 0.25);
	CA_RemoveBuilding( 3300, 2494.1797, -1017.1484, 66.2500, 0.25);
	CA_RemoveBuilding( 3300, 2529.9531, -1028.8672, 70.4688, 0.25);
	CA_RemoveBuilding( 3300, 2544.5469, -1029.1250, 70.4688, 0.25);
	CA_RemoveBuilding( 3300, 2513.2109, -962.3281, 82.8984, 0.25);
	CA_RemoveBuilding( 3300, 2539.2656, -1066.3125, 70.5000, 0.25);
	CA_RemoveBuilding( 3300, 2586.6094, -971.5938, 82.2344, 0.25);
	CA_RemoveBuilding( 3299, 2494.9531, -959.6328, 81.6875, 0.25);
	CA_RemoveBuilding( 3299, 2493.3906, -944.1484, 81.6094, 0.25);
	CA_RemoveBuilding( 3299, 2523.5078, -1066.9063, 69.1094, 0.25);
	CA_RemoveBuilding( 3299, 2564.9609, -1028.2422, 69.0078, 0.25);
	CA_RemoveBuilding( 3301, 2502.3281, -1068.2969, 71.0156, 0.25);
	CA_RemoveBuilding( 3299, 2466.2891, -959.1953, 79.6641, 0.25);
	CA_RemoveBuilding( 620, 2417.4922, -1015.3516, 50.3359, 0.25);
	CA_RemoveBuilding( 620, 2421.7734, -1061.7578, 44.0703, 0.25);
	CA_RemoveBuilding( 620, 2423.2891, -1051.1250, 49.1719, 0.25);
	CA_RemoveBuilding( 1368, 2430.9531, -1012.7656, 54.0156, 0.25);
	CA_RemoveBuilding( 1409, 2436.7109, -1052.2500, 53.4297, 0.25);
	CA_RemoveBuilding( 3285, 2434.6094, -1009.0781, 55.2422, 0.25);
	CA_RemoveBuilding( 3170, 2440.4063, -1059.4375, 53.2891, 0.25);
	CA_RemoveBuilding( 617, 2441.9297, -1046.2656, 53.3359, 0.25);
	CA_RemoveBuilding( 700, 2443.3594, -1015.9219, 54.2266, 0.25);
	CA_RemoveBuilding( 3167, 2460.0000, -1057.6172, 58.7344, 0.25);
	CA_RemoveBuilding( 1409, 2459.4531, -1051.6094, 58.8438, 0.25);
	CA_RemoveBuilding( 656, 2463.1172, -1049.2891, 58.4688, 0.25);
	CA_RemoveBuilding( 3170, 2462.6328, -1009.0313, 58.6641, 0.25);
	CA_RemoveBuilding( 1368, 2475.0313, -1065.2031, 66.5078, 0.25);
	CA_RemoveBuilding( 3167, 2481.1719, -1067.4063, 65.7734, 0.25);
	CA_RemoveBuilding( 671, 2492.5156, -1059.1875, 66.8984, 0.25);
	CA_RemoveBuilding( 3285, 2494.1797, -1017.1484, 66.2500, 0.25);
	CA_RemoveBuilding( 1368, 2488.6641, -1018.6328, 65.0625, 0.25);
	CA_RemoveBuilding( 3284, 2502.3281, -1068.2969, 71.0156, 0.25);
	CA_RemoveBuilding( 3283, 2523.5078, -1066.9063, 69.1094, 0.25);
	CA_RemoveBuilding( 617, 2520.8984, -1031.3750, 67.9531, 0.25);
	CA_RemoveBuilding( 3285, 2529.9531, -1028.8672, 70.4688, 0.25);
	CA_RemoveBuilding( 1409, 2528.6719, -1034.9219, 68.6719, 0.25);
	CA_RemoveBuilding( 3241, 2512.1797, -1023.9219, 69.5313, 0.25);
	CA_RemoveBuilding( 656, 2511.2734, -1014.6641, 68.0391, 0.25);
	CA_RemoveBuilding( 1410, 2422.7422, -975.8047, 77.4766, 0.25);
	CA_RemoveBuilding( 1407, 2427.3906, -975.2031, 78.0234, 0.25);
	CA_RemoveBuilding( 700, 2443.0000, -1006.6641, 55.9688, 0.25);
	CA_RemoveBuilding( 1407, 2449.6875, -967.1094, 79.8125, 0.25);
	CA_RemoveBuilding( 1410, 2446.7188, -975.0703, 79.6016, 0.25);
	CA_RemoveBuilding( 759, 2455.3750, -975.6172, 78.6172, 0.25);
	CA_RemoveBuilding( 1410, 2458.7969, -975.4375, 79.6953, 0.25);
	CA_RemoveBuilding( 1407, 2463.5156, -975.4844, 79.7734, 0.25);
	CA_RemoveBuilding( 671, 2471.6250, -976.6953, 78.6953, 0.25);
	CA_RemoveBuilding( 1410, 2468.1172, -975.4297, 79.7422, 0.25);
	CA_RemoveBuilding( 617, 2484.9297, -966.9922, 80.1641, 0.25);
	CA_RemoveBuilding( 759, 2489.1719, -975.4453, 79.9844, 0.25);
	CA_RemoveBuilding( 1410, 2488.8672, -968.4609, 81.7188, 0.25);
	CA_RemoveBuilding( 1410, 2504.4531, -976.4844, 81.4844, 0.25);
	CA_RemoveBuilding( 673, 2516.9688, -979.1406, 80.9766, 0.25);
	CA_RemoveBuilding( 1407, 2508.9844, -977.7891, 81.3359, 0.25);
	CA_RemoveBuilding( 1410, 2513.4375, -978.9688, 81.5781, 0.25);
	CA_RemoveBuilding( 1410, 2527.3672, -979.6406, 81.6953, 0.25);
	CA_RemoveBuilding( 1407, 2522.7656, -979.6953, 81.7734, 0.25);
	CA_RemoveBuilding( 1410, 2518.0469, -979.6484, 81.7891, 0.25);
	CA_RemoveBuilding( 759, 2521.3594, -966.9297, 81.0703, 0.25);
	CA_RemoveBuilding( 3285, 2449.5234, -961.8984, 81.0078, 0.25);
	CA_RemoveBuilding( 3283, 2466.2891, -959.1953, 79.6641, 0.25);
	CA_RemoveBuilding( 3283, 2494.9531, -959.6328, 81.6875, 0.25);
	CA_RemoveBuilding( 3285, 2513.2109, -962.3281, 82.8984, 0.25);
	CA_RemoveBuilding( 3241, 2530.0313, -960.0391, 81.2891, 0.25);
	CA_RemoveBuilding( 617, 2440.4688, -953.6328, 78.6406, 0.25);
	CA_RemoveBuilding( 1410, 2442.7031, -955.3984, 79.7422, 0.25);
	CA_RemoveBuilding( 617, 2522.1484, -952.4531, 80.7422, 0.25);
	CA_RemoveBuilding( 3241, 2458.7109, -944.4922, 79.5391, 0.25);
	CA_RemoveBuilding( 3283, 2493.3906, -944.1484, 81.6094, 0.25);
	CA_RemoveBuilding( 3285, 2539.2656, -1066.3125, 70.5000, 0.25);
	CA_RemoveBuilding( 1409, 2538.6484, -1058.6016, 68.6719, 0.25);
	CA_RemoveBuilding( 1409, 2545.1563, -1034.8984, 68.6641, 0.25);
	CA_RemoveBuilding( 3285, 2544.5469, -1029.1250, 70.4688, 0.25);
	CA_RemoveBuilding( 671, 2556.2422, -1033.2422, 68.5000, 0.25);
	CA_RemoveBuilding( 3241, 2578.9531, -1029.9844, 69.0859, 0.25);
	CA_RemoveBuilding( 1368, 2575.4141, -1033.3516, 69.2422, 0.25);
	CA_RemoveBuilding( 3283, 2564.9609, -1028.2422, 69.0078, 0.25);
	CA_RemoveBuilding( 671, 2533.4297, -977.9375, 80.7891, 0.25);
	CA_RemoveBuilding( 1410, 2534.1172, -980.5938, 81.6719, 0.25);
	CA_RemoveBuilding( 617, 2540.5859, -975.1641, 80.7422, 0.25);
	CA_RemoveBuilding( 1407, 2541.3828, -962.5391, 81.6953, 0.25);
	CA_RemoveBuilding( 1407, 2538.7422, -981.5391, 81.5781, 0.25);
	CA_RemoveBuilding( 1407, 2549.6563, -983.8672, 81.4609, 0.25);
	CA_RemoveBuilding( 1410, 2545.0391, -982.8750, 81.4453, 0.25);
	CA_RemoveBuilding( 1410, 2543.8984, -964.5078, 81.8281, 0.25);
	CA_RemoveBuilding( 1407, 2548.4922, -963.7813, 82.0625, 0.25);
	CA_RemoveBuilding( 1410, 2555.5547, -985.1719, 81.3516, 0.25);
	CA_RemoveBuilding( 1410, 2582.1563, -978.2656, 81.0313, 0.25);
	CA_RemoveBuilding( 3285, 2586.6094, -971.5938, 82.2344, 0.25);
	CA_RemoveBuilding( 1407, 2586.7500, -977.5391, 81.0625, 0.25);
	CA_RemoveBuilding( 1410, 2591.4063, -976.8125, 81.0313, 0.25);
	CA_RemoveBuilding( 3167, 2549.2188, -955.9063, 81.2891, 0.25);
	CA_RemoveBuilding( 1410, 2540.8516, -957.9141, 81.8516, 0.25);
	CA_RemoveBuilding( 1410, 2557.4766, -951.4141, 82.4453, 0.25);
	CA_RemoveBuilding( 1407, 2558.2422, -956.0000, 82.5078, 0.25);
	CA_RemoveBuilding( 3241, 2581.5000, -949.9453, 80.7969, 0.25);
	CA_RemoveBuilding( 617, 2605.3438, -946.5391, 79.1328, 0.25);
	CA_RemoveBuilding( 1410, 2584.0313, -941.8047, 81.0313, 0.25);
	return 1;
}

atualizar_base(i, con=0)
{
    new str[150];
    if(i < 0 || i >= MAX_BASES) return 1;
    format(str, 150,
    "{a1a1a1}Base: %d\n\
    {00ffff}[ %s ]\n\
    {%06x}%s\n\
    {ffffff}Owner: {ffff00}%s\n\n\
    {a1a1a1}Press 'Y' to access", i, Base[i][base_Nome],  ClasseBase[Base[i][base_Classe]][classe_Cor] >>> 8, ClasseBase[Base[i][base_Classe]][classe_Nome],  Membro[i][0]);

    if(con == 1)
    {
        if(IsValidDynamic3DTextLabel(Base[i][base_3D]))
        {
            UpdateDynamic3DTextLabelText(Base[i][base_3D], 0xffffff99, str);
            return 1;
        }
    }
    if(IsValidDynamicPickup(Base[i][base_Pickup])) DestroyDynamicPickup(Base[i][base_Pickup]);
    if(IsValidDynamic3DTextLabel(Base[i][base_3D])) DestroyDynamic3DTextLabel(Base[i][base_3D]);
    if(Base[i][base_Existe] == 1)
    {
        Base[i][base_Pickup] = CreateDynamicPickup(1314, 1, Base[i][base_X], Base[i][base_Y], Base[i][base_Z], 0, 0, -1, STREAMER_PICKUP_SD, -1, 0);
        Base[i][base_3D] = CreateDynamic3DTextLabel( str, 0xffffff99, Base[i][base_X], Base[i][base_Y], Base[i][base_Z], 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
    }
    salvar_base(i);
    return 1;
}





BaseConta(playerid[])
{
	for(new i; i<MAX_BASES; i++)
	{
		if(Base[i][base_Existe] == 1)
		{
		    for(new ii; ii<MAX_MEMBROS; ii++)
		    {
		        if(Comparar(playerid, Membro[i][ii]))
		        {
		            return i;
		        }
		    }
		}
	}
	return -1;
}



BasePlayer(playerid) return base_player[playerid];
BasePlayer2(playerid)
{
	for(new i; i<MAX_BASES; i++)
	{
		if(Base[i][base_Existe] == 1)
		{
		    for(new ii; ii<MAX_MEMBROS; ii++)
		    {
		        if(Comparar(Nome(playerid), Membro[i][ii]))
		        {
		            return i;
		        }
		    }
		}
	}
	return -1;
}

DonoBase(playerid)
{
	new i = BasePlayer(playerid);
	if(i != -1) if(Comparar(Nome(playerid), Membro[i][0])) return i;
	return -1;
}

SubBase(playerid)
{
	new i = BasePlayer(playerid);
	if(i != -1) if(Comparar(Nome(playerid), Membro[i][1])) return i;
	if(i != -1) if(Comparar(Nome(playerid), Membro[i][2])) return i;
	return -1;
}


salvar_objeto(i)
{
    new file[80];
	format(file, 80, "Objetos/Objeto_%d.txt", i);
	if(Obj[i][obj_Existe] == 1)
	{
		if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	    DOF2_SetInt(file, "obj_Vida", Obj[i][obj_Vida]);
	    DOF2_SetInt(file, "obj_Tipo", Obj[i][obj_Tipo]);
	    DOF2_SetInt(file, "obj_Status", Obj[i][obj_Status]);
	    DOF2_SetInt(file, "obj_Base", Obj[i][obj_Base]);
	    DOF2_SetInt(file, "obj_ID", Obj[i][obj_ID]);
	    DOF2_SetFloat(file, "obj_X", Obj[i][obj_X]);
	    DOF2_SetFloat(file, "obj_Y", Obj[i][obj_Y]);
	    DOF2_SetFloat(file, "obj_Z", Obj[i][obj_Z]);
	    DOF2_SetFloat(file, "obj_RX", Obj[i][obj_RX]);
	    DOF2_SetFloat(file, "obj_RY", Obj[i][obj_RY]);
	    DOF2_SetFloat(file, "obj_RZ", Obj[i][obj_RZ]);
		DOF2_SaveFile();
	}
	else
	{
	    if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	}
	return 1;
}

destruir_objeto(i)
{
	if(Obj[i][obj_Existe] == 1)
	{
		Obj[i][obj_Existe] = 0;
		if(Obj[i][obj_Dinamite] != -1) destruir_explosivo(Obj[i][obj_Dinamite]);
		Obj[i][obj_Dinamite] = -1;
		atualizar_objeto(i);
		salvar_objeto(i);
	}
	return 1;
}

texto_objeto(i)
{
    if(Obj[i][obj_Tipo] == TIPO_OBJETO)
    {
        if(IsValidDynamic3DTextLabel(Obj[i][obj_3D])) DestroyDynamic3DTextLabel(Obj[i][obj_3D]);
        if(Obj[i][obj_Vida] <= 65)
        {
            new sss[150];
            format(sss, 150, "{ff0000}%s\n{a1a1a1}%d%%", Objetos[Obj[i][obj_ID]][obj_Nome], Obj[i][obj_Vida] );
            Obj[i][obj_3D] = CreateDynamic3DTextLabel( sss, 0xffffff99, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z], 2.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
        }
    }
	return 1;
}

atualizar_objeto(i)
{
	if(IsValidDynamicObject(Obj[i][obj_Obj])) DestroyDynamicObject_(Obj[i][obj_Obj]);
	if(IsValidDynamicObject(Obj[i][obj_Obj2])) DestroyDynamicObject_(Obj[i][obj_Obj2]);
	if(CA_IsValidObject(Obj[i][obj_Colisao])) CA_DestroyObject(Obj[i][obj_Colisao]);
	if(IsValidDynamic3DTextLabel(Obj[i][obj_3D])) DestroyDynamic3DTextLabel(Obj[i][obj_3D]);

	Obj[i][obj_Colisao] = -1;
    if(Obj[i][obj_Existe] == 1)
	{
		Obj[i][obj_Obj] = CreateDynamicObject(Objetos[Obj[i][obj_ID]][obj_Modelo], Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z], Obj[i][obj_RX], Obj[i][obj_RY], Obj[i][obj_RZ], 0, 0);
        Obj[i][obj_Colisao] = CA_CreateObject(Objetos[Obj[i][obj_ID]][obj_Modelo], Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z], Obj[i][obj_RX], Obj[i][obj_RY], Obj[i][obj_RZ], true);
		if(Obj[i][obj_Dinamite] != -1) atualizar_explosivo(Obj[i][obj_Dinamite]);

		if(Obj[i][obj_Tipo] == TIPO_JBL)
		{
			new Float:ps[3];
			ps[0] = Obj[i][obj_X];
			ps[1] = Obj[i][obj_Y];
			ps[2] = Obj[i][obj_RZ] + 90.0;
			if(ps[2] > 360.0) ps[2] = 360.0;
			PegarFrente(ps[0], ps[1], ps[2], -0.3);
			PegarFrente(ps[0], ps[1], Obj[i][obj_RZ], 0.25);
			Obj[i][obj_3D] = CreateDynamic3DTextLabel("{ffffff}JBL Radio\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to On/Off", 0xffffff99, ps[0], ps[1], Obj[i][obj_Z] + 0.7, 1.5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
			if(Obj[i][obj_Status] != -1)
			{
				JBL[Obj[i][obj_Status]][jbl_Existe] = 0;
			}
			Obj[i][obj_Status] = -1;
		}

		if(Obj[i][obj_Tipo] == TIPO_ABAJU)
		{
			Obj[i][obj_3D] = CreateDynamic3DTextLabel("{ffffff}LAMP\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to On/Off", 0xffffff99, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z] + 1.5, 1.5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
			if(Obj[i][obj_Status] == 1) Obj[i][obj_Obj2] = CreateDynamicObject(19281, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z] + 1.8, Obj[i][obj_RX], Obj[i][obj_RY], Obj[i][obj_RZ], 0, 0);
		}

		if(Obj[i][obj_Tipo] == TIPO_CAMA)
		{
			new Float:ps[3];
			ps[0] = Obj[i][obj_X];
			ps[1] = Obj[i][obj_Y];
			ps[2] = Obj[i][obj_RZ];
			PegarFrente(ps[0], ps[1], ps[2], -2.0);
			Obj[i][obj_3D] = CreateDynamic3DTextLabel("{ffffff}BED\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to use", 0xffffff99, ps[0], ps[1], Obj[i][obj_Z] + 0.5, 2.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
		}

		if(Obj[i][obj_Tipo] == TIPO_CADEIRA)
		{
			new Float:ps[3];
			ps[0] = Obj[i][obj_X];
			ps[1] = Obj[i][obj_Y];
			ps[2] = Obj[i][obj_RZ] + 90.0;
			if(ps[2] > 360.0) ps[2] = 360.0;
			PegarFrente(ps[0], ps[1], ps[2], 0.5);
			Obj[i][obj_3D] = CreateDynamic3DTextLabel("{ffffff}CHAIR\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to sit", 0xffffff99, ps[0], ps[1], Obj[i][obj_Z] + 1, 2, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
		}
		texto_objeto(i);
	}
	return 1;
}

carregar_objetos()
{
	new file[80];
	new cont;
	for(new i; i<MAX_OBJETOS; i++)
	{

		format(file, 80, "Objetos/Objeto_%d.txt", i);
		if(DOF2_FileExists(file))
		{
			cont++;
		    Obj[i][obj_Existe] = 1;
		    Obj[i][obj_Dinamite] = -1;
		    Obj[i][obj_Vida] = DOF2_GetInt(file, "obj_Vida");
		    Obj[i][obj_Tipo] = DOF2_GetInt(file, "obj_Tipo");
		    Obj[i][obj_Base] = DOF2_GetInt(file, "obj_Base");
		    Obj[i][obj_ID] = DOF2_GetInt(file, "obj_ID");
		    Obj[i][obj_X] = DOF2_GetFloat(file, "obj_X");
		    Obj[i][obj_Y] = DOF2_GetFloat(file, "obj_Y");
		    Obj[i][obj_Z] = DOF2_GetFloat(file, "obj_Z");
		    Obj[i][obj_RX] = DOF2_GetFloat(file, "obj_RX");
		    Obj[i][obj_RY] = DOF2_GetFloat(file, "obj_RY");
		    Obj[i][obj_RZ] = DOF2_GetFloat(file, "obj_RZ");
		    if(Obj[i][obj_Tipo] == TIPO_ABAJU) Obj[i][obj_Status] = 0;
		    if(Obj[i][obj_Tipo] == TIPO_JBL) Obj[i][obj_Status] = -1;
		}
		else
		{
		    Obj[i][obj_Tipo] = -1;
		    Obj[i][obj_Status] = 0;
		    Obj[i][obj_Existe] = 0;
		    Obj[i][obj_Dinamite] = -1;
		    Obj[i][obj_Colisao] = -1;
		    Obj[i][obj_Base] = -1;
		    Obj[i][obj_ID] = -1;
		    Obj[i][obj_X] = 0.0;
		    Obj[i][obj_Y] = 0.0;
		    Obj[i][obj_Z] = 0.0;
		    Obj[i][obj_RX] = 0.0;
		    Obj[i][obj_RY] = 0.0;
		    Obj[i][obj_RZ] = 0.0;
		}

		atualizar_objeto(i);
	}
	printf("** %d Objetos de Base carregadas.", cont);
	return 1;
}

ListaObjetos(playerid, con)
{
    if(con == 0)
    {
        max_menu[playerid] = sizeof Objetos;
        menu_id[playerid] = MENU_LISTA_OBJETOS_BASE;
        format(nome_menu[playerid], 100, "LIST OF OBJECTS FOR BASE");
        format(botao_menu[playerid], 100, "CREATE");
        for(new i; i < max_menu[playerid]; i++)
        {
            Menu[playerid][i][menu_ID] = i;
            Menu[playerid][i][menu_Unidades] = 1;
            Menu[playerid][i][menu_Tipo] = 0;
            format(Menu[playerid][i][menu_Nome], 200, Objetos[i][obj_Nome]);
            Menu[playerid][i][menu_Valor] = 0;
            Menu[playerid][i][menu_Modelo] = Objetos[i][obj_Modelo];
            format(Menu[playerid][i][menu_Info], 200, "~w~%s~n~~n~", Objetos[i][obj_Nome]);
            if(Objetos[i][obj_Madeiras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Wood: ~w~%d~n~", Menu[playerid][i][menu_Info], Objetos[i][obj_Madeiras]);
            if(Objetos[i][obj_Metais] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Metal: ~w~%d~n~", Menu[playerid][i][menu_Info], Objetos[i][obj_Metais]);
            if(Objetos[i][obj_Pedras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Stone: ~w~%d~n~", Menu[playerid][i][menu_Info], Objetos[i][obj_Pedras]);
            if(Objetos[i][obj_Polvoras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Gunpowder: ~w~%d~n~", Menu[playerid][i][menu_Info], Objetos[i][obj_Polvoras]);
        }
        mostrar_menu(playerid, menu_id[playerid]);
        return 1;
    }
    return 1;
}


CriarObjeto(playerid, i)
{
	if(Objetos[i][obj_Tipo] != TIPO_BAU)
	{
		new tem;
		for(new m; m < MAX_BAUS; m++) 
			if(Bau[m][bau_Existe] == 1) 
				if(Bau[m][bau_Base] == BasePlayer(playerid)) 
					tem = 1;

		if(tem == 0)
		{
			ms(playerid, 0, "Your base does not have a Materials Chest yet, it must be the first Object to be created!");
			return -555;
		}
	}

	if(Objetos[i][obj_Madeiras] > 0 && Madeiras[playerid] < Objetos[i][obj_Madeiras])
	{
		ms(playerid, 0, "You do not have enough Wood to create this Object!");
		return -555;
	}
	if(Objetos[i][obj_Metais] > 0 && Metais[playerid] < Objetos[i][obj_Metais])
	{
		ms(playerid, 0, "You do not have enough Metal to create this Object!");
		return -555;
	}

	if(Objetos[i][obj_Pedras] > 0 && Pedras[playerid] < Objetos[i][obj_Pedras])
	{
		ms(playerid, 0, "You do not have enough Stone to create this Object!");
		return -555;
	}

	if(Objetos[i][obj_Polvoras] > 0 && Polvoras[playerid] < Objetos[i][obj_Polvoras])
	{
		ms(playerid, 0, "You do not have enough Gunpowder to create this Object!");
		return -555;
	}

	if(Objetos[i][obj_Tipo] == TIPO_CAIXA) // item box //
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "You cannot do this indoors.");
		new ca = criar_caixa(playerid);
		if(ca == -1)
		{
			ms(playerid, 0, "Maximum number of Item Boxes on the server has been reached!");
			return -555;
		}
		if(ca == -2)
		{
			ms(playerid, 0, "Your base already has 10 Boxes created!");
			return -555;
		}
		ListaObjetos(playerid, 1);
		Madeiras[playerid] -= Objetos[i][obj_Madeiras];
		Metais[playerid] -= Objetos[i][obj_Metais];
		Pedras[playerid] -= Objetos[i][obj_Pedras];
		Polvoras[playerid] -= Objetos[i][obj_Polvoras];
		format(string_prox, 300, " Player %s placed an Item Box on the ground ", Nome(playerid));
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
		EditDynamicObject2(playerid, Caixa[ca][caixa_Obj], 0);
		return 1;
	}

	if(Objetos[i][obj_Tipo] == TIPO_PORTAO) // electric gate //
	{
		if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) 
			return ms(playerid, 0, "You cannot do this indoors.");
		new po = CriarPortao(playerid, Objetos[i][obj_Modelo]);
		if(po == -1)
		{
			ms(playerid, 0, "Maximum number of Gates on the server has been reached!");
			return -555;
		}
		if(po == -2)
		{
			ms(playerid, 0, "Your base already has 10 Gates created!");
			return -555;
		}
		ListaObjetos(playerid, 1);
		Madeiras[playerid] -= Objetos[i][obj_Madeiras];
		Metais[playerid] -= Objetos[i][obj_Metais];
		Pedras[playerid] -= Objetos[i][obj_Pedras];
		Polvoras[playerid] -= Objetos[i][obj_Polvoras];
		SetPVarInt(playerid, "posicao", 0);
		EditDynamicObject2(playerid, Portao[po][portao_Obj], 0);
		format(string_prox, 300, " Player %s placed a Gate on the ground ", Nome(playerid));
		ProxDetector(15.0, playerid, string_prox, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA, 0xBCA9F5AA);
		ms(playerid, 2, "Use /gates to manage your gates.");
		return 1;
	}

	if(Objetos[i][obj_Tipo] == TIPO_BAU) // MATERIAL Chest //
	{
		for(new m; m < MAX_BAUS; m++) 
			if(Bau[m][bau_Existe] == 1) 
				if(Bau[m][bau_Base] == BasePlayer(playerid))  
					return ms(playerid, 0, "Your Base already has a Materials Chest!");
		new ca = criar_bau(playerid);
		if(ca == -1)
		{
			ms(playerid, 0, "Maximum number of Materials Chests on the server has been reached!");
			ListaObjetos(playerid, 1);
			return -555;
		}
		ListaObjetos(playerid, 1);
		Madeiras[playerid] -= Objetos[i][obj_Madeiras];
		Metais[playerid] -= Objetos[i][obj_Metais];
		Pedras[playerid] -= Objetos[i][obj_Pedras];
		Polvoras[playerid] -= Objetos[i][obj_Polvoras];
		EditDynamicObject2(playerid, Bau[ca][bau_Obj], 0);
		return 1;
	}

	if(Objetos[i][obj_Tipo] == TIPO_MESA) // Crafting Table //
	{
		for(new m; m < MAX_MESAS; m++) 
			if(Mesa[m][me_Existe] == 1) 
				if(Mesa[m][me_Base] == BasePlayer(playerid))  
					return ms(playerid, 0, "Your Base already has a Crafting Table!");
		new ca = criar_mesa(playerid);
		if(ca == -1)
		{
			ms(playerid, 0, "Maximum number of Crafting Tables on the server has been reached!");
			ListaObjetos(playerid, 1);
			return -555;
		}
		ListaObjetos(playerid, 1);
		Madeiras[playerid] -= Objetos[i][obj_Madeiras];
		Metais[playerid] -= Objetos[i][obj_Metais];
		Pedras[playerid] -= Objetos[i][obj_Pedras];
		Polvoras[playerid] -= Objetos[i][obj_Polvoras];
		EditDynamicObject2(playerid, Mesa[ca][me_Obj], 0);
		return 1;
	}

	if(Objetos[i][obj_Tipo] == TIPO_RECICLADORA) // Recycler //
	{
		for(new rr; rr < MAX_RECICLADORAS; rr++) 
			if(Recicladora[rr][re_Existe] == 1) 
				if(Recicladora[rr][re_Base] == BasePlayer(playerid)) 
					return ms(playerid, 0, "Your Base already has an Item Recycler!");
		new ca = criar_recicladora(playerid);
		if(ca == -1)
		{
			ms(playerid, 0, "Maximum number of Recyclers on the server has been reached!");
			ListaObjetos(playerid, 1);
			return -555;
		}
		ListaObjetos(playerid, 1);
		Madeiras[playerid] -= Objetos[i][obj_Madeiras];
		Metais[playerid] -= Objetos[i][obj_Metais];
		Pedras[playerid] -= Objetos[i][obj_Pedras];
		Polvoras[playerid] -= Objetos[i][obj_Polvoras];
		EditDynamicObject2(playerid, Recicladora[ca][re_Obj], 0);
		return 1;
	}

	if(Objetos[i][obj_Tipo] == TIPO_OBJETO) // Normal Objects //
	{
		new conts = contar_objetos_base(BasePlayer(playerid));
		if(conts >= MAX_OBJETOS_BASES)
		{
			new sss[150];
			format(sss, 150, "Your base already has [ %d / %d ] objects!", conts, MAX_OBJETOS_BASES);
			ms(playerid, 0, sss);
			ListaObjetos(playerid, 1);
			return -555;
		}

		for(new ii; ii < MAX_OBJETOS; ii++)
		{
			if(Obj[ii][obj_Existe] == 0)
			{
				ListaObjetos(playerid, 1);
				Obj[ii][obj_3D] = STREAMER_TAG_3D_TEXT_LABEL:-1;
				Obj[ii][obj_Tipo] = TIPO_OBJETO;
				Obj[ii][obj_Vida] = 100;
				Obj[ii][obj_Existe] = 1;
				Obj[ii][obj_Dinamite] = -1;
				Obj[ii][obj_Base] = BasePlayer(playerid);
				Obj[ii][obj_ID] = i;
				GetPlayerPos(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z]);
				PegarFrentePlayer(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], -1);
				Obj[ii][obj_RX] = 0.0;
				Obj[ii][obj_RY] = 0.0;
				Obj[ii][obj_RZ] = 0.0;
				atualizar_objeto(ii);
				salvar_objeto(ii);
				Streamer_Update(playerid);
				Madeiras[playerid] -= Objetos[i][obj_Madeiras];
				Metais[playerid] -= Objetos[i][obj_Metais];
				Pedras[playerid] -= Objetos[i][obj_Pedras];
				Polvoras[playerid] -= Objetos[i][obj_Polvoras];
				EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[i][obj_Modelo]);
				return ii;
			}
		}
	}


	if(Objetos[i][obj_Tipo] == TIPO_CAMA) // Bed Objects //
	{
		for(new ii; ii < MAX_OBJETOS; ii++)
		{
			if(Obj[ii][obj_Existe] == 0)
			{
				ListaObjetos(playerid, 1);
				Obj[ii][obj_Tipo] = TIPO_CAMA;
				Obj[ii][obj_Existe] = 1;
				Obj[ii][obj_Dinamite] = -1;
				Obj[ii][obj_Vida] = 100;
				Obj[ii][obj_Base] = BasePlayer(playerid);
				Obj[ii][obj_ID] = i;
				GetPlayerPos(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z]);
				PegarFrentePlayer(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], -1);
				Obj[ii][obj_3D] = CreateDynamic3DTextLabel("{ffffff}BED\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to use", 0xffffff99, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z], 2.0, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
				Obj[ii][obj_RX] = 0.0;
				Obj[ii][obj_RY] = 0.0;
				Obj[ii][obj_RZ] = 0.0;
				atualizar_objeto(ii);
				salvar_objeto(ii);
				Streamer_Update(playerid);
				Madeiras[playerid] -= Objetos[i][obj_Madeiras];
				Metais[playerid] -= Objetos[i][obj_Metais];
				Pedras[playerid] -= Objetos[i][obj_Pedras];
				Polvoras[playerid] -= Objetos[i][obj_Polvoras];
				EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[i][obj_Modelo]);
				return ii;
			}
		}
	}

	if(Objetos[i][obj_Tipo] == TIPO_CADEIRA) // Chair Objects //
	{
		for(new ii; ii < MAX_OBJETOS; ii++)
		{
			if(Obj[ii][obj_Existe] == 0)
			{
				ListaObjetos(playerid, 1);
				Obj[ii][obj_Tipo] = TIPO_CADEIRA;
				Obj[ii][obj_Existe] = 1;
				Obj[ii][obj_Dinamite] = -1;
				Obj[ii][obj_Vida] = 100;
				Obj[ii][obj_Base] = BasePlayer(playerid);
				Obj[ii][obj_ID] = i;
				GetPlayerPos(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z]);
				PegarFrentePlayer(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], -1);
				Obj[ii][obj_3D] = CreateDynamic3DTextLabel("{ffffff}CHAIR\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to sit", 0xffffff99, Obj[ii][obj_X] + 0.5, Obj[ii][obj_Y], Obj[ii][obj_Z] + 1, 1.5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
				Obj[ii][obj_RX] = 0.0;
				Obj[ii][obj_RY] = 0.0;
				Obj[ii][obj_RZ] = 0.0;
				atualizar_objeto(ii);
				salvar_objeto(ii);
				Streamer_Update(playerid);
				Madeiras[playerid] -= Objetos[i][obj_Madeiras];
				Metais[playerid] -= Objetos[i][obj_Metais];
				Pedras[playerid] -= Objetos[i][obj_Pedras];
				Polvoras[playerid] -= Objetos[i][obj_Polvoras];
				EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[i][obj_Modelo]);
				return ii;
			}
		}
	}

	if(Objetos[i][obj_Tipo] == TIPO_ABAJU) // Lamp Objects //
	{
		for(new ii; ii < MAX_OBJETOS; ii++)
		{
			if(Obj[ii][obj_Existe] == 0)
			{
				ListaObjetos(playerid, 1);
				Obj[ii][obj_Tipo] = TIPO_ABAJU;
				Obj[ii][obj_Existe] = 1;
				Obj[ii][obj_Dinamite] = -1;
				Obj[ii][obj_Vida] = 100;
				Obj[ii][obj_Status] = 0;
				Obj[ii][obj_Base] = BasePlayer(playerid);
				Obj[ii][obj_ID] = i;
				GetPlayerPos(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z]);
				PegarFrentePlayer(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], -1);
				Obj[ii][obj_3D] = CreateDynamic3DTextLabel("{ffffff}LAMP\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to On/Off", 0xffffff99, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z], 1.5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
				Obj[ii][obj_RX] = 0.0;
				Obj[ii][obj_RY] = 0.0;
				Obj[ii][obj_RZ] = 0.0;
				atualizar_objeto(ii);
				salvar_objeto(ii);
				Streamer_Update(playerid);
				Madeiras[playerid] -= Objetos[i][obj_Madeiras];
				Metais[playerid] -= Objetos[i][obj_Metais];
				Pedras[playerid] -= Objetos[i][obj_Pedras];
				Polvoras[playerid] -= Objetos[i][obj_Polvoras];
				EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[i][obj_Modelo]);
				return ii;
			}
		}
	}

	if(Objetos[i][obj_Tipo] == TIPO_JBL) // JBL Radio Objects //
	{
		for(new ii; ii < MAX_OBJETOS; ii++)
		{
			if(Obj[ii][obj_Existe] == 0)
			{
				ListaObjetos(playerid, 1);
				Obj[ii][obj_Tipo] = TIPO_JBL;
				Obj[ii][obj_Existe] = 1;
				Obj[ii][obj_Dinamite] = -1;
				Obj[ii][obj_Vida] = 100;
				Obj[ii][obj_Status] = -1;
				Obj[ii][obj_Base] = BasePlayer(playerid);
				Obj[ii][obj_ID] = i;
				GetPlayerPos(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z]);
				PegarFrentePlayer(playerid, Obj[ii][obj_X], Obj[ii][obj_Y], -1);
				Obj[ii][obj_3D] = CreateDynamic3DTextLabel("{ffffff}JBL Radio\n{a1a1a1}Press {ffffff}ALT {a1a1a1}to On/Off", 0xffffff99, Obj[ii][obj_X], Obj[ii][obj_Y], Obj[ii][obj_Z] + 1, 1.5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
				Obj[ii][obj_RX] = 0.0;
				Obj[ii][obj_RY] = 0.0;
				Obj[ii][obj_RZ] = 0.0;
				atualizar_objeto(ii);
				salvar_objeto(ii);
				Streamer_Update(playerid);
				Madeiras[playerid] -= Objetos[i][obj_Madeiras];
				Metais[playerid] -= Objetos[i][obj_Metais];
				Pedras[playerid] -= Objetos[i][obj_Pedras];
				Polvoras[playerid] -= Objetos[i][obj_Polvoras];
				EditDynamicObject2(playerid, Obj[ii][obj_Obj], Objetos[i][obj_Modelo]);
				return ii;
			}
		}
	}
	ms(playerid, 0, "Maximum number of Objects on the server has been reached!");

	return -555;
}


MenuBase(playerid, i, con=0)
{
    new string[1000];
    new linha[100];
    SetPVarInt(playerid, "base", i);

    if(i < 0 || i >= MAX_BASES) return 1;
    if(Base[i][base_Existe] == 0) return 1;

    if(BasePlayer(playerid) != i)
    {
        if(AdminPlayer(playerid) > 0)
        {
            if(ModoAdmin[playerid] == 1)
            {
                String_Gigante[0] = EOS;
                format(String_Gigante, 3000,
                "{00ffff}Base: {ffff00}%s\n\
                {00ffff}Level: {ffff00}%d\n\
                {00ffff}XP: {ffff00}%d / %d\n\n\
                {00ffff}Owner: {ffffff}%s\n\
                {00ffff}Sub 1: {ffffff}%s\n\
                {00ffff}Sub 2: {ffffff}%s\n\n\
                {ffff00}Last Logins\n" , Base[i][base_Nome], Base[i][base_Level], Base[i][base_XP], (Base[i][base_Level]+1)*UPAR_BASE, Membro[i][0], Membro[i][1], Membro[i][2]);
                new filee[80];
                if(!Comparar(Membro[i][0], Nome(-1)))
                {
                    format(filee, 80, "Whitelist/%s.txt", Membro[i][0]);
                    if(DOF2_FileExists(filee)) format(linha, 100, "{00ffff}Owner: {ffffff}%02d/%02d/%04d - %02d:%02d:%02d\n", DOF2_GetInt(filee, "pDia"), DOF2_GetInt(filee, "pMes"), DOF2_GetInt(filee, "pAno"), DOF2_GetInt(filee, "pHora"), DOF2_GetInt(filee, "pMinuto"), DOF2_GetInt(filee, "pSegundo"));
                    else format(linha, 100, "{00ffff}Owner: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                }
                else format(linha, 100, "{00ffff}Owner: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                strcat(String_Gigante, linha);
                if(!Comparar(Membro[i][1], Nome(-1)))
                {
                    format(filee, 80, "Whitelist/%s.txt", Membro[i][1]);
                    if(DOF2_FileExists(filee)) format(linha, 100, "{00ffff}Sub 1: {ffffff}%02d/%02d/%04d - %02d:%02d:%02d\n", DOF2_GetInt(filee, "pDia"), DOF2_GetInt(filee, "pMes"), DOF2_GetInt(filee, "pAno"), DOF2_GetInt(filee, "pHora"), DOF2_GetInt(filee, "pMinuto"), DOF2_GetInt(filee, "pSegundo"));
                    else format(linha, 100, "{00ffff}Sub 1: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                }
                else format(linha, 100, "{00ffff}Sub 1: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                strcat(String_Gigante, linha);
                if(!Comparar(Membro[i][2], Nome(-1)))
                {
                    format(filee, 80, "Whitelist/%s.txt", Membro[i][2]);
                    if(DOF2_FileExists(filee)) format(linha, 100, "{00ffff}Sub 2: {ffffff}%02d/%02d/%04d - %02d:%02d:%02d\n", DOF2_GetInt(filee, "pDia"), DOF2_GetInt(filee, "pMes"), DOF2_GetInt(filee, "pAno"), DOF2_GetInt(filee, "pHora"), DOF2_GetInt(filee, "pMinuto"), DOF2_GetInt(filee, "pSegundo"));
                    else format(linha, 100, "{00ffff}Sub 2: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                }
                else format(linha, 100, "{00ffff}Sub 2: {a1a1a1}%02d/%02d/%04d - %02d:%02d:%02d\n", 0, 0, 0, 0, 0, 0);
                strcat(String_Gigante, linha);
                ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Information", String_Gigante, "Ok", "Close");
                return 1;
            }
        }
        format(linha, 100, "%s [%d]", Base[i][base_Nome], i);
        ShowPlayerDialog_(playerid, DIALOG_BASE7, DIALOG_STYLE_MSGBOX, linha, "{FFFF00}[INFO] {A1A1A1}Only {00FF00}members {A1A1A1}can access this Menu\nDo you want to {00FFFF}request {A1A1A1}to join the members list?", "Yes", "Cancel");
        return 1;
    }

    if(con == 0) // show menu //
    {
        format(linha, 100, "[%d] %s", i, Base[i][base_Nome]);
        format(string, 300, "{ffffff}Information\nMembers\nChange Name\nMap\nEdit Objects\nBase Class\nLogs\n{ff0000}Exit");
        ShowPlayerDialog_(playerid, DIALOG_BASE, DIALOG_STYLE_LIST, linha, string, "Continue", "Close");
        return 1;
    }

    if(con == 1) // info //
    {
        String_Gigante[0] = EOS;
        format(String_Gigante, 3000,
        "{00ffff}Base: {ffff00}%s\n\
        {00ffff}Level: {ffff00}%d\n\
        {00ffff}XP: {ffff00}%d / %d\n\n\
        {00ffff}Owner: {ffffff}%s\n\
        {00ffff}Sub 1: {ffffff}%s\n\
        {00ffff}Sub 2: {ffffff}%s\n\
        Use /base to access this menu near the base\n\
        Use /members to see the online members list\n\
        Use /cb to communicate with the base players online\n\
        Use /gates to manage your gates created on the base\n\
        Use /cameras to manage your cameras created on the base\n\n" , Base[i][base_Nome], Base[i][base_Level], Base[i][base_XP], (Base[i][base_Level]+1)*UPAR_BASE, Membro[i][0], Membro[i][1], Membro[i][2]);
        ShowPlayerDialog_(playerid, DIALOG_BASE13, DIALOG_STYLE_MSGBOX, "Information", String_Gigante, "Continue", "Close");
        return 1;
    }

    if(con == 2) // show members //
    {
        new cont;
        String_Gigante[0] = EOS;
        for(new ii; ii < MAX_MEMBROS; ii++)
        {
            if(ii == 0) format(linha, 100, "{00ffff}%s\n", Membro[i][ii]), cont++;
            else if(ii == 1)
            {
                if(Comparar(Nome(-1), Membro[i][ii])) format(linha, 100, "{a1a1a1}%s\n", Membro[i][ii]);
                else format(linha, 100, "{ffff00}%s\n", Membro[i][ii]), cont++;
            }
            else if(ii == 2)
            {
                if(Comparar(Nome(-1), Membro[i][ii])) format(linha, 100, "{a1a1a1}%s\n", Membro[i][ii]);
                else format(linha, 100, "{ffff00}%s\n", Membro[i][ii]), cont++;
            }
            else
            {
                if(Comparar(Nome(-1), Membro[i][ii])) format(linha, 100, "{a1a1a1}%s\n", Membro[i][ii]);
                else format(linha, 100, "{ffffff}%s\n", Membro[i][ii]), cont++;
            }
            strcat(String_Gigante, linha);
        }
        format(linha, 100, "{ffffff}Members {ffff00}[%d]", cont);
        ShowPlayerDialog_(playerid, DIALOG_BASE2, DIALOG_STYLE_LIST, linha, String_Gigante, "Continue", "Back");
        return 1;
    }

    if(con == 3) // change name //
    {
        if(DonoBase(playerid) != i && SubBase(playerid) != i)
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MenuBase(playerid, i);
            return 1;
        }
        ShowPlayerDialog_(playerid, DIALOG_BASE3, DIALOG_STYLE_INPUT, Base[i][base_Nome], "\n{ffffff}Enter the new Name of your Base:\n", "Change", "Cancel");
        return 1;
    }

    if(con == 4) // map //
    {
        if(DonoBase(playerid) != i && SubBase(playerid) != i)
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MenuBase(playerid, i);
            return 1;
        }
        ListaObjetos(playerid, 0);
        return 1;
    }

    if(con == 5) // edit object //
    {
        if(DonoBase(playerid) != i && SubBase(playerid) != i)
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MenuBase(playerid, i);
            return 1;
        }
        new contt;
        new Float:dis;
        new Float:pos[3];
        GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
        String_Gigante[0] = EOS;
        strcat(String_Gigante, "Object\tLife\tDistance\n");
        for(new ia; ia < MAX_OBJETOS; ia++)
        {
            Objetos_Proximos[playerid][ia] = -1;
            if(contt == 50) break;
            if(Obj[ia][obj_Existe] == 1)
            {
                if(Obj[ia][obj_Base] == BasePlayer(playerid))
                {
                    if(IsPlayerInRangeOfPoint(playerid, 15, Obj[ia][obj_X], Obj[ia][obj_Y], Obj[ia][obj_Z]))
                    {
                        GetDistance(dis, pos[0], pos[1], pos[2], Obj[ia][obj_X], Obj[ia][obj_Y], Obj[ia][obj_Z]);
                        format(linha, 100, "%s\t%d%%\t%.0f Meters\n", Objetos[Obj[ia][obj_ID]][obj_Nome], Obj[ia][obj_Vida], dis);
                        strcat(String_Gigante, linha);
                        Objetos_Proximos[playerid][contt] = ia;
                        contt++;
                    }
                }
            }
        }

        format(linha, 100, "{ffffff}Objects within 15 Meters from you [{a1a1a1}%d{ffffff}]", contt);
        ShowPlayerDialog_(playerid, DIALOG_BASE10, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Continue", "Cancel");
        return 1;
    }

    if(con == 6) // CLASS //
    {
        if(DonoBase(playerid) != i && SubBase(playerid) != i)
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MenuBase(playerid, i);
            return 1;
        }

        String_Gigante[0] = EOS;
        strcat(String_Gigante, "Name\tLevel\n");
        for(new iq; iq < sizeof ClasseBase; iq++)
        {
            format(linha, 100, "{%06x}%s\t{a1a1a1}%d\n", ClasseBase[iq][classe_Cor] >>> 8, ClasseBase[iq][classe_Nome], ClasseBase[iq][classe_Level]);
            strcat(String_Gigante, linha);
        }
        format(linha, 100, "{ffffff}Current Class: {%06x}%s", ClasseBase[Base[i][base_Classe]][classe_Cor] >>> 8, ClasseBase[Base[i][base_Classe]][classe_Nome]);
        ShowPlayerDialog_(playerid, DIALOG_BASE14, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Choose", "Cancel");
        return 1;
    }

    if(con == 7) // logs //
    {
        ShowPlayerDialog_(playerid, DIALOG_BASE16, DIALOG_STYLE_LIST, "Base Logs", ler_log_base(i), "Ok", "Close");
        return 1;
    }

    if(con == 8) // exit //
    {
        ShowPlayerDialog_(playerid, DIALOG_BASE9, DIALOG_STYLE_MSGBOX, Base[i][base_Nome], "\n{ffffff}Do you really want to leave the base members list?", "Yes", "No");
        return 1;
    }

    if(con == 50) // member options //
    {
        new ii = GetPVarInt(playerid, "membro");
        format(linha, 100, "{ffffff}Member: {ffff00}%s", Membro[i][ii]);
        if(DonoBase(playerid) == i)
        {
            if(ii == 1 || ii == 2)
            {
                ShowPlayerDialog_(playerid, DIALOG_BASE4, DIALOG_STYLE_LIST, linha, "{ff0000}Expel\n{ffffff}Information\n{ffff00}Pass Leadership\n{00ffff}Remove Sub", "Continue", "Back");
                SetPVarInt(playerid, "subs", 1);
            }
            else
            {
                ShowPlayerDialog_(playerid, DIALOG_BASE4, DIALOG_STYLE_LIST, linha, "{ff0000}Expel\n{ffffff}Information\n{ffff00}Set as Sub", "Continue", "Back");
                SetPVarInt(playerid, "subs", 0);
            }
        }
        else ShowPlayerDialog_(playerid, DIALOG_BASE4, DIALOG_STYLE_LIST, linha, "{ff0000}Expel\n{ffffff}Information", "Continue", "Back");
        return 1;
    }

    return 1;
}


carregar_caixas()
{
    new file[80];
    new cont;
    new linha[100];
    for(new i; i < MAX_CAIXAS; i++)
    {
        format(file, 80, "Caixas/Caixa_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            cont++;
            Caixa[i][caixa_Trancada] = DOF2_GetInt(file, "caixa_Trancada");
            Caixa[i][caixa_Existe] = 1;
            Caixa[i][caixa_Dinamite] = -1;
            Caixa[i][caixa_Base] = DOF2_GetInt(file, "caixa_Base");
            Caixa[i][caixa_X] = DOF2_GetFloat(file, "caixa_X");
            Caixa[i][caixa_Y] = DOF2_GetFloat(file, "caixa_Y");
            Caixa[i][caixa_Z] = DOF2_GetFloat(file, "caixa_Z");
            Caixa[i][caixa_RX] = DOF2_GetFloat(file, "caixa_RX");
            Caixa[i][caixa_RY] = DOF2_GetFloat(file, "caixa_RY");
            Caixa[i][caixa_RZ] = DOF2_GetFloat(file, "caixa_RZ");

            for(new ii; ii < MAX_SLOTS; ii++)
            {
                format(linha, 100, "caixa_ID_%d", ii);
                Caixa[i][caixa_ID][ii] = DOF2_GetInt(file, linha);
                format(linha, 100, "caixa_Unidades_%d", ii);
                Caixa[i][caixa_Unidades][ii] = DOF2_GetInt(file, linha);
                format(linha, 100, "caixa_Tipo_%d", ii);
                Caixa[i][caixa_Tipo][ii] = DOF2_GetInt(file, linha);
            }
        }
        else
        {
            Caixa[i][caixa_Existe] = 0;
            Caixa[i][caixa_Trancada] = 0;
            Caixa[i][caixa_Dinamite] = -1;
            Caixa[i][caixa_X] = 0.0;
            Caixa[i][caixa_Y] = 0.0;
            Caixa[i][caixa_Z] = 0.0;
            Caixa[i][caixa_RX] = 0.0;
            Caixa[i][caixa_RY] = 0.0;
            Caixa[i][caixa_RZ] = 0.0;

            for(new ii; ii < MAX_SLOTS; ii++)
            {
                Caixa[i][caixa_ID][ii] = 0;
                Caixa[i][caixa_Unidades][ii] = 0;
                Caixa[i][caixa_Tipo][ii] = 0;
            }
        }

        atualizar_caixa(i);
    }
    printf("** %d Item Boxes loaded.", cont);
    return 1;
}

salvar_recicladora(i)
{
    new file[80];
    format(file, 80, "Recicladoras/Recicladora_%d.txt", i);
    if(Recicladora[i][re_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetFloat(file, "re_X", Recicladora[i][re_X]);
        DOF2_SetFloat(file, "re_Y", Recicladora[i][re_Y]);
        DOF2_SetFloat(file, "re_Z", Recicladora[i][re_Z]);
        DOF2_SetFloat(file, "re_RX", Recicladora[i][re_RX]);
        DOF2_SetFloat(file, "re_RY", Recicladora[i][re_RY]);
        DOF2_SetFloat(file, "re_RZ", Recicladora[i][re_RZ]);
        DOF2_SetInt(file, "re_Base", Recicladora[i][re_Base]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    return 1;
}

carregar_recicladoras()
{
    new file[80];
    new cont;
    for(new i; i < MAX_RECICLADORAS; i++)
    {
        format(file, 80, "Recicladoras/Recicladora_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            cont++;
            Recicladora[i][re_Existe] = 1;
            Recicladora[i][re_Base] = DOF2_GetInt(file, "re_Base");
            Recicladora[i][re_X] = DOF2_GetFloat(file,  "re_X");
            Recicladora[i][re_Y] = DOF2_GetFloat(file,  "re_Y");
            Recicladora[i][re_Z] = DOF2_GetFloat(file,  "re_Z");
            Recicladora[i][re_RX] = DOF2_GetFloat(file, "re_RX");
            Recicladora[i][re_RY] = DOF2_GetFloat(file, "re_RY");
            Recicladora[i][re_RZ] = DOF2_GetFloat(file, "re_RZ");
        }
        else
        {
            Recicladora[i][re_Base] = -1;
            Recicladora[i][re_Existe] = 0;
            Recicladora[i][re_X] = 0.0;
            Recicladora[i][re_Y] = 0.0;
            Recicladora[i][re_Z] = 0.0;
            Recicladora[i][re_RX] = 0.0;
            Recicladora[i][re_RY] = 0.0;
            Recicladora[i][re_RZ] = 0.0;
        }

        atualizar_recicladora(i);
    }
    printf("** %d Recyclers loaded.", cont);
    return 1;
}

contar_itens(i)
{
    new cont;
    for(new ii; ii < MAX_SLOTS; ii++)
    {
        if(Caixa[i][caixa_ID][ii] != 0)
        {
            cont++;
        }
    }
    return cont;
}

texto_caixa(i)
{
    new string[150];
    if(Caixa[i][caixa_Existe] == 1)
    {
        if(IsValidDynamic3DTextLabel(Caixa[i][caixa_3D]))
        {
            format(string, 150, "{a1a1a1}Item Box [%d]\n{00ffff}Base: {ffff00}%s\n{00ffff}Items: {ffffff}%d/%d\n\n{a1a1a1}Press Y to access", i, Base[Caixa[i][caixa_Base]][base_Nome], contar_itens(i), MAX_SLOTS);
            UpdateDynamic3DTextLabelText(Caixa[i][caixa_3D], 0xffffff99, string);
        }
    }
    return 1;
}



atualizar_recicladora(i)
{
    new string[150];
    if(IsValidDynamicObject(Recicladora[i][re_Obj])) DestroyDynamicObject_(Recicladora[i][re_Obj]);
    if(IsValidDynamic3DTextLabel(Recicladora[i][re_3D])) DestroyDynamic3DTextLabel(Recicladora[i][re_3D]);
    if(Recicladora[i][re_Existe] == 1)
    {
        if(Recicladora[i][re_Base] == -1)
        {
            destruir_recicladora(i);
            return 1;
        }
        format(string, 150, "{a1a1a1}Recycler [%d]\n{00ffff}Base: {ffff00}%s\n\n{a1a1a1}Press Y to use", i, Base[Recicladora[i][re_Base]][base_Nome]);
        Recicladora[i][re_3D] = CreateDynamic3DTextLabel( string, 0xffffff99, Recicladora[i][re_X], Recicladora[i][re_Y], Recicladora[i][re_Z]+0.2, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
        Recicladora[i][re_Obj] = CreateDynamicObject(1773, Recicladora[i][re_X], Recicladora[i][re_Y], Recicladora[i][re_Z], Recicladora[i][re_RX], Recicladora[i][re_RY], Recicladora[i][re_RZ], 0, 0);
    }
    return 1;
}

atualizar_caixa(i)
{
    if(IsValidDynamicObject(Caixa[i][caixa_Obj])) DestroyDynamicObject_(Caixa[i][caixa_Obj]);
    if(IsValidDynamic3DTextLabel(Caixa[i][caixa_3D])) DestroyDynamic3DTextLabel(Caixa[i][caixa_3D]);
    if(Caixa[i][caixa_Existe] == 1)
    {
        if(Caixa[i][caixa_Base] == -1)
        {
            destruir_caixa(i);
            return 1;
        }

        Caixa[i][caixa_3D] = CreateDynamic3DTextLabel( "_", 0xffffff99, Caixa[i][caixa_X], Caixa[i][caixa_Y], Caixa[i][caixa_Z]+0.2, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
        Caixa[i][caixa_Obj] = CreateDynamicObject(1271, Caixa[i][caixa_X], Caixa[i][caixa_Y], Caixa[i][caixa_Z], Caixa[i][caixa_RX], Caixa[i][caixa_RY], Caixa[i][caixa_RZ], 0, 0);
        texto_caixa(i);
        if(Caixa[i][caixa_Dinamite] != -1) atualizar_explosivo(Caixa[i][caixa_Dinamite]);
    }
    return 1;
}

salvar_caixa(i)
{
    new file[80];
    new linha[100];
    format(file, 80, "Caixas/Caixa_%d.txt", i);
    if(Caixa[i][caixa_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "caixa_Base", Caixa[i][caixa_Base]);
        DOF2_SetInt(file, "caixa_Trancada", Caixa[i][caixa_Trancada]);
        DOF2_SetFloat(file, "caixa_X", Caixa[i][caixa_X]);
        DOF2_SetFloat(file, "caixa_Y", Caixa[i][caixa_Y]);
        DOF2_SetFloat(file, "caixa_Z", Caixa[i][caixa_Z]);
        DOF2_SetFloat(file, "caixa_RX", Caixa[i][caixa_RX]);
        DOF2_SetFloat(file, "caixa_RY", Caixa[i][caixa_RY]);
        DOF2_SetFloat(file, "caixa_RZ", Caixa[i][caixa_RZ]);

        for(new ii; ii < MAX_SLOTS; ii++)
        {
            format(linha, 100, "caixa_ID_%d", ii);
            DOF2_SetInt(file, linha, Caixa[i][caixa_ID][ii]);
            format(linha, 100, "caixa_Unidades_%d", ii);
            DOF2_SetInt(file, linha, Caixa[i][caixa_Unidades][ii]);
            format(linha, 100, "caixa_Tipo_%d", ii);
            DOF2_SetInt(file, linha, Caixa[i][caixa_Tipo][ii]);
        }

        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    return 1;
}

criar_recicladora(playerid)
{
    for(new ii; ii < MAX_RECICLADORAS; ii++) if(Recicladora[ii][re_Existe] == 1) if(Recicladora[ii][re_Base] == BasePlayer(playerid)) return -1;
    for(new i; i < MAX_RECICLADORAS; i++)
    {
        if(Recicladora[i][re_Existe] == 0)
        {
            Recicladora[i][re_Base] = BasePlayer(playerid);
            Recicladora[i][re_Existe] = 1;
            GetPlayerPos(playerid, Recicladora[i][re_X], Recicladora[i][re_Y], Recicladora[i][re_Z]);
            PegarFrentePlayer(playerid, Recicladora[i][re_X], Recicladora[i][re_Y], -1);
            Recicladora[i][re_RX] = 0.0;
            Recicladora[i][re_RY] = 0.0;
            Recicladora[i][re_RZ] = 0.0;
            salvar_recicladora(i);
            atualizar_recicladora(i);
            return i;
        }
    }
    ms(playerid, 0, "Maximum number of Recyclers on the server has been reached!");
    return -1;
}


CaixasBase(b)
{
	new cont;
 	for(new i; i<MAX_CAIXAS; i++) if(Caixa[i][caixa_Existe] == 1) if(Caixa[i][caixa_Base] == b) cont++;
	return cont;
}

PortoesBase(b)
{
	new cont;
 	for(new i; i<MAX_PORTOES; i++) if(Portao[i][portao_Existe] == 1) if(Portao[i][portao_Base] == b) cont++;
	return cont;
}

criar_caixa(playerid)
{
    if(CaixasBase(BasePlayer(playerid)) >= 10) return -2;
    for(new i; i < MAX_CAIXAS; i++)
    {
        if(Caixa[i][caixa_Existe] == 0)
        {
            Caixa[i][caixa_Existe] = 1;
            Caixa[i][caixa_Dinamite] = -1;
            Caixa[i][caixa_Base] = BasePlayer(playerid);
            GetPlayerPos(playerid, Caixa[i][caixa_X], Caixa[i][caixa_Y], Caixa[i][caixa_Z]);
            PegarFrentePlayer(playerid, Caixa[i][caixa_X], Caixa[i][caixa_Y], -1);
            Caixa[i][caixa_RX] = 0.0;
            Caixa[i][caixa_RY] = 0.0;
            Caixa[i][caixa_RZ] = 0.0;
            for(new ii; ii < MAX_SLOTS; ii++)
            {
                Caixa[i][caixa_ID][ii] = 0;
                Caixa[i][caixa_Unidades][ii] = 0;
                Caixa[i][caixa_Tipo][ii] = 0;
            }
            atualizar_caixa(i);
            return i;
        }
    }
    ms(playerid, 0, "Maximum number of Item Boxes on the server has been reached!");
    return -1;
}

MostrarCaixa(playerid, c, con)
{
    new string[300];
    new cont;

    if(DonoBase(playerid) != Caixa[c][caixa_Base] && SubBase(playerid) != Caixa[c][caixa_Base])
    {
        if(Caixa[c][caixa_Trancada] == 1)
        {
            ms(playerid, 0, "This box has been locked by a Leader or Sub-Leader of the base!");
            return 1;
        }
    }

    if(con == -1) // start //
    {
        SetPVarInt(playerid, "caixa", c);
        if(DonoBase(playerid) != Caixa[c][caixa_Base] && SubBase(playerid) != Caixa[c][caixa_Base])
            ShowPlayerDialog_(playerid, DIALOG_CAIXA, DIALOG_STYLE_LIST, "Item Box", "Take Item\nStore Item\nMove Box\n{ff0000}Destroy Box", "Continue", "Close");
        else if(Caixa[c][caixa_Trancada] == 0)
            ShowPlayerDialog_(playerid, DIALOG_CAIXA, DIALOG_STYLE_LIST, "Item Box", "Take Item\nStore Item\nMove Box\n{ff0000}Destroy Box\n{a1a1a1}Lock", "Continue", "Close");
        else
            ShowPlayerDialog_(playerid, DIALOG_CAIXA, DIALOG_STYLE_LIST, "Item Box", "Take Item\nStore Item\nMove Box\n{ff0000}Destroy Box\n{a1a1a1}Unlock", "Continue", "Close");
        return 1;
    }

    if(con == 0) // take item //
    {
        String_Gigante[0] = EOS;
        strcat(String_Gigante, "Name\tUnits\n");
        for(new i; i < MAX_SLOTS; i++)
        {
            Lista_Caixa[playerid][i] = -1;
            if(Caixa[c][caixa_ID][i] != 0)
            {
                format(string, 300, "{ffffff}%s\t{00ffff}%s\n", Itens[Caixa[c][caixa_ID][i]][item_Nome], ConvertMoney(Caixa[c][caixa_Unidades][i]));
                strcat(String_Gigante, string);
                Lista_Caixa[playerid][cont] = i;
                cont++;
            }
        }
        ShowPlayerDialog_(playerid, DIALOG_CAIXA2, DIALOG_STYLE_TABLIST_HEADERS, "Take Item from Box", String_Gigante, "Take", "Back");
        return 1;
    }

    if(con == 1) // store item //
    {
        String_Gigante[0] = EOS;
        strcat(String_Gigante, "Name\tUnits\n");
        for(new i; i < MAX_SLOTS; i++)
        {
            Lista_Caixa[playerid][i] = -1;
            if(Inventario[playerid][i][inv_ID] != 0)
            {
                format(string, 300, "{ffffff}%s\t{ffff00}%s\n", Itens[Inventario[playerid][i][inv_ID]][item_Nome], ConvertMoney(Inventario[playerid][i][inv_Unidades]));
                strcat(String_Gigante, string);
                Lista_Caixa[playerid][cont] = i;
                cont++;
            }
        }
        ShowPlayerDialog_(playerid, DIALOG_CAIXA3, DIALOG_STYLE_TABLIST_HEADERS, "Store Item from Inventory", String_Gigante, "Store", "Back");
        return 1;
    }

    if(con == 2) // move box //
    {
        if(DonoBase(playerid) != Caixa[c][caixa_Base] && SubBase(playerid) != Caixa[c][caixa_Base])
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MostrarCaixa(playerid, c, -1);
            return 1;
        }
        EditDynamicObject2(playerid, Caixa[c][caixa_Obj], 0);
        return 1;
    }

    if(con == 3) // destroy box //
    {
        if(DonoBase(playerid) != Caixa[c][caixa_Base] && SubBase(playerid) != Caixa[c][caixa_Base])
        {
            ms(playerid, 0, "Only the Owner or Sub-owner of the Base can do this.");
            MostrarCaixa(playerid, c, -1);
            return 1;
        }
        destruir_caixa(c);
        ms(playerid, 1, "You destroyed the Item Box!");
    }

    if(con == 4) // lock or unlock box //
    {
        if(Caixa[c][caixa_Trancada] == 1)
        {
            Caixa[c][caixa_Trancada] = 0;
            ms(playerid, 1, "The box has been unlocked!");
        }
        else
        {
            Caixa[c][caixa_Trancada] = 1;
            ms(playerid, 1, "The box has been locked!");
        }
        salvar_caixa(c);
        MostrarCaixa(playerid, c, -1);
        return 1;
    }
    return 1;
}


carregar_portoes()
{
    new file[80];
    new cont;
    for(new i; i < MAX_PORTOES; i++)
    {
        format(file, 80, "Portoes/Portao_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Portao[i][portao_Base] = DOF2_GetInt(file, "portao_Base");
            if(Portao[i][portao_Base] == -1)
            {
                Portao[i][portao_Existe] = 0;
                Portao[i][portao_Dinamite] = -1;
                Portao[i][portao_Modelo] = 0;
                format(Portao[i][portao_Senha], 8, "1234");
                Portao[i][portao_X1] = 0.0;
                Portao[i][portao_Y1] = 0.0;
                Portao[i][portao_Z1] = 0.0;
                Portao[i][portao_RX1] = 0.0;
                Portao[i][portao_RY1] = 0.0;
                Portao[i][portao_RZ1] = 0.0;
                Portao[i][portao_X2] = 0.0;
                Portao[i][portao_Y2] = 0.0;
                Portao[i][portao_Z2] = 0.0;
                Portao[i][portao_RX2] = 0.0;
                Portao[i][portao_RY2] = 0.0;
                Portao[i][portao_RZ2] = 0.0;
                Portao[i][portao_Mundo] = 0;
                Portao[i][portao_Interior] = 0;
                Portao[i][portao_Base] = -1;
                salvar_portao(i);
            }
            else
            {
                cont++;
                Portao[i][portao_Existe] = 1;
                Portao[i][portao_Dinamite] = -1;
                Portao[i][portao_Modelo] = DOF2_GetInt(file, "portao_Modelo");
                Portao[i][portao_Vida] = DOF2_GetInt(file, "portao_Vida");
                if(Portao[i][portao_Vida] == 0)
                {
                    Portao[i][portao_Vida] = 100;
                }
                format(Portao[i][portao_Senha], 8, DOF2_GetString(file, "portao_Senha"));
                Portao[i][portao_X1] = DOF2_GetFloat(file, "portao_X1");
                Portao[i][portao_Y1] = DOF2_GetFloat(file, "portao_Y1");
                Portao[i][portao_Z1] = DOF2_GetFloat(file, "portao_Z1");
                Portao[i][portao_RX1] = DOF2_GetFloat(file, "portao_RX1");
                Portao[i][portao_RY1] = DOF2_GetFloat(file, "portao_RY1");
                Portao[i][portao_RZ1] = DOF2_GetFloat(file, "portao_RZ1");
                Portao[i][portao_X2] = DOF2_GetFloat(file, "portao_X2");
                Portao[i][portao_Y2] = DOF2_GetFloat(file, "portao_Y2");
                Portao[i][portao_Z2] = DOF2_GetFloat(file, "portao_Z2");
                Portao[i][portao_RX2] = DOF2_GetFloat(file, "portao_RX2");
                Portao[i][portao_RY2] = DOF2_GetFloat(file, "portao_RY2");
                Portao[i][portao_RZ2] = DOF2_GetFloat(file, "portao_RZ2");
                Portao[i][portao_Mundo] = DOF2_GetInt(file, "portao_Mundo");
                Portao[i][portao_Interior] = DOF2_GetInt(file, "portao_Interior");
            }
        }
        else
        {
            Portao[i][portao_Existe] = 0;
            Portao[i][portao_Dinamite] = -1;
            Portao[i][portao_Modelo] = 0;
            Portao[i][portao_Vida] = 0;
            format(Portao[i][portao_Senha], 8, "1234");
            Portao[i][portao_X1] = 0.0;
            Portao[i][portao_Y1] = 0.0;
            Portao[i][portao_Z1] = 0.0;
            Portao[i][portao_RX1] = 0.0;
            Portao[i][portao_RY1] = 0.0;
            Portao[i][portao_RZ1] = 0.0;
            Portao[i][portao_X2] = 0.0;
            Portao[i][portao_Y2] = 0.0;
            Portao[i][portao_Z2] = 0.0;
            Portao[i][portao_RX2] = 0.0;
            Portao[i][portao_RY2] = 0.0;
            Portao[i][portao_RZ2] = 0.0;
            Portao[i][portao_Mundo] = 0;
            Portao[i][portao_Interior] = 0;
            Portao[i][portao_Base] = -1;
        }

        atualizar_portao(i);
    }
    printf("** %d Gates loaded.", cont);
    return 1;
}

salvar_portao(i)
{
    new file[80];
    format(file, 80, "Portoes/Portao_%d.txt", i);
    if(Portao[i][portao_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "portao_Modelo", Portao[i][portao_Modelo]);
        DOF2_SetInt(file, "portao_Vida", Portao[i][portao_Vida]);
        DOF2_SetString(file, "portao_Senha", Portao[i][portao_Senha]);
        DOF2_SetFloat(file, "portao_X2", Portao[i][portao_X2]);
        DOF2_SetFloat(file, "portao_Y2", Portao[i][portao_Y2]);
        DOF2_SetFloat(file, "portao_Z2", Portao[i][portao_Z2]);
        DOF2_SetFloat(file, "portao_RX2", Portao[i][portao_RX2]);
        DOF2_SetFloat(file, "portao_RY2", Portao[i][portao_RY2]);
        DOF2_SetFloat(file, "portao_RZ2", Portao[i][portao_RZ2]);
        DOF2_SetFloat(file, "portao_X1", Portao[i][portao_X1]);
        DOF2_SetFloat(file, "portao_Y1", Portao[i][portao_Y1]);
        DOF2_SetFloat(file, "portao_Z1", Portao[i][portao_Z1]);
        DOF2_SetFloat(file, "portao_RX1", Portao[i][portao_RX1]);
        DOF2_SetFloat(file, "portao_RY1", Portao[i][portao_RY1]);
        DOF2_SetFloat(file, "portao_RZ1", Portao[i][portao_RZ1]);
        DOF2_SetInt(file, "portao_Mundo", Portao[i][portao_Mundo]);
        DOF2_SetInt(file, "portao_Base", Portao[i][portao_Base]);
        DOF2_SetInt(file, "portao_Interior", Portao[i][portao_Interior]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    return 1;
}

destruir_portao(i)
{
    if(Portao[i][portao_Existe] == 1)
    {
        Portao[i][portao_Existe] = 0;
        if(Portao[i][portao_Dinamite] != -1) destruir_explosivo(Portao[i][portao_Dinamite]);
        Portao[i][portao_Modelo] = 0;
        Portao[i][portao_Vida] = 0;
        format(Portao[i][portao_Senha], 8, "1234");
        Portao[i][portao_X1] = 0.0;
        Portao[i][portao_Y1] = 0.0;
        Portao[i][portao_Z1] = 0.0;
        Portao[i][portao_RX1] = 0.0;
        Portao[i][portao_RY1] = 0.0;
        Portao[i][portao_RZ1] = 0.0;
        Portao[i][portao_X2] = 0.0;
        Portao[i][portao_Y2] = 0.0;
        Portao[i][portao_Z2] = 0.0;
        Portao[i][portao_RX2] = 0.0;
        Portao[i][portao_RY2] = 0.0;
        Portao[i][portao_RZ2] = 0.0;
        Portao[i][portao_Mundo] = 0;
        Portao[i][portao_Interior] = 0;
        Portao[i][portao_Base] = 0;
        atualizar_portao(i);
        salvar_portao(i);
    }
    return 1;
}

atualizar_portao(i)
{
    KillTimer_(Portao[i][portao_Timer]);
    Portao[i][portao_Aberto] = 0;
    if(IsValidDynamicObject(Portao[i][portao_Obj])) DestroyDynamicObject_(Portao[i][portao_Obj]);
    if(Portao[i][portao_Colisao] != -1) CA_DestroyObject(Portao[i][portao_Colisao]);
    Portao[i][portao_Colisao] = -1;
    if(IsValidDynamic3DTextLabel(Portao[i][portao_3D])) DestroyDynamic3DTextLabel(Portao[i][portao_3D]);
    if(Portao[i][portao_Existe] == 1)
    {
        if(Portao[i][portao_Base] == -1)
        {
            destruir_portao(i);
            return 1;
        }

        if(Portao[i][portao_Vida] == 0)
        {
            destruir_portao(i);
            return 1;
        }

        Portao[i][portao_Obj] = CreateDynamicObject(Portao[i][portao_Modelo], Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1], Portao[i][portao_Mundo], Portao[i][portao_Interior], -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
        Portao[i][portao_Colisao] = CA_CreateObject(Portao[i][portao_Modelo], Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1], true);
        Portao[i][portao_3D] = CreateDynamic3DTextLabel("_", 0xffffff99, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0,  Portao[i][portao_Mundo], Portao[i][portao_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
        string_portao(i);
        if(Portao[i][portao_Dinamite] != -1) atualizar_explosivo(Portao[i][portao_Dinamite]);
    }
    return 1;
}

string_portao(i)
{
    if(Portao[i][portao_Existe] == 1)
    {
        new string[150];
        format(string, 150, "{a1a1a1}Gate: %d\n{98FB98}[%d%%]\n{ffffff}Base: {ffff00}%s\n\n{a1a1a1}Use {00ffff}/open gate {a1a1a1}or {00FFFF}H {a1a1a1}to open", i, Portao[i][portao_Vida], Base[Portao[i][portao_Base]][base_Nome]);
        if(IsValidDynamic3DTextLabel(Portao[i][portao_3D]))
        {
            UpdateDynamic3DTextLabelText(Portao[i][portao_3D], 0xffffff99, string);
        }
    }
    return 1;
}



forward liberar_portao(i);
public liberar_portao(i)
{
    if(Portao[i][portao_Existe] == 1)
    {
        if(Portao[i][portao_Aberto] == 2)
        {
            KillTimer_(Portao[i][portao_Timer]);
            Portao[i][portao_Aberto] = 0;
            new string[150];
            if(IsValidDynamic3DTextLabel(Portao[i][portao_3D])) DestroyDynamic3DTextLabel(Portao[i][portao_3D]);
            format(string, 150, "{a1a1a1}[ Gate: %d ]\n{ffffff}Base: {ffff00}%s\n\n{a1a1a1}Use {00ffff}/opengate {a1a1a1}or {00ffff}H {a1a1a1}to open", i, Base[Portao[i][portao_Base]][base_Nome]);
            Portao[i][portao_3D] = CreateDynamic3DTextLabel( string, 0xffffff99, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0,  Portao[i][portao_Mundo], Portao[i][portao_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
            return 1;
        }
    }
    return 1;
}


forward fechar_portao(i, con);
public fechar_portao(i, con)
{
    if(Portao[i][portao_Existe] == 1)
	{

	    if(con == 1)
	    {
	        atualizar_portao(i);
	        return 1;
	    }

		if(Portao[i][portao_Aberto] == 1)
		{
		    Play_Som(12201, Portao[i][portao_X2], Portao[i][portao_Y2], Portao[i][portao_Z2], 0, 0);
			KillTimer_(Portao[i][portao_Timer]);
            Portao[i][portao_Aberto] = 2;
            MoveDynamicObject(Portao[i][portao_Obj], Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], 2.0, Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1]);
            Portao[i][portao_Timer] = SetTimerEx("liberar_portao", 3000, 0, "d", i);
            if(CA_IsValidObject(Portao[i][portao_Colisao]))
            {
                CA_SetObjectPos(Portao[i][portao_Colisao], Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1]);
                CA_SetObjectRot(Portao[i][portao_Colisao], Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1]);
            }
			return 1;
		}
	}
	return 1;
}

abrir_portao(i, con=0)
{
	if(Portao[i][portao_Existe] == 1)
	{

	    if(con == 1)
	    {
	        new Float:pos[3];
	        KillTimer_(Portao[i][portao_Timer]);
	        if(IsValidDynamicObject(Portao[i][portao_Obj])) DestroyDynamicObject(Portao[i][portao_Obj]);
	        if(IsValidDynamic3DTextLabel(Portao[i][portao_3D])) DestroyDynamic3DTextLabel(Portao[i][portao_3D]);
			if(CA_RayCastLine(Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1]-20, pos[0], pos[1], pos[2] ))
			{
				Portao[i][portao_Obj] = CreateDynamicObject(18717, pos[0], pos[1], pos[2], Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1]);
			}
			else Portao[i][portao_Obj] = CreateDynamicObject(18717, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1]-1, Portao[i][portao_RX1], Portao[i][portao_RY1], Portao[i][portao_RZ1]);
			Portao[i][portao_Timer] = SetTimerEx("fechar_portao", (5*60000), 0, "dd", i, 1);
			return 1;
	    }

		if(Portao[i][portao_Aberto] == 0)
		{
		    Play_Som(12201, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], 0, 0);
			KillTimer_(Portao[i][portao_Timer]);
            Portao[i][portao_Aberto] = 1;
            MoveDynamicObject(Portao[i][portao_Obj], Portao[i][portao_X2], Portao[i][portao_Y2], Portao[i][portao_Z2], 2.0, Portao[i][portao_RX2], Portao[i][portao_RY2], Portao[i][portao_RZ2]);
            Portao[i][portao_Timer] = SetTimerEx("fechar_portao", 5000, 0, "dd", i, 0);
            if(IsValidDynamic3DTextLabel(Portao[i][portao_3D])) DestroyDynamic3DTextLabel(Portao[i][portao_3D]);
            if(CA_IsValidObject(Portao[i][portao_Colisao]))
            {
                CA_SetObjectPos(Portao[i][portao_Colisao], Portao[i][portao_X2], Portao[i][portao_Y2], Portao[i][portao_Z2]);
                CA_SetObjectRot(Portao[i][portao_Colisao], Portao[i][portao_RX2], Portao[i][portao_RY2], Portao[i][portao_RZ2]);
            }
			return 1;
		}
	}
	return 1;
}


CriarPortao(playerid, model)
{
	if(PortoesBase(BasePlayer(playerid)) >= 10) return -2;
	for(new i; i<MAX_PORTOES; i++)
	{
	    if(Portao[i][portao_Existe] == 0)
	    {
	        new senha = 1000 + random(8999);
	        format(Portao[i][portao_Senha], 8, "%d", senha);
	        Portao[i][portao_Existe] = 1;
	        Portao[i][portao_Dinamite] = -1;
	        Portao[i][portao_Vida] = 100;
	        Portao[i][portao_Modelo] = model;
	        Portao[i][portao_Mundo] = GetPlayerVirtualWorld(playerid);
	        Portao[i][portao_Interior] = GetPlayerInterior(playerid);
	        GetPlayerPos(playerid, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1]);
			GetPlayerFacingAngle(playerid, Portao[i][portao_RZ1]);
	        PegarFrentePlayer(playerid, Portao[i][portao_X1], Portao[i][portao_Y1],-1.75);
	        Portao[i][portao_X2] = Portao[i][portao_X1];
	        Portao[i][portao_Y2] = Portao[i][portao_Y1];
	        Portao[i][portao_Z2] = Portao[i][portao_Z1]-5;
	        Portao[i][portao_RX1] = 0;
	        Portao[i][portao_RY1] = 0;
	        Portao[i][portao_RX2] = 0;
	        Portao[i][portao_RY2] = 0;
	        Portao[i][portao_RZ2] = Portao[i][portao_RZ1];
	        Portao[i][portao_Base] = BasePlayer(playerid);
			atualizar_portao(i);
			Streamer_Update(playerid);
	        return i;
	    }
	}
	return -1;
}

MostrarPortao(playerid, i, con=-1)
{
    SetPVarInt(playerid, "portao", i);
    new string[150];
    if(Portao[i][portao_Existe] == 1)
    {
        if(con == -1)
        {
            format(string, 150, "{ffffff}Gate ID: {ffff00}%d", i);
            ShowPlayerDialog_(playerid, DIALOG_PORTAO, DIALOG_STYLE_LIST, string, "Open\nLocate\nChange Password\nClosed Position\nOpen Position\nRepair\n{ffff00}Destroy Gate", "Continue", "Close");
            return 1;
        }

        if(con == 0) // OPEN THE GATE //
        {
            abrir_portao(i);
            MostrarPortao(playerid, i);
            return 1;
        }

        if(con == 1)
        {
            Localizar_Player(playerid, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1], 0, i);
            MostrarPortao(playerid, i);
            return 1;
        }

        if(con == 2)
        {
            ShowPlayerDialog_(playerid, DIALOG_PORTAO2, DIALOG_STYLE_INPUT, "Change gate password", "{ffffff}Enter the new password for the gate:\n\n{a1a1a1}The password must contain from 4 to 8 characters.", "Save", "Cancel");
            return 1;
        }

        if(con == 3)
        {
            SetPVarInt(playerid, "posicao", 0);
            EditDynamicObject2(playerid, Portao[i][portao_Obj], 0);
            ms(playerid, 2, "Change the gate position when it is 'Closed', and save the changes.");
            return 1;
        }

        if(con == 4)
        {
            SetPVarInt(playerid, "posicao", 1);
            EditDynamicObject2(playerid, Portao[i][portao_Obj], 0);
            ms(playerid, 2, "Change the gate position when it is 'Open', and save the changes.");
            return 1;
        }

        if(con == 5)
        {
            if(Portao[i][portao_Existe] == 0)
            {
                ms(playerid, 0, "This gate no longer exists!");
                return 1;
            }

            if(Portao[i][portao_Base] != BasePlayer(playerid))
            {
                ms(playerid, 0, "This gate does not belong to your base!");
                return 1;
            }

            if(Portao[i][portao_Vida] == 100)
            {
                ms(playerid, 0, "This gate does not need repair!");
                MostrarPortao(playerid, i);
                return 1;
            }

            if(!IsPlayerInRangeOfPoint(playerid, 10, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1]))
            {
                ms(playerid, 0, "You are not close to this gate!");
                MostrarPortao(playerid, i);
                return 1;
            }

            new precisa = 100 - Portao[i][portao_Vida];
            if(!tem_item(playerid, 90, precisa))
            {
                format(string, 150, "You do not have %d Scrap in your inventory!", precisa);
                ms(playerid, 0, string);
                return 1;
            }

            diminuir_ingrediente(playerid, 90, precisa);
            format(string, 150, "You used %d Scrap from your inventory, and repaired this gate.", precisa);
            ms(playerid, 1, string);
            Portao[i][portao_Vida] = 100;
            salvar_portao(i);
            string_portao(i);
            return 1;
        }

        if(con == 6)
        {
            destruir_portao(i);
            ms(playerid, 1, "You destroyed the gate!");
            return 1;
        }
    }
    return 1;
}

Localizar_Player(playerid, Float:xxx, Float:yyy, Float:zzz, i, idd=-1)
{
    if(i == -1)
    {
        DisablePlayerCheckpoint(playerid);
        Localizando[playerid] = -1;
        Localizando_ID[playerid] = -1;
        return 1;
    }

    if(i == 99999)
    {
        DisablePlayerCheckpoint(playerid);
        if(Localizando[playerid] == 0) ms(playerid, 1, "You found your Gate.");
        if(Localizando[playerid] == 1) ms(playerid, 1, "You found your Item Box.");
        if(Localizando[playerid] == 2) ms(playerid, 1, "You found your Recycler.");
        if(Localizando[playerid] == 3) ms(playerid, 1, "You found your Crafting Table.");
        if(Localizando[playerid] == 4) ms(playerid, 1, "You found your Base.");
        if(Localizando[playerid] == 5) ms(playerid, 1, "You found the Workshop.");
        if(Localizando[playerid] == 6) ms(playerid, 1, "You found the Gas Station.");
        if(Localizando[playerid] == 7) ms(playerid, 1, "You found the Black Market.");
        if(Localizando[playerid] == 8) ms(playerid, 1, "You found your Vehicle.");
        Localizando_ID[playerid] = -1;
        Localizando[playerid] = -1;
        return 1;
    }

    Localizando[playerid] = i;
    Localizando_ID[playerid] = idd;
    SetPlayerCheckpoint(playerid, xxx, yyy, zzz, 3);

    if(Localizando[playerid] == 0) ms(playerid, 2, "Follow the red map marker to find your Gate.");
    if(Localizando[playerid] == 1) ms(playerid, 2, "Follow the red map marker to find your Item Box.");
    if(Localizando[playerid] == 2) ms(playerid, 2, "Follow the red map marker to find your Recycler.");
    if(Localizando[playerid] == 3) ms(playerid, 2, "Follow the red map marker to find your Crafting Table.");
    if(Localizando[playerid] == 4) ms(playerid, 2, "Follow the red map marker to find your Base.");
    if(Localizando[playerid] == 5) ms(playerid, 2, "Follow the red map marker to find the Workshop.");
    if(Localizando[playerid] == 6) ms(playerid, 2, "Follow the red map marker to find the Gas Station.");
    if(Localizando[playerid] == 7) ms(playerid, 2, "Follow the red map marker to find the Black Market.");
    if(Localizando[playerid] == 8) ms(playerid, 2, "Follow the red map marker to find your Vehicle.");
    return 1;
}

usar_senha_portao(playerid, i)
{
    SetPVarInt(playerid, "portao", i);
    if(Portao[i][portao_Existe] == 1)
    {
        new string[100];
        format(string, 100, "{ffffff}Gate: {00ffff}%d", i);
        ShowPlayerDialog_(playerid, DIALOG_PORTAO4, DIALOG_STYLE_INPUT, string, "{ffffff}Use the {ff0000}password {ffffff}of this gate to open it:", "Open", "Cancel");
    }
    return 1;
}


/*
RandomEx(val1, val2)
{
	if(val1 > val2)
	{
	    new ff = val1;
	    val1 = val2;
	    val2 = ff;
	}
	new val;
	val = val1 + random(val2-val1);
	return val;
}
*/

DestruirFogueira(i)
{
	if(Fogueira[i][f_Existe] == 1)
	{
	    Fogueira[i][f_Existe] = 0;
	    Fogueira[i][f_X] = 0;
	    Fogueira[i][f_Y] = 0;
	    Fogueira[i][f_Z] = 0;
	    Fogueira[i][f_A] = 0;
	    Fogueira[i][f_Vida] = 0;
	    format(Fogueira[i][f_Dono], MAX_PLAYER_NAME, "TIDAK ADA");
	    for(new q; q<5; q++)
	    {
	        Fogueira[i][f_Slot][q] = -1;
	        Fogueira[i][f_Pronto][q] = 0;
	    }
	    if(IsValidDynamicObject(Fogueira[i][f_Obj])) DestroyDynamicObject_(Fogueira[i][f_Obj]);
	    if(IsValidDynamic3DTextLabel(Fogueira[i][f_3D])) DestroyDynamic3DTextLabel(Fogueira[i][f_3D]);
    }
	return 1;
}

CriarFogueira(Float:x, Float:y, Float:z, Float:a, dono[])
{
    for(new i; i < MAX_FOGUEIRAS; i++)
    {
        if(Fogueira[i][f_Existe] == 0)
        {
            z = z - 0.8;
            Fogueira[i][f_Existe] = 1;
            Fogueira[i][f_X] = x;
            Fogueira[i][f_Y] = y;
            Fogueira[i][f_Z] = z;
            Fogueira[i][f_A] = a;
            Fogueira[i][f_Vida] = 1000;
            format(Fogueira[i][f_Dono], MAX_PLAYER_NAME, dono);
            for(new q; q < 5; q++)
            {
                Fogueira[i][f_Slot][q] = -1;
                Fogueira[i][f_Pronto][q] = 0;
            }
            if(IsValidDynamicObject(Fogueira[i][f_Obj])) DestroyDynamicObject_(Fogueira[i][f_Obj]);
            if(IsValidDynamic3DTextLabel(Fogueira[i][f_3D])) DestroyDynamic3DTextLabel(Fogueira[i][f_3D]);

            new str[200];
            Fogueira[i][f_Obj] = CreateDynamicObject(19632, x, y, z - Itens[11][item_DropDZ], 0, 0, a, 0, 0);
            format(str, 200, "CAMPFIRE\nOwner: %s\n\nPress Y to use", Fogueira[i][f_Dono]);
            Fogueira[i][f_3D] = CreateDynamic3DTextLabel(str, 0xffffff99, x, y, z, 10, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
            return i;
        }
    }

    return -1;
}


Mostrar_Fogueira(playerid, f)
{
    if(Fogueira[f][f_Existe] == 1)
    {
        fogueira_player[playerid] = f;
        new sss[500];
        new sss1[200];
        strcat(sss, "Item\tProgress\n");
        for(new aa; aa < 5; aa++)
        {
            if(Fogueira[f][f_Slot][aa] != -1) format(sss1, 200, "{ffffff}%s\t{ffffff}%d%%\n", Tipo_Fogueira[Fogueira[f][f_Slot][aa]][tf_Nome], Fogueira[f][f_Pronto][aa]);
            else format(sss1, 200, "{a1a1a1}EMPTY\t{a1a1a1}0%%\n");
            strcat(sss, sss1);
        }
        strcat(sss, "{000000}_\t{000000}_\n");
        format(sss1, 200, "{00ff00}Add Wood\t%d%%\n", Fogueira[f][f_Vida] / 10);
        strcat(sss, sss1);
        format(sss1, 200, "{ff0000}Destroy Campfire\t%{000000}_\n");
        strcat(sss, sss1);
        ShowPlayerDialog_(playerid, DIALOG_FOGUEIRA, DIALOG_STYLE_TABLIST_HEADERS, "Campfire Information", sss, "Continue", "Close");
    }
    return 1;
}


Mostrar_Itens_Fogueira(playerid)
{
    new sss[500];
    new sss1[200];
    strcat(sss, "Item\tUnits\n");
    for(new aa; aa < sizeof Tipo_Fogueira; aa++)
    {
        format(sss1, 200, "{ffffff}%s\t{a1a1a1}%d\n", Tipo_Fogueira[aa][tf_Nome], Tipo_Fogueira[aa][tf_Unidades]);
        strcat(sss, sss1);
    }
    ShowPlayerDialog_(playerid, DIALOG_FOGUEIRA2, DIALOG_STYLE_TABLIST_HEADERS, "Items to fill a slot", sss, "Continue", "Back");
    return 1;
}

diminuir_ingrediente(playerid, item, quant)
{
	new unids = quant;
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == item)
	    {
	        if(Inventario[playerid][i][inv_Unidades] >= unids)
	        {
	            Inventario[playerid][i][inv_Unidades] -= unids;
	            if(Inventario[playerid][i][inv_Unidades] <= 0)
		        {
		            Inventario[playerid][i][inv_ID] = 0;
			        Inventario[playerid][i][inv_Unidades] = 0;
			        Inventario[playerid][i][inv_Tipo] = 0;
				}
	            return 1;
	        }
	        else
	        {
	            unids -= Inventario[playerid][i][inv_Unidades];
	            Inventario[playerid][i][inv_ID] = 0;
		        Inventario[playerid][i][inv_Unidades] = 0;
		        Inventario[playerid][i][inv_Tipo] = 0;
			}
	    }
	}
	salvarinv(playerid);
	return 1;
}

DestruirVeiculo(i)
{
	new idv = Info_Veiculo[i];
	if(idv != -1)
	{
	    Veiculo[idv][v_Existe] = 0;
        Info_Veiculo[i] = -1;
		Veiculo[idv][v_ID] = -1;
		format(Veiculo[idv][v_Dono], MAX_PLAYER_NAME, Nome(-1));
		Veiculo[idv][v_Cadeado] = 0;
		Veiculo[idv][v_Modelo] = 0;
		Veiculo[idv][v_Gasolina] = 0;
		Veiculo[idv][v_Bateria] = 0;
		Veiculo[idv][v_Lataria] = 0;
		Veiculo[idv][v_Trancado] = 0;
		Veiculo[idv][v_Cor1] = 0;
		Veiculo[idv][v_Cor2] = 0;
		Veiculo[idv][v_Base] = -1;
		Veiculo[idv][v_X] = 0;
		Veiculo[idv][v_Y] = 0;
		Veiculo[idv][v_Z] = 0;
		Veiculo[idv][v_A] = 0;
		Veiculo[idv][v_Pneu][0] = 0;
		Veiculo[idv][v_Pneu][1] = 0;
		Veiculo[idv][v_Pneu][2] = 0;
		Veiculo[idv][v_Pneu][3] = 0;
		for(new a; a<MAX_TUNINGS; a++)
		{
		    DestroyDynamicObject_(Veiculo[idv][v_Obj][a]);
			Veiculo[idv][v_Obj_Existe][a] = 0;
		}
		new file[80];
	    format(file, 80, "Veiculos/Veiculo_%d.txt", idv);
		if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	}
	DestroyVehicle(i);
	return 1;
}

CriarVeiculo(cria, modelo, Float:x, Float:y, Float:z, Float:a, c1=1, c2=1, dono[]="Ninguem", gasolina=100, bateria=100, lataria=100, trancado=0, base=-1, p1=0, p2=0, p3=0, p4=0)
{
	new idv = -1;

 	for(new v; v<MAX_VEICULOS; v++)
	{
	    if(Veiculo[v][v_Existe] == 0)
	    {
	        Veiculo[v][v_Existe] = 1;
	        if(cria == 1)
	        {
	        	idv = CreateVehicle(modelo, x, y, z, a, c1,c2, -1, 0);
	        	Info_Veiculo[idv] = v;
				Veiculo[v][v_ID] = idv;
				CARRO_DE_FERRO_VELHO[idv] = -1;
			}
			format(Veiculo[v][v_Dono], MAX_PLAYER_NAME, dono);
			Veiculo[v][v_Cadeado] = 0;
			Veiculo[v][v_Modelo] = modelo;
			Veiculo[v][v_Gasolina] = gasolina;
			Veiculo[v][v_Bateria] = bateria;
			Veiculo[v][v_Lataria] = lataria;
			Veiculo[v][v_Trancado] = trancado;
			Veiculo[v][v_Cor1] = c1;
			Veiculo[v][v_Cor2] = c2;
			Veiculo[v][v_Base] = base;
			Veiculo[v][v_X] = x;
			Veiculo[v][v_Y] = y;
			Veiculo[v][v_Z] = z;
			Veiculo[v][v_A] = a;
			Veiculo[v][v_Pneu][0] = p1;
			Veiculo[v][v_Pneu][1] = p2;
			Veiculo[v][v_Pneu][2] = p3;
			Veiculo[v][v_Pneu][3] = p4;
			break;
		}
	}

	return idv;
}

carregar_veiculos()
{
    new file[80];
    new sss[100];
    new cont;
    for(new i; i < MAX_VEICULOS; i++)
    {
        Veiculo[i][v_Timer] = -1;
        format(file, 80, "Veiculos/Veiculo_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            if(DOF2_GetInt(file, "v_Modelo") != 0)
            {
                Veiculo[i][v_Existe] = 1;
                format(Veiculo[i][v_Dono], MAX_PLAYER_NAME, DOF2_GetString(file, "v_Dono"));
                Veiculo[i][v_Cadeado] = DOF2_GetInt(file, "v_Cadeado");
                Veiculo[i][v_Modelo] = DOF2_GetInt(file, "v_Modelo");
                Veiculo[i][v_Gasolina] = DOF2_GetInt(file, "v_Gasolina");
                Veiculo[i][v_Bateria] = DOF2_GetInt(file, "v_Bateria");
                Veiculo[i][v_Lataria] = DOF2_GetInt(file, "v_Lataria");
                Veiculo[i][v_Trancado] = DOF2_GetInt(file, "v_Trancado");
                Veiculo[i][v_Cor1] = DOF2_GetInt(file, "v_Cor1");
                Veiculo[i][v_Cor2] = DOF2_GetInt(file, "v_Cor1");
                Veiculo[i][v_Base] = DOF2_GetInt(file, "v_Base");
                Veiculo[i][v_X] = DOF2_GetFloat(file, "v_X");
                Veiculo[i][v_Y] = DOF2_GetFloat(file, "v_Y");
                Veiculo[i][v_Z] = DOF2_GetFloat(file, "v_Z");
                Veiculo[i][v_A] = DOF2_GetFloat(file, "v_A");
                Veiculo[i][v_Vida] = DOF2_GetFloat(file, "v_Vida");
                Veiculo[i][v_Pneu][0] = DOF2_GetInt(file, "v_Pneu1");
                Veiculo[i][v_Pneu][1] = DOF2_GetInt(file, "v_Pneu2");
                Veiculo[i][v_Pneu][2] = DOF2_GetInt(file, "v_Pneu3");
                Veiculo[i][v_Pneu][3] = DOF2_GetInt(file, "v_Pneu4");
                if(Veiculo[i][v_Trancado] == 1) if(Veiculo[i][v_Cadeado] == 0) Veiculo[i][v_Trancado] = 0;

                for(new ii; ii < MAX_TUNINGS; ii++)
                {
                    format(sss, 100, "v_Obj_Existe_%d", ii);
                    Veiculo[i][v_Obj_Existe][ii] = DOF2_GetInt(file, sss);
                    format(sss, 100, "v_Obj_ID_%d", ii);
                    Veiculo[i][v_Obj_ID][ii] = DOF2_GetInt(file, sss);
                    format(sss, 100, "v_Obj_X_%d", ii);
                    Veiculo[i][v_Obj_X][ii] = DOF2_GetFloat(file, sss);
                    format(sss, 100, "v_Obj_Y_%d", ii);
                    Veiculo[i][v_Obj_Y][ii] = DOF2_GetFloat(file, sss);
                    format(sss, 100, "v_Obj_Z_%d", ii);
                    Veiculo[i][v_Obj_Z][ii] = DOF2_GetFloat(file, sss);
                    format(sss, 100, "v_Obj_RX_%d", ii);
                    Veiculo[i][v_Obj_RX][ii] = DOF2_GetFloat(file, sss);
                    format(sss, 100, "v_Obj_RY_%d", ii);
                    Veiculo[i][v_Obj_RY][ii] = DOF2_GetFloat(file, sss);
                    format(sss, 100, "v_Obj_RZ_%d", ii);
                    Veiculo[i][v_Obj_RZ][ii] = DOF2_GetFloat(file, sss);
                }

                for(new po; po < MAX_PORTA_MALAS; po++)
                {
                    format(sss, 100, "inv_ID_%d", po);
                    PortaMalas[i][po][inv_ID] = DOF2_GetInt(file, sss);
                    format(sss, 100, "inv_Unidades_%d", po);
                    PortaMalas[i][po][inv_Unidades] = DOF2_GetInt(file, sss);
                    format(sss, 100, "inv_Tipo_%d", po);
                    PortaMalas[i][po][inv_Tipo] = DOF2_GetInt(file, sss);
                }
                cont++;
            }
        }
    }
    printf("** %d Vehicles loaded!", cont);
    return 1;
}

SalvarVeiculo(idv)
{
    if(idv < 0 || idv >= MAX_VEHICLES) return 1;
    new v = Info_Veiculo[idv];
    if(v != -1)
    {
        new file[80];
        new sss[100];
        format(file, 80, "Veiculos/Veiculo_%d.txt", v);
        if(Veiculo[v][v_Existe] == 1)
        {
            if(!DOF2_FileExists(file)) DOF2_CreateFile(file);

            DOF2_SetString(file, "v_Dono", Veiculo[v][v_Dono]);
            DOF2_SetInt(file, "v_Cadeado", Veiculo[v][v_Cadeado]);
            DOF2_SetInt(file, "v_Modelo", Veiculo[v][v_Modelo]);
            DOF2_SetInt(file, "v_Gasolina", Veiculo[v][v_Gasolina]);
            DOF2_SetInt(file, "v_Bateria", Veiculo[v][v_Bateria]);
            DOF2_SetInt(file, "v_Lataria", Veiculo[v][v_Lataria]);
            DOF2_SetInt(file, "v_Trancado", Veiculo[v][v_Trancado]);
            DOF2_SetInt(file, "v_Cor1", Veiculo[v][v_Cor1]);
            DOF2_SetInt(file, "v_Cor2", Veiculo[v][v_Cor2]);
            DOF2_SetInt(file, "v_Base", Veiculo[v][v_Base]);
            DOF2_SetFloat(file, "v_Vida", Veiculo[v][v_Vida]);
            DOF2_SetFloat(file, "v_X", Veiculo[v][v_X]);
            DOF2_SetFloat(file, "v_Y", Veiculo[v][v_Y]);
            DOF2_SetFloat(file, "v_Z", Veiculo[v][v_Z]);
            DOF2_SetFloat(file, "v_A", Veiculo[v][v_A]);
            DOF2_SetFloat(file, "v_Pneu1", Veiculo[v][v_Pneu][0]);
            DOF2_SetFloat(file, "v_Pneu2", Veiculo[v][v_Pneu][1]);
            DOF2_SetFloat(file, "v_Pneu3", Veiculo[v][v_Pneu][2]);
            DOF2_SetFloat(file, "v_Pneu4", Veiculo[v][v_Pneu][3]);

            for(new ii; ii < MAX_TUNINGS; ii++)
            {
                format(sss, 100, "v_Obj_Existe_%d", ii);
                DOF2_SetInt(file, sss, Veiculo[v][v_Obj_Existe][ii]);
                format(sss, 100, "v_Obj_ID_%d", ii);
                DOF2_SetInt(file, sss, Veiculo[v][v_Obj_ID][ii]);
                format(sss, 100, "v_Obj_X_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_X][ii]);
                format(sss, 100, "v_Obj_Y_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_Y][ii]);
                format(sss, 100, "v_Obj_Z_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_Z][ii]);
                format(sss, 100, "v_Obj_RX_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RX][ii]);
                format(sss, 100, "v_Obj_RY_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RY][ii]);
                format(sss, 100, "v_Obj_RZ_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RZ][ii]);
            }

            for(new po; po < MAX_PORTA_MALAS; po++)
            {
                format(sss, 100, "inv_ID_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_ID]);
                format(sss, 100, "inv_Unidades_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_Unidades]);
                format(sss, 100, "inv_Tipo_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_Tipo]);
            }

            DOF2_SaveFile();
        }
        else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    }
    return 1;
}

SalvarVeiculo2(v)
{
    if(v != -1)
    {
        new file[80];
        new sss[100];
        format(file, 80, "Veiculos/Veiculo_%d.txt", v);
        if(Veiculo[v][v_Existe] == 1)
        {
            if(!DOF2_FileExists(file)) DOF2_CreateFile(file);

            DOF2_SetString(file, "v_Dono", Veiculo[v][v_Dono]);
            DOF2_SetInt(file, "v_Cadeado", Veiculo[v][v_Cadeado]);
            DOF2_SetInt(file, "v_Modelo", Veiculo[v][v_Modelo]);
            DOF2_SetInt(file, "v_Gasolina", Veiculo[v][v_Gasolina]);
            DOF2_SetInt(file, "v_Bateria", Veiculo[v][v_Bateria]);
            DOF2_SetInt(file, "v_Lataria", Veiculo[v][v_Lataria]);
            DOF2_SetInt(file, "v_Trancado", Veiculo[v][v_Trancado]);
            DOF2_SetInt(file, "v_Cor1", Veiculo[v][v_Cor1]);
            DOF2_SetInt(file, "v_Cor2", Veiculo[v][v_Cor2]);
            DOF2_SetInt(file, "v_Base", Veiculo[v][v_Base]);
            DOF2_SetFloat(file, "v_Vida", Veiculo[v][v_Vida]);
            DOF2_SetFloat(file, "v_X", Veiculo[v][v_X]);
            DOF2_SetFloat(file, "v_Y", Veiculo[v][v_Y]);
            DOF2_SetFloat(file, "v_Z", Veiculo[v][v_Z]);
            DOF2_SetFloat(file, "v_A", Veiculo[v][v_A]);
            DOF2_SetFloat(file, "v_Pneu1", Veiculo[v][v_Pneu][0]);
            DOF2_SetFloat(file, "v_Pneu2", Veiculo[v][v_Pneu][1]);
            DOF2_SetFloat(file, "v_Pneu3", Veiculo[v][v_Pneu][2]);
            DOF2_SetFloat(file, "v_Pneu4", Veiculo[v][v_Pneu][3]);

            for(new ii; ii < MAX_TUNINGS; ii++)
            {
                format(sss, 100, "v_Obj_Existe_%d", ii);
                DOF2_SetInt(file, sss, Veiculo[v][v_Obj_Existe][ii]);
                format(sss, 100, "v_Obj_ID_%d", ii);
                DOF2_SetInt(file, sss, Veiculo[v][v_Obj_ID][ii]);
                format(sss, 100, "v_Obj_X_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_X][ii]);
                format(sss, 100, "v_Obj_Y_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_Y][ii]);
                format(sss, 100, "v_Obj_Z_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_Z][ii]);
                format(sss, 100, "v_Obj_RX_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RX][ii]);
                format(sss, 100, "v_Obj_RY_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RY][ii]);
                format(sss, 100, "v_Obj_RZ_%d", ii);
                DOF2_SetFloat(file, sss, Veiculo[v][v_Obj_RZ][ii]);
            }

            for(new po; po < MAX_PORTA_MALAS; po++)
            {
                format(sss, 100, "inv_ID_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_ID]);
                format(sss, 100, "inv_Unidades_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_Unidades]);
                format(sss, 100, "inv_Tipo_%d", po);
                DOF2_SetInt(file, sss, PortaMalas[v][po][inv_Tipo]);
            }

            DOF2_SaveFile();
        }
        else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    }
    return 1;
}


tanque_veiculo(playerid, veh)
{
    new Float:p[4];
    GetVehiclePos(veh, p[0], p[1], p[2]);
    GetVehicleZAngle(veh, p[3]);
    new Float:dist;
	GetDistance(dist, p[0], p[1], p[2], p[0]+(tanque[GetVehicleModel(veh)-400][tanX]), p[1]+(tanque[GetVehicleModel(veh)-400][tanY]), p[2]);
	new Float:ang = GetAngleToPoint(p[0],p[1], p[0]+(tanque[GetVehicleModel(veh)-400][tanX]), p[1]+(tanque[GetVehicleModel(veh)-400][tanY]));
	ang += p[3];
    if(ang > 360.0) ang -= 360.0;
    PegarFrente(p[0],p[1], ang, -dist);
	if(IsPlayerInRangeOfPoint(playerid, 1, p[0],p[1], p[2]))
	{
		SetPlayerFacingAngle(playerid, GetPlayerAngleToPoint(playerid, p[0],p[1]));
		return 1;
	}
	else return 0;
}

forward GetPlayerAngleToPoint(playerid, Float:X, Float:Y);
public GetPlayerAngleToPoint(playerid, Float:X, Float:Y)
{
	new Float:paaX,Float:paaY,Float:paaZ,Float:ang;
	GetPlayerPos(playerid, paaX, paaY, paaZ);
	if( Y > paaY ) ang = (-acos((X - paaX) / floatsqroot((X - paaX)*(X - paaX) + (Y - paaY)*(Y - paaY))) - 90.0);
	else if( Y < paaY && X < paaX ) ang = (acos((X - paaX) / floatsqroot((X - paaX)*(X - paaX) + (Y - paaY)*(Y - paaY))) - 450.0);
	else if( Y < paaY ) ang = (acos((X - paaX) / floatsqroot((X - paaX)*(X - paaX) + (Y - paaY)*(Y - paaY))) - 90.0);
	if(X > paaX) ang = (floatabs(floatabs(ang) + 180.0));
	else ang = (floatabs(ang) - 180.0);
	return floatround(ang);
}

VeiculoBicicleta(carid)
{
    new oo = GetVehicleModel(carid);
	if(oo == 481 ||  oo == 509 || oo == 510 )
	{
		return 1;
	}
	return 0;
}

Moto(oo)
{
	if(oo == 448 ||  oo == 461 ||  oo == 462 ||  oo == 463 ||  oo == 468 ||  oo == 521 ||  oo == 487 ||  oo == 522 ||  oo == 523 ||  oo == 581 ||  oo == 586 )
	{
		return 1;
	}
	return 0;
}

VeiculoMoto(carid)
{
	new oo = GetVehicleModel(carid);
	if(oo == 448 ||  oo == 461 ||  oo == 462 ||  oo == 463 ||  oo == 468 ||  oo == 521 ||  oo == 487 ||  oo == 522 ||  oo == 523 ||  oo == 581 ||  oo == 586 )
	{
		return 1;
	}
	return 0;
}

VeiculoAviao(carid)
{
	new oo = GetVehicleModel(carid);
	if(oo == 487 || oo == 520 || oo == 417 || oo == 425 || oo == 447 || oo == 460 || oo == 464 || oo == 465 || oo == 469 || oo == 476 || oo == 488 || oo == 497
	|| oo == 501 || oo == 511  || oo == 512 || oo == 513 || oo == 519 || oo == 548 || oo == 553 || oo == 563 || oo == 577 || oo == 592 || oo == 593)
	{
		return 1;
	}
	return 0;
}

VeiculoAviao2(oo)
{
	if(oo == 487 || oo == 520 || oo == 417 || oo == 425 || oo == 447 || oo == 460 || oo == 464 || oo == 465 || oo == 469 || oo == 476 || oo == 488 || oo == 497
	|| oo == 501 || oo == 511  || oo == 512 || oo == 513 || oo == 519 || oo == 548 || oo == 553 || oo == 563 || oo == 577 || oo == 592 || oo == 593)
	{
		return 1;
	}
	return 0;
}

VeiculoBarco(carid)
{
    new oo = GetVehicleModel(carid);
 	if(oo == 430 || oo == 452 || oo == 453 || oo == 454 || oo == 472 || oo == 473 || oo == 484 || oo == 493 || oo == 595)
	{
		return 1;
	}
	return 0;
}


forward ProxDetector(Float:radi, playerid, string[],col1,col2,col3,col4,col5);
public ProxDetector(Float:radi, playerid, string[],col1,col2,col3,col4,col5)
{
	if(Online(playerid))
	{
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
  		for(new i; i<MAX_PLAYERS; i++)
		{
			if(Online(i))
			{
			    if(GetPlayerInterior(playerid) == GetPlayerInterior(i) && GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i))
			    {
					GetPlayerPos(i, posx, posy, posz);
					tempposx = (oldposx -posx);
					tempposy = (oldposy -posy);
					tempposz = (oldposz -posz);
					if (((tempposx < radi/16) && (tempposx > -radi/16)) && ((tempposy < radi/16) && (tempposy > -radi/16)) && ((tempposz < radi/16) && (tempposz > -radi/16)))SendClientMessage(i, col1, string);
					else if (((tempposx < radi/8) && (tempposx > -radi/8)) && ((tempposy < radi/8) && (tempposy > -radi/8)) && ((tempposz < radi/8) && (tempposz > -radi/8)))SendClientMessage(i, col2, string);
					else if (((tempposx < radi/4) && (tempposx > -radi/4)) && ((tempposy < radi/4) && (tempposy > -radi/4)) && ((tempposz < radi/4) && (tempposz > -radi/4)))SendClientMessage(i, col3, string);
					else if (((tempposx < radi/2) && (tempposx > -radi/2)) && ((tempposy < radi/2) && (tempposy > -radi/2)) && ((tempposz < radi/2) && (tempposz > -radi/2))) SendClientMessage(i, col4, string);
					else if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi))) SendClientMessage(i, col5, string);
				}
			}
		}
	}
	return 1;
}

forward ProxDetector2(Float:radi, playerid, string[],col1,col2,col3,col4,col5);
public ProxDetector2(Float:radi, playerid, string[],col1,col2,col3,col4,col5)
{
	if(Online(playerid))
	{
		new Float:posx, Float:posy, Float:posz;
		new Float:oldposx, Float:oldposy, Float:oldposz;
		new Float:tempposx, Float:tempposy, Float:tempposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
  		for(new i; i<MAX_PLAYERS; i++)
		{
			if(Online(i))
			{
			    if(i == playerid) continue;
			    if(GetPlayerInterior(playerid) == GetPlayerInterior(i) && GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i))
			    {
					GetPlayerPos(i, posx, posy, posz);
					tempposx = (oldposx -posx);
					tempposy = (oldposy -posy);
					tempposz = (oldposz -posz);
					if (((tempposx < radi/16) && (tempposx > -radi/16)) && ((tempposy < radi/16) && (tempposy > -radi/16)) && ((tempposz < radi/16) && (tempposz > -radi/16)))SendClientMessage(i, col1, string);
					else if (((tempposx < radi/8) && (tempposx > -radi/8)) && ((tempposy < radi/8) && (tempposy > -radi/8)) && ((tempposz < radi/8) && (tempposz > -radi/8)))SendClientMessage(i, col2, string);
					else if (((tempposx < radi/4) && (tempposx > -radi/4)) && ((tempposy < radi/4) && (tempposy > -radi/4)) && ((tempposz < radi/4) && (tempposz > -radi/4)))SendClientMessage(i, col3, string);
					else if (((tempposx < radi/2) && (tempposx > -radi/2)) && ((tempposy < radi/2) && (tempposy > -radi/2)) && ((tempposz < radi/2) && (tempposz > -radi/2))) SendClientMessage(i, col4, string);
					else if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi))) SendClientMessage(i, col5, string);
				}
			}
		}
	}
	return 1;
}

EmCombate(playerid)
{
	if(GetPVarInt(playerid, "emcombate") > gettime()) return 1;
	return 0;
}


Travado(vehicleid)
{
	if(Info_Veiculo[vehicleid] != -1) return Veiculo[Info_Veiculo[vehicleid]][v_Trancado];
	else return 0;
}


mostrar_velocimetro(playerid)
{
	TextDrawShowForPlayer(playerid, T_Velocimetro[0]);
	TextDrawShowForPlayer(playerid, T_Velocimetro[1]);
	TextDrawShowForPlayer(playerid, T_Velocimetro[2]);
	TextDrawShowForPlayer(playerid, T_Velocimetro[3]);
	PlayerTextDrawShow(playerid, T_Velocimetro_p[playerid][0]);
	PlayerTextDrawShow(playerid, T_Velocimetro_p[playerid][1]);
	return 1;
}

esconder_velocimetro(playerid)
{
    TextDrawHideForPlayer(playerid, T_Velocimetro[0]);
	TextDrawHideForPlayer(playerid, T_Velocimetro[1]);
	TextDrawHideForPlayer(playerid, T_Velocimetro[2]);
	TextDrawHideForPlayer(playerid, T_Velocimetro[3]);
	PlayerTextDrawHide(playerid, T_Velocimetro_p[playerid][0]);
	PlayerTextDrawHide(playerid, T_Velocimetro_p[playerid][1]);
	return 1;
}

GetPlayerSpeed(playerid)
{
    new Float:ST[4];
    if(IsPlayerInAnyVehicle(playerid))
    GetVehicleVelocity(GetPlayerVehicleID(playerid),ST[0],ST[1],ST[2]);
    else GetPlayerVelocity(playerid,ST[0],ST[1],ST[2]);
    ST[3] = floatsqroot(floatpower(floatabs(ST[0]), 2.0) + floatpower(floatabs(ST[1]), 2.0) + floatpower(floatabs(ST[2]), 2.0)) * 190.0;
    return floatround(ST[3]);
}

forward veiculo_time(ii);
public veiculo_time(ii)
{
    new motorista;
    new i = Veiculo[ii][v_ID];
    if(GetVehicleModel(i) == 0) return 1;
    new engine, lights, alarm, doors, bonnet, boot, objective;
    GetVehicleParamsEx(i, engine, lights, alarm, doors, bonnet, boot, objective);
	GetVehicleHealth(i, Veiculo[ii][v_Vida]);

    if(Veiculo[ii][v_Vida] < 300.0)
	{
	    Veiculo[ii][v_Vida] = 300.0;
		for(new p; p<MAX_PLAYERS; p++) if(Online(p)) if(IsPlayerInVehicle(p, i)) GameTextForPlayer( p, "Damaged engine" , 5000 , 1 ) ;
		SetVehicleHealth(i, Veiculo[ii][v_Vida]);
		SetVehicleParamsEx(i, 0, lights, alarm, doors, bonnet, boot, objective);
		return 1;
    }

    motorista = -1;
    for(new player; player<MAX_PLAYERS; player++)
    {
        if(Online(player))
        {
            if(IsPlayerInVehicle(player, i))
			{
			    if(GetPlayerState(player) == PLAYER_STATE_DRIVER)
			    {
			        motorista = player;
			        break;
			    }
			}
        }
    }

    new veh = ii;
    if(motorista != -1)
    {
        if(pInfo[motorista][pClasse] != 2)
        {
		    // furar pneu aleatorio //
		    if(!VeiculoAviao(i) && !VeiculoBarco(i) && !VeiculoMoto(i) && !VeiculoBicicleta(i))
		    {
			    if(GetVehicleSpeed(i) > 20)
			    {
			        new rand = random(380);
			        if(rand == 0)
			        {
			            new panels1, doors1, lights1, tires1;
						GetVehicleDamageStatus(i, panels1, doors1, lights1, tires1);
						new cont;
						new pneus_status[4];
						for(new f; f<4; f++)
						{
	   		    			pneus_status[f] = -1;
						    if(Veiculo[veh][v_Pneu][f] == 0)
						    {
						        pneus_status[cont] = f;
						        cont++;
						    }
						}
						if(cont > 0)
						{
						    new rand2 = random(cont);
						    for(new p; p<MAX_PLAYERS; p++) if(Online(p)) if(IsPlayerInVehicle(p, i)) GameTextForPlayer( p, "FLAT TIRE" , 5000 , 1 ) ;
						    Veiculo[veh][v_Pneu][pneus_status[rand2]] = 1;
						    UpdateVehicleDamageStatus(i, panels1, doors1, lights1, encode_tires(Veiculo[veh][v_Pneu][0], Veiculo[veh][v_Pneu][1], Veiculo[veh][v_Pneu][2], Veiculo[veh][v_Pneu][3]));
						}
					}
			    }
		    }
	    }
    }

    // diminuir a gasolina //
	if(!VeiculoBicicleta(i))
	{
	    if(engine == 1)
		{
		    diminuir_gasolina[i] ++;
		    new valor = 60;
		    if(motorista != -1) if(pInfo[motorista][pClasse] == 2) valor = 150;
		    if(diminuir_gasolina[i] == valor)
		    {
		        diminuir_gasolina[i] = 0;
		        if(Veiculo[veh][v_Gasolina] > 1) Veiculo[veh][v_Gasolina] --;
		    }

		    diminuir_bateria[i] ++;
		    new valor2 = 120;
		    if(motorista != -1) if(pInfo[motorista][pClasse] == 2) valor2 = 250;

		    if(diminuir_bateria[i] == valor2)
		    {
		        diminuir_bateria[i] = 0;
		        if(Veiculo[veh][v_Bateria] > 1) Veiculo[veh][v_Bateria] --;
		    }

		    if(diminuir_gasolina[i] == 10 || diminuir_gasolina[i] == 20 || diminuir_gasolina[i] == 30 || diminuir_gasolina[i] == 40 || diminuir_gasolina[i] == 50 || diminuir_gasolina[i] == 60)
		    {
		        if(Veiculo[veh][v_Gasolina] < 5)
		        {
		            SetVehicleParamsEx(i, 0, lights, alarm, doors, bonnet, boot, objective);
					for(new p; p<MAX_PLAYERS; p++) if(Online(p)) if(IsPlayerInVehicle(p, i)) GameTextForPlayer( p, "Low gasoline" , 5000 , 1 ) ;
		        }
		    }
		    else if(diminuir_bateria[i] == 10 || diminuir_bateria[i] == 20 || diminuir_bateria[i] == 30 || diminuir_bateria[i] == 40 || diminuir_bateria[i] == 50 || diminuir_bateria[i] == 60 ||
			diminuir_bateria[i] == 70 || diminuir_bateria[i] == 80 || diminuir_bateria[i] == 90 || diminuir_bateria[i] == 100 || diminuir_bateria[i] == 110 || diminuir_bateria[i] == 120 )
			{
				if(Veiculo[veh][v_Bateria] < 8)
		        {
	         		SetVehicleParamsEx(i, 0, 0, alarm, doors, bonnet, boot, objective);
		            for(new p; p<MAX_PLAYERS; p++) if(Online(p)) if(IsPlayerInVehicle(p, i)) GameTextForPlayer( p, "Little battery" , 5000 , 1 ) ;
		        }
		    }
		}
		else
		{
		    if(lights == 1)
			{
			    diminuir_bateria[i] ++;

			    new valor3 = 120;
		    	if(motorista != -1) if(pInfo[motorista][pClasse] == 2) valor3 = 250;

			    if(diminuir_bateria[i] == valor3)
			    {
			        diminuir_bateria[i] = 0;
			        if(Veiculo[veh][v_Bateria] > 1) Veiculo[veh][v_Bateria] --;
					if(diminuir_bateria[i] == 10 || diminuir_bateria[i] == 20 || diminuir_bateria[i] == 30 || diminuir_bateria[i] == 40 || diminuir_bateria[i] == 50 || diminuir_bateria[i] == 60 ||
					diminuir_bateria[i] == 70 || diminuir_bateria[i] == 80 || diminuir_bateria[i] == 90 || diminuir_bateria[i] == 100 || diminuir_bateria[i] == 110 || diminuir_bateria[i] == 120 )
					{
						if(Veiculo[veh][v_Bateria] < 8)
				        {
			         		SetVehicleParamsEx(i, 0, 0, alarm, doors, bonnet, boot, objective);
				            for(new p; p<MAX_PLAYERS; p++) if(Online(p)) if(IsPlayerInVehicle(p, i)) GameTextForPlayer( p, "Little battery" , 5000 , 1 ) ;
				        }
				    }
			    }
			}
	    }
    }
	return 1;
}

mostrar_veiculos(playerid, con, veh = -1)
{
    new sss[1000];
    new sss1[100];
    new Float:p[6];
    GetPlayerPos(playerid, p[0], p[1], p[2]);

    // show vehicles //
    if(con == 0)
    {
        new cont;
        strcat(sss, "ID\tModel\tDistance\n");
        for(new i; i < MAX_VEHICLES; i++)
        {
            LISTA[playerid][i] = -1;
            if(GetVehicleModel(i) != 0)
            {
                new v = Info_Veiculo[i];
                if(v != -1)
                {
                    if(Comparar(Nome(playerid), Veiculo[v][v_Dono]))
                    {
                        GetVehiclePos(i, p[3], p[4], p[5]);
                        new Float:dist;
                        GetDistance(dist, p[0], p[1], p[2], p[3], p[4], p[5]);
                        format(sss1, 100, "{a1a1a1}%d\t{00ffff}%s\t{ffff00}%.0f Meters\n", i, NomeVeiculos[GetVehicleModel(i) - 400], dist);
                        LISTA[playerid][cont] = i;
                        cont++;
                        strcat(sss, sss1);
                    }
                }
            }
        }

        format(sss1, 100, "{ffffff}Vehicles {a1a1a1}[{00ffff}%d{a1a1a1}]", cont);
        ShowPlayerDialog_(playerid, DIALOG_VEICULOS, DIALOG_STYLE_TABLIST_HEADERS, sss1, sss, "Continue", "Close");
        return 1;
    }

    // show vehicle information //
    if(con == 1)
    {
        new tre = Info_Veiculo[veh];
        if(tre != -1)
        {
            SetPVarInt(playerid, "veh", veh);
            new engine, lights, alarm, doors, bonnet, boot, objective;
            GetVehicleParamsEx(veh, engine, lights, alarm, doors, bonnet, boot, objective);
            new s_engine[30], s_lights[30], s_boot[30], s_bonnet[30], s_locks[30];
            if(engine == 1) format(s_engine, 30, "{00FF00}ON");
            else format(s_engine, 30, "{FF0000}OFF");
            if(lights == 1) format(s_lights, 30, "{00FF00}ON");
            else format(s_lights, 30, "{FF0000}OFF");
            if(bonnet == 1) format(s_bonnet, 30, "{00FF00}OPEN");
            else format(s_bonnet, 30, "{FF0000}CLOSED");
            if(boot == 1) format(s_boot, 30, "{00FF00}OPEN");
            else format(s_boot, 30, "{FF0000}CLOSED");
            if(Veiculo[Info_Veiculo[veh]][v_Trancado] == 0) format(s_locks, 30, "{00FF00}UNLOCKED");
            else format(s_locks, 30, "{FF0000}LOCKED");

            strcat(sss, "Info\tStatus\n");

            strcat(sss, "{FF8C00}Locate\t{a1a1a1}Current Location\n");
            strcat(sss, "{00ffff}Park\t{a1a1a1}Spawn Position\n");
            format(sss1, 100, "Engine\t%s\n", s_engine), strcat(sss, sss1);
            format(sss1, 100, "Lights\t%s\n", s_lights), strcat(sss, sss1);
            format(sss1, 100, "Bonnet\t%s\n", s_bonnet), strcat(sss, sss1);
            format(sss1, 100, "Boot\t%s\n", s_boot), strcat(sss, sss1);
            format(sss1, 100, "Locks\t%s\n", s_locks), strcat(sss, sss1);
            strcat(sss, "{00ffff}Attached Items\t{a1a1a1}EDIT\n");
            strcat(sss, "{ff0000}Delete Vehicle\t{a1a1a1}Permanently\n");
            ShowPlayerDialog_(playerid, DIALOG_VEICULOS2, DIALOG_STYLE_TABLIST_HEADERS, NomeVeiculos[GetVehicleModel(veh) - 400], sss, "Continue", "Close");
            return 1;
        }
    }

    return 1;
}



carregar_actors()
{
    new file[80];
    new cont;
    for(new i; i < MAX_BOOTS; i++)
    {
        format(file, 80, "Actors/Actor_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            cont++;
            Actor[i][a_Existe] = 1;
            Actor[i][a_Skin] = DOF2_GetInt(file, "a_Skin");
            format(Actor[i][a_Nome], MAX_PLAYER_NAME, DOF2_GetString(file, "a_Nome"));
            format(Actor[i][a_Anim1], 40, DOF2_GetString(file, "a_Anim1"));
            format(Actor[i][a_Anim2], 40, DOF2_GetString(file, "a_Anim2"));
            Actor[i][a_Animacao] = DOF2_GetInt(file, "a_Animacao");
            Actor[i][a_X] = DOF2_GetFloat(file, "a_X");
            Actor[i][a_Y] = DOF2_GetFloat(file, "a_Y");
            Actor[i][a_Z] = DOF2_GetFloat(file, "a_Z");
            Actor[i][a_A] = DOF2_GetFloat(file, "a_A");
            Actor[i][a_Mundo] = DOF2_GetInt(file, "a_Mundo");
            Actor[i][a_Interior] = DOF2_GetInt(file, "a_Interior");
            atualizar_actor(i);
        }
    }
    printf("** %d Actors loaded.", cont);
    return 1;
}


salvar_actor(i)
{
    new file[80];
    format(file, 80, "Actors/Actor_%d.txt", i);
    if(Actor[i][a_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "a_Skin", Actor[i][a_Skin]);
        DOF2_SetString(file, "a_Nome", Actor[i][a_Nome]);
        DOF2_SetString(file, "a_Anim1", Actor[i][a_Anim1]);
        DOF2_SetString(file, "a_Anim2", Actor[i][a_Anim2]);
        DOF2_SetInt(file, "a_Animacao", Actor[i][a_Animacao]);
		DOF2_SetFloat(file, "a_X", Actor[i][a_X]);
		DOF2_SetFloat(file, "a_Y", Actor[i][a_Y]);
		DOF2_SetFloat(file, "a_Z", Actor[i][a_Z]);
		DOF2_SetFloat(file, "a_A", Actor[i][a_A]);
        DOF2_SetInt(file, "a_Mundo", Actor[i][a_Mundo]);
		DOF2_SetInt(file, "a_Interior", Actor[i][a_Interior]);
        DOF2_SaveFile();
    }
	else if(!DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}


destruir_actor(i)
{
    Actor[i][a_Existe] = 0;
    atualizar_actor(i);
    salvar_actor(i);
	return 1;
}


atualizar_actor(i)
{
	DestroyDynamicActor(Actor[i][a_Actor]);
	DestroyDynamic3DTextLabel(Actor[i][a_3D]);
	if(Actor[i][a_Existe] == 1)
	{
        Actor[i][a_Actor] = CreateDynamicActor(Actor[i][a_Skin], Actor[i][a_X],Actor[i][a_Y],Actor[i][a_Z], Actor[i][a_A], 1, 100.0, Actor[i][a_Mundo], Actor[i][a_Interior], -1, STREAMER_ACTOR_SD,-1, 0);
	    Actor[i][a_3D] = CreateDynamic3DTextLabel( Actor[i][a_Nome], 0xffffff99, Actor[i][a_X],Actor[i][a_Y],Actor[i][a_Z]+1.05, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, Actor[i][a_Mundo], Actor[i][a_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
		if(Actor[i][a_Animacao] == 1)
		{
		    ApplyDynamicActorAnimation(Actor[i][a_Actor], Actor[i][a_Anim1], Actor[i][a_Anim2], 4.1, 1, 0, 0, 0, 0);
		}
	}
	return 1;
}


criar_actor(Float:x, Float:y, Float:z, Float:a, nome[], interior, mundo, skin, anim=0, anim1[]="Nenhuma", anim2[]="Nenhuma")
{
	for(new i; i<MAX_BOOTS; i++)
	{
		if(Actor[i][a_Existe] == 0)
		{
            Actor[i][a_Existe] = 1;
            Actor[i][a_X] = x;
            Actor[i][a_Y] = y;
            Actor[i][a_Z] = z;
            Actor[i][a_A] = a;
            Actor[i][a_Skin] = skin;
            Actor[i][a_Mundo] = mundo;
            Actor[i][a_Interior] = interior;
            Actor[i][a_Animacao] = anim;
            format(Actor[i][a_Nome], MAX_PLAYER_NAME, nome);
            format(Actor[i][a_Anim1], 40, anim1);
            format(Actor[i][a_Anim2], 40, anim2);
            atualizar_actor(i);
    		salvar_actor(i);
			return i;
		}
	}
	return -1;
}

carregar_mercadosnegros()
{
	new file[80];
	new cont;
	for(new i; i<MAX_MERCADO_NEGRO; i++)
	{
		format(file, 80, "MercadosNegros/MN_%d.txt", i);
		if(DOF2_FileExists(file))
		{
		    cont++;
			MercadoNegro[i][mn_Existe] = 1;
			MercadoNegro[i][mn_EntrarX] = DOF2_GetFloat(file, "mn_EntrarX");
            MercadoNegro[i][mn_EntrarY] = DOF2_GetFloat(file, "mn_EntrarY");
            MercadoNegro[i][mn_EntrarZ] = DOF2_GetFloat(file, "mn_EntrarZ");
            MercadoNegro[i][mn_SairX] = DOF2_GetFloat(file, "mn_SairX");
            MercadoNegro[i][mn_SairY] = DOF2_GetFloat(file, "mn_SairY");
            MercadoNegro[i][mn_SairZ] = DOF2_GetFloat(file, "mn_SairZ");
        	MercadoNegro[i][mn_Interior] = DOF2_GetInt(file, "mn_Interior");
		}
		T_Mapa_Mercado[i] = TextDrawCreate(0.0, 0.0, "hud:radar_LocoSyndicate");
		TextDrawTextSize(T_Mapa_Mercado[i], 10.000000, 10.000000);
		TextDrawAlignment(T_Mapa_Mercado[i], 1);
		TextDrawSetShadow(T_Mapa_Mercado[i], 0);
		TextDrawBackgroundColor(T_Mapa_Mercado[i], 255);
		TextDrawFont(T_Mapa_Mercado[i], 4);
		TextDrawSetProportional(T_Mapa_Mercado[i], 0);
		TextDrawColor(T_Mapa_Mercado[i], -1);
		TextDrawSetSelectable(T_Mapa_Mercado[i], 1);
		atualizar_mercadonegro(i);
	}
	printf("** %d Loaded black markets.", cont);
	return 1;
}

salvar_mercadonegro(i)
{
	new file[80];
	if(MercadoNegro[i][mn_Existe] == 1)
	{
	    format(file, 80, "MercadosNegros/MN_%d.txt", i);
	    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
		DOF2_SetFloat(file, "mn_EntrarX", MercadoNegro[i][mn_EntrarX]);
		DOF2_SetFloat(file, "mn_EntrarY", MercadoNegro[i][mn_EntrarY]);
		DOF2_SetFloat(file, "mn_EntrarZ", MercadoNegro[i][mn_EntrarZ]);
		DOF2_SetFloat(file, "mn_SairX", MercadoNegro[i][mn_SairX]);
		DOF2_SetFloat(file, "mn_SairY", MercadoNegro[i][mn_SairY]);
		DOF2_SetFloat(file, "mn_SairZ", MercadoNegro[i][mn_SairZ]);
		DOF2_SetInt(file, "mn_Interior", MercadoNegro[i][mn_Interior]);
		DOF2_SaveFile();
	}
	else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

atualizar_mercadonegro(i)
{
	if(IsValidDynamicPickup(MercadoNegro[i][mn_EntrarPickup])) DestroyDynamicPickup(MercadoNegro[i][mn_EntrarPickup]);
	if(IsValidDynamicPickup(MercadoNegro[i][mn_SairPickup])) DestroyDynamicPickup(MercadoNegro[i][mn_SairPickup]);
	if(IsValidDynamic3DTextLabel(MercadoNegro[i][mn_Entrar3D])) DestroyDynamic3DTextLabel(MercadoNegro[i][mn_Entrar3D]);
	if(IsValidDynamic3DTextLabel(MercadoNegro[i][mn_Sair3D])) DestroyDynamic3DTextLabel(MercadoNegro[i][mn_Sair3D]);
	if(IsValidDynamicMapIcon(MercadoNegro[i][mn_Mapa])) DestroyDynamicMapIcon_(MercadoNegro[i][mn_Mapa]);

    new Float:pos[2];
    pos[0] = (MercadoNegro[i][mn_EntrarX]/20)+315.0;
   	pos[1] = 185.0 + ((MercadoNegro[i][mn_EntrarY]/20)*(-1));
    TextDrawSetPos(T_Mapa_Mercado[i], pos[0], pos[1]);
	if(MercadoNegro[i][mn_Existe] == 1)
	{
		MercadoNegro[i][mn_EntrarPickup] = CreateDynamicPickup(19133, 1, MercadoNegro[i][mn_EntrarX], MercadoNegro[i][mn_EntrarY], MercadoNegro[i][mn_EntrarZ], 0, 0, -1, STREAMER_PICKUP_SD, -1,  0);
		MercadoNegro[i][mn_SairPickup] = CreateDynamicPickup(19133, 1, MercadoNegro[i][mn_SairX], MercadoNegro[i][mn_SairY], MercadoNegro[i][mn_SairZ], i, MercadoNegro[i][mn_Interior], -1, STREAMER_PICKUP_SD, -1,  0);
		MercadoNegro[i][mn_Entrar3D] = CreateDynamic3DTextLabel( "{00ffff}BLACK MARKET\n{a1a1a1}Press H to Exit", 0xffffff99, MercadoNegro[i][mn_EntrarX], MercadoNegro[i][mn_EntrarY], MercadoNegro[i][mn_EntrarZ], 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
		MercadoNegro[i][mn_Sair3D] = CreateDynamic3DTextLabel( "{a1a1a1}Press H to Exit", 0xffffff99, MercadoNegro[i][mn_SairX], MercadoNegro[i][mn_SairY], MercadoNegro[i][mn_SairZ], 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, i, MercadoNegro[i][mn_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
		MercadoNegro[i][mn_Mapa] = CreateDynamicMapIcon(MercadoNegro[i][mn_EntrarX], MercadoNegro[i][mn_EntrarY], MercadoNegro[i][mn_EntrarZ], 23, 0xffffffff, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_GLOBAL, -1, 0);
		TextDrawColor(T_Mapa_Mercado[i], -1);
		TextDrawSetSelectable(T_Mapa_Mercado[i], 1);
	}
	else
	{
	    TextDrawColor(T_Mapa_Mercado[i], 0x00000000);
	    TextDrawSetSelectable(T_Mapa_Mercado[i], 0);
	}

	return 1;
}


menu_mercadonegro(playerid, con=0, id=0)
{
    String_Gigante[0] = EOS;
    new sss1[500];

    // show list //
    if(con == 0)
    {
        strcat(String_Gigante, "Item\tUnits\tPrice\n");
        for(new i; i < sizeof itens_mercado; i++)
        {
            format(sss1, 100, "{ffffff}%s\t{a1a1a1}%s\t{00ff00}$ %s\n", Itens[itens_mercado[i][0]][item_Nome], ConvertMoney(itens_mercado[i][1]), ConvertMoney(itens_mercado[i][2]) );
            strcat(String_Gigante, sss1);
        }
        ShowPlayerDialog_(playerid, DIALOG_MERCADO_NEGRO, DIALOG_STYLE_TABLIST_HEADERS, "Black Market", String_Gigante, "Continue", "Close");
    }

    // show item info and offer purchase //
    if(con == 1)
    {
        SetPVarInt(playerid, "item_mn", id);
        format(sss1, 500, "~y~%s~n~~w~%s Unit(s)~n~~g~~h~$ %s", Itens[itens_mercado[id][0]][item_Nome], ConvertMoney(itens_mercado[id][1]), ConvertMoney(itens_mercado[id][2]) );
        PlayerTextDrawSetString(playerid, T_MercadoNegro_p[playerid][1], sss1);
        PlayerTextDrawSetPreviewModel(playerid, T_MercadoNegro_p[playerid][0], Itens[itens_mercado[id][0]][item_Modelo]);
        PlayerTextDrawSetPreviewRot(playerid, T_MercadoNegro_p[playerid][0], Itens[itens_mercado[id][0]][item_PreX], Itens[itens_mercado[id][0]][item_PreY], Itens[itens_mercado[id][0]][item_PreZ], Itens[itens_mercado[id][0]][item_PreV]);

        mostrando_mn[playerid] = 1;
        PlayerTextDrawShow(playerid, T_MercadoNegro_p[playerid][0]);
        PlayerTextDrawShow(playerid, T_MercadoNegro_p[playerid][1]);
        TextDrawShowForPlayer(playerid, T_MercadoNegro[0]);
        TextDrawShowForPlayer(playerid, T_MercadoNegro[1]);
        TextDrawShowForPlayer(playerid, T_MercadoNegro[2]);
        TextDrawShowForPlayer(playerid, T_MercadoNegro[3]);
        SelectTextDraw_(playerid, 0x00ffffff);
    }

    // bought the item, check money and inventory //
    if(con == 2)
    {
        if(GranaPlayer(playerid) < itens_mercado[id][2])
        {
            format(sss1, 200, "You do not have $ %s to buy this item!", ConvertMoney(itens_mercado[id][2]));
            ms(playerid, 0, sss1);
            return 1;
        }

        if(SlotsVazios(playerid) == 0) return ms(playerid, 0, "Your Inventory is full, discard something to make the purchase!");
        AddInv(playerid, itens_mercado[id][0], itens_mercado[id][1]);
        if(mostrando_mn[playerid] == 1)
        {
            mostrando_mn[playerid] = 0;
            PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][0]);
            PlayerTextDrawHide(playerid, T_MercadoNegro_p[playerid][1]);
            TextDrawHideForPlayer(playerid, T_MercadoNegro[0]);
            TextDrawHideForPlayer(playerid, T_MercadoNegro[1]);
            TextDrawHideForPlayer(playerid, T_MercadoNegro[2]);
            TextDrawHideForPlayer(playerid, T_MercadoNegro[3]);
            CancelSelectTextDraw_(playerid);
        }
        format(sss1, 200, "You bought %s %s for $ %s! Check your Inventory.", ConvertMoney(itens_mercado[id][1]), Itens[itens_mercado[id][0]][item_Nome], ConvertMoney(itens_mercado[id][2]));
        ms(playerid, 1, sss1);
        SetarGrana(playerid, GranaPlayer(playerid) - itens_mercado[id][2]);
        menu_mercadonegro(playerid);
        salvarplayer(playerid);
    }

    return 1;
}




montar_arma(playerid, con=0, id=0)
{
    new sss[1000];
    new sss1[100];

    // show list //
    if(con == 0)
    {
        strcat(sss, "Weapon\tType\tMaterial\n");
        for(new i; i < sizeof lista_montar; i++)
        {
            format(sss1, 100, "{ffffff}%s\t{a1a1a1}%s\t{00ff00}%02d {a1a1a1}Fragments\n", Itens[lista_montar[i][0]][item_Nome], tipo_arma(Itens[lista_montar[i][0]][item_Modelo]), lista_montar[i][2]);
            strcat(sss, sss1);
        }
        ShowPlayerDialog_(playerid, DIALOG_MONTAR_ARMA, DIALOG_STYLE_TABLIST_HEADERS, "Use Fragments", sss, "Continue", "Close");
    }

    if(con == 1)
    {
        SetPVarInt(playerid, "id_frag", id);
        format(sss1, 100, "{ffffff}Assemble {00ffff}%s {a1a1a1}%s", Itens[lista_montar[id][0]][item_Nome], tipo_arma(Itens[lista_montar[id][0]][item_Modelo]));
        format(sss, 500, "\n{ffffff}Do you want to use {00ffff}%d {ffff00}%s {ffffff}to assemble a {00ffff}%s?\n\n{00ffff}Note: {a1a1a1}Fragments will be consumed and the weapon will go to your Inventory!\n", lista_montar[id][2], Itens[lista_montar[id][1]][item_Nome], Itens[lista_montar[id][0]][item_Nome]);
        ShowPlayerDialog_(playerid, DIALOG_MONTAR_ARMA2, DIALOG_STYLE_MSGBOX, sss1, sss, "Confirm", "Cancel");
    }

    if(con == 2)
    {
        format(sss, 500, "You do not have %d %s in your Inventory!", lista_montar[id][2], Itens[lista_montar[id][1]][item_Nome]);
        if(!tem_item(playerid, lista_montar[id][1], lista_montar[id][2]))
        {
            OnDialogResponse(playerid, DIALOG_MONTAR_ARMA, 1, id, "");
            ms(playerid, 0, sss);
            return 1;
        }

        if(SlotsVazios(playerid) == 0) return ms(playerid, 0, "Your Inventory is full!");
        AddInv(playerid, lista_montar[id][0], 1);
        consumir_inv(playerid, lista_montar[id][1], lista_montar[id][2]);
        format(sss, 100, "You assembled a %s using %d %s from your Inventory!", Itens[lista_montar[id][0]][item_Nome], lista_montar[id][2], Itens[lista_montar[id][1]][item_Nome]);
        ms(playerid, 1, sss);
        montar_arma(playerid);
        salvarplayer(playerid);
    }

    return 1;
}




nome_pneu(pneu)
{
    new nome[40];
    if(pneu == 0) format(nome, 40, "Ban Belakang Kanan");
    if(pneu == 1) format(nome, 40, "Ban Depan Kanan");
    if(pneu == 2) format(nome, 40, "Ban Belakang Kiri");
    if(pneu == 3) format(nome, 40, "Ban Depan Kiri");
    return nome;
}


mostrar_pneus(playerid, idv)
{
    new sss[1000];
    new sss1[100];
    strcat(sss, "Tire\tCondition\n");
    for(new i; i < 4; i++)
    {
        if(Veiculo[idv][v_Pneu][i] == 0) format(sss1, 100, "{a1a1a1}%s\t{00ff00}Good\n", nome_pneu(i));
        else format(sss1, 100, "{a1a1a1}%s\t{ff0000}Flat\n", nome_pneu(i));
        strcat(sss, sss1);
    }
    format(sss1, 100, "{ffffff}Vehicle Tires [ {a1a1a1}%s {ffffff}]", NomeVeiculos[Veiculo[idv][v_Modelo] - 400]);
    ShowPlayerDialog_(playerid, DIALOG_PNEUS, DIALOG_STYLE_TABLIST_HEADERS, sss1, sss, "Change", "Cancel");
    return 1;
}


GetVehicleSpeed(vehicleid)
{
    new Float:Pos[3];
    GetVehicleVelocity(vehicleid, Pos[0], Pos[1], Pos[2]);
    return floatround(floatsqroot(Pos[0] * Pos[0] + Pos[1] * Pos[1] + Pos[2] * Pos[2]) * 180.00);
}

ms(playerid, tipo, menssag[])
{
	if(Online(playerid))
	{
		new sss[300];
		if(tipo == 3) SendClientMessage(playerid, 0xF0E68Cff, menssag );
        if(tipo == 4) SendClientMessage(playerid, 0xFA8072ff, menssag );
        if(tipo == 5) SendClientMessage(playerid, 0xF0E68Cff, menssag );
		if(tipo == 0)
		{
			format(sss, 300, "[!] {C0C0C0}%s", menssag);
			SendClientMessage(playerid, 0xff0000ff, sss );
		}
		if(tipo == 1)
		{
			format(sss, 300, "[!] {F0FFF0}%s", menssag);
			SendClientMessage(playerid, 0x00ff00ff, sss );
		}
		if(tipo == 2)
		{
			format(sss, 300, "[!] {ADD8E6}%s", menssag);
			SendClientMessage(playerid, 0x00BFFFff, sss );
		}
	}
	return -555;
}

paginas(linhas, size)
{
    new cont = size;
	new pags;
    new sobra;
    new div;
    if(cont <= linhas)
    {
		pags = 1;
		sobra = 0;
    }
    else
    {
        pags = cont/linhas;
        div = pags*linhas;
        sobra = cont - (div);
        if(sobra > 0) pags ++;
    }
	return pags;
}

mostrar_lista_items(playerid)
{
	new sss[200];
    max_menu[playerid] = sizeof(Itens)-1;
	menu_id[playerid] = MENU_LISTA_ITENS;
	format(nome_menu[playerid], 100, "Barang di Server");
	format(botao_menu[playerid], 100, "Buat Item");
	for(new ii; ii<max_menu[playerid]; ii++)
	{
		new i = ii+1;
	    Menu[playerid][ii][menu_ID] = i;
	    Menu[playerid][ii][menu_Unidades] = 0;
	    Menu[playerid][ii][menu_Tipo] = Itens[i][item_Tipo];
	    format(sss, 200, "[%d] %s", i, Itens[i][item_Nome]);
	    format(Menu[playerid][ii][menu_Nome], 200, sss);
	    format(Menu[playerid][ii][menu_Info], 200, Itens[i][item_Info]);
	    Menu[playerid][ii][menu_Valor] = 0;
	    Menu[playerid][ii][menu_Modelo] = Itens[i][item_Modelo];
	}
	mostrar_menu(playerid, menu_id[playerid]);
	return 1;
}

opcao_item(playerid, id)
{
    if(id == 0) return mostrar_lista_items(playerid);
    new sss1[200];
    SetPVarInt(playerid, "iditem", id);
    if(id == 104)
    {
        format(sss1, 200, "\n{00ffff}%s\n\n{00ff00}INFO: {ffffff}Enter the Vehicle ID:\n{a1a1a1}When created, it will drop near you.\n\n", Itens[id][item_Nome]);
        ShowPlayerDialog_(playerid, DIALOG_ITENS2, DIALOG_STYLE_INPUT, "Create Skin", sss1, "Create", "Close");
        return 1;
    }

    if(id == 99)
    {
        format(sss1, 200, "\n{00ffff}%s\n\n{00ff00}INFO: {ffffff}Enter the Skin ID:\n{a1a1a1}When created, it will drop near you.\n\n", Itens[id][item_Nome]);
        ShowPlayerDialog_(playerid, DIALOG_ITENS2, DIALOG_STYLE_INPUT, "Create Skin", sss1, "Create", "Close");
        return 1;
    }

    format(sss1, 200, "\n{00ffff}%s\n\n{00ff00}INFO: {ffffff}Enter the Item Units:\n{a1a1a1}When created, it will drop near you.\n\n", Itens[id][item_Nome]);
    ShowPlayerDialog_(playerid, DIALOG_ITENS2, DIALOG_STYLE_INPUT, "Create Item", sss1, "Create", "Close");
    return 1;
}


forward kick(playerid);
public kick(playerid)
{
	if(IsPlayerConnected(playerid)) Kick(playerid);
	return 1;
}

kikar(playerid)
{
    TextDrawShowForPlayer(playerid, Text_Saiu[0]);
    TextDrawShowForPlayer(playerid, Text_Saiu[1]);
    TextDrawShowForPlayer(playerid, Text_Saiu[2]);
	SetTimerEx("kick", 1500, 0, "d", playerid);
	return 1;
}

banir(playerid)
{
	if(Online(playerid))
	{
	    TextDrawShowForPlayer(playerid, Text_Saiu[0]);
	    TextDrawShowForPlayer(playerid, Text_Saiu[3]);
	    TextDrawShowForPlayer(playerid, Text_Saiu[4]);
		SetTimerEx("kick", 1500, 0, "d", playerid);
	}
	return 1;
}

mostrar_ban(playerid)
{
    new file[80];
    format(file, 80, "Banidos/%s.txt", Nome(playerid));
    if(DOF2_FileExists(file))
    {
        String_Gigante[0] = EOS;
        new sss1[150];
        strcat(String_Gigante, "{ff0000}YOU HAVE BEEN BANNED\n\n");
        strcat(String_Gigante, "{ffff00}Information\n");
        format(sss1, 150, "{ffffff}Administrator: {a1a1a1}%s\n", DOF2_GetString(file, "admin"));
        strcat(String_Gigante, sss1);
        format(sss1, 150, "{ffffff}Account IP: {a1a1a1}%s\n", DOF2_GetString(file, "ip"));
        strcat(String_Gigante, sss1);
        format(sss1, 150, "{ffffff}Reason: {a1a1a1}%s\n", DOF2_GetString(file, "motivo"));
        strcat(String_Gigante, sss1);
        format(sss1, 150, "{ffffff}Days: {a1a1a1}%d\n\n", DOF2_GetInt(file, "ban_dias"));
        strcat(String_Gigante, sss1);
        strcat(String_Gigante, "{ffff00}Date and Time of Ban:\n");
        format(sss1, 150, "{ffffff}Date: {a1a1a1}%02d/%02d/%04d\n", DOF2_GetInt(file, "ban_dia"), DOF2_GetInt(file, "ban_mes"), DOF2_GetInt(file, "ban_ano"));
        strcat(String_Gigante, sss1);
        format(sss1, 150, "{ffffff}Time: {a1a1a1}%02d:%02d\n\n", DOF2_GetInt(file, "ban_hora"), DOF2_GetInt(file, "ban_minuto"));
        strcat(String_Gigante, sss1);
        strcat(String_Gigante, "{ffff00}Ban ends:\n");
        format(sss1, 150, "{ffffff}Date: {a1a1a1}%02d/%02d/%04d\n", DOF2_GetInt(file, "desban_dia"), DOF2_GetInt(file, "desban_mes"), DOF2_GetInt(file, "desban_ano"));
        strcat(String_Gigante, sss1);
        format(sss1, 150, "{ffffff}Time: {a1a1a1}%02d:%02d\n\n", DOF2_GetInt(file, "ban_hora"), DOF2_GetInt(file, "ban_minuto"));
        strcat(String_Gigante, sss1);
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", String_Gigante, "Ok", "Close");
        return 1;
    }

    new ipp[100];
    GetPlayerIp(playerid, ipp, 100);
    format(file, 80, "IPs_Banidos/%s.txt", ipp);
    if(DOF2_FileExists(file))
    {
        String_Gigante[0] = EOS;
        new sss1[150];
        strcat(String_Gigante, "{ff0000}THIS IP HAS BEEN BANNED\n\n");
        strcat(String_Gigante, "{ffff00}Information\n");
        format(sss1, 150, "{ffffff}Account IP: {a1a1a1}%s\n\n", DOF2_GetString(file, "ip"));
        strcat(String_Gigante, sss1);
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", String_Gigante, "Ok", "Close");
        return 1;
    }

    return 0;
}


dias_mes(mes)
{
	new dias = 30;
	if(mes == 1) dias = 31;
	if(mes == 2) dias = 28;
	if(mes == 3) dias = 31;
	if(mes == 4) dias = 30;
	if(mes == 5) dias = 31;
	if(mes == 6) dias = 30;
	if(mes == 7) dias = 31;
	if(mes == 8) dias = 31;
	if(mes == 9) dias = 30;
	if(mes == 10) dias = 31;
	if(mes == 11) dias = 30;
	if(mes == 12) dias = 31;
	return dias;
}

forward dar_gmx();
public dar_gmx()
{
    SendRconCommand("gmx");
	return 1;
}

forward carregar_tuning(vehicleid);
public carregar_tuning(vehicleid)
{
    new tires;
    new v = Info_Veiculo[vehicleid];
    new engine, lights2, alarm, doors2, bonnet, boot, objective;
	GetVehicleParamsEx(vehicleid, engine, lights2, alarm, doors2, bonnet, boot, objective);
	SetVehicleParamsEx(vehicleid, 0, 0, alarm, doors2, bonnet, boot, objective);

	if(v != -1)
	{
		decode_tires(tires, Veiculo[v][v_Pneu][0], Veiculo[v][v_Pneu][1], Veiculo[v][v_Pneu][2], Veiculo[v][v_Pneu][3]);
		SetVehiclePos(vehicleid, Veiculo[v][v_X], Veiculo[v][v_Y], Veiculo[v][v_Z]);
		SetVehicleZAngle(vehicleid, Veiculo[v][v_A]);
		ChangeVehicleColor(vehicleid, Veiculo[v][v_Cor1], Veiculo[v][v_Cor2]);
        SetVehicleHealth(vehicleid, Veiculo[v][v_Vida]);
		for(new a; a<MAX_TUNINGS; a++)
		{
			if(Veiculo[v][v_Obj_Existe][a] == 1)
			{
		    	DestroyDynamicObject_(Veiculo[v][v_Obj][a]);
	            Veiculo[v][v_Obj][a] = CreateDynamicObject(Tunings[Veiculo[v][v_Obj_ID][a]][t_Modelo], 0,0,0,0,0,0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1,  0);
				AttachDynamicObjectToVehicle(Veiculo[v][v_Obj][a], vehicleid, Veiculo[v][v_Obj_X][a],Veiculo[v][v_Obj_Y][a],Veiculo[v][v_Obj_Z][a], Veiculo[v][v_Obj_RX][a],Veiculo[v][v_Obj_RY][a],Veiculo[v][v_Obj_RZ][a]);
			}
		}

		KillTimer_(Veiculo[v][v_Timer]);
		Veiculo[v][v_Timer] = SetTimerEx("veiculo_time", 1500, 1, "d", v);
	}
	return 1;
}

Play_Som(som, Float:x, Float:y, Float:z, mun, inte)
{
    for(new i; i<MAX_PLAYERS; i++)
	{
		if(Online(i))
		{
			if(IsPlayerInRangeOfPoint(i, 30, x,y,z))
			{
			    if(GetPlayerInterior(i) == inte)
			    {
				    if(GetPlayerVirtualWorld(i) == mun)
				    {
			    		PlayerPlaySound(i, som, x,y,z);
			    	}
				}
			}
		}
	}
	return 1;
}

gmx()
{
	if(GMX == 0)
	{
		GMX = 1;
		for(new i; i<MAX_PLAYERS; i++)
		{
		    if(Online(i))
		    {
		        GameTextForPlayer(i, "~Y~GMX AGUARDE ...", 10000, 3);
	            Congelar(i);
	            SetPlayerArmedWeapon(i, 0);
			}
		}
		SetTimer("dar_gmx", 6000, 0);
	}
	return 1;
}

criar_oficina(Float:x, Float:y, Float:z )
{
	for(new i; i<MAX_OFICINAS; i++)
	{
	    if(Oficina[i][o_Existe] == 0)
	    {
            Oficina[i][o_Existe] = 1;
            Oficina[i][o_X] = x;
            Oficina[i][o_Y] = y;
            Oficina[i][o_Z] = z;
            atualizar_oficina(i);
            salvar_oficina(i);
            return i;
		}
	}
	return -1;
}

destruir_oficina(i)
{
    if(Oficina[i][o_Existe] == 1)
	{
        Oficina[i][o_Existe] = 0;
        atualizar_oficina(i);
        salvar_oficina(i);
	}
	return 1;
}

atualizar_oficina(i)
{
    for(new aa; aa < sizeof Pos_Oficina; aa++)
    {
        if(CA_IsValidObject(Oficina[i][o_Colisao][aa])) CA_DestroyObject(Oficina[i][o_Colisao][aa]);
        DestroyDynamicObject_(Oficina[i][o_Obj][aa]);
    }
    if(IsValidDynamicPickup(Oficina[i][o_Pickup])) DestroyDynamicPickup(Oficina[i][o_Pickup]);
    if(IsValidDynamic3DTextLabel(Oficina[i][o_3D])) DestroyDynamic3DTextLabel(Oficina[i][o_3D]);
    if(IsValidDynamicMapIcon(Oficina[i][o_Mapa])) DestroyDynamicMapIcon_(Oficina[i][o_Mapa]);
    if(IsValidDynamicPickup(Oficina[i][o_Pickup2])) DestroyDynamicPickup(Oficina[i][o_Pickup2]);
    if(IsValidDynamic3DTextLabel(Oficina[i][o_3D2])) DestroyDynamic3DTextLabel(Oficina[i][o_3D2]);
    if(IsValidDynamicMapIcon(Oficina[i][o_Mapa2])) DestroyDynamicMapIcon_(Oficina[i][o_Mapa2]);
    new Float:pos[2];
    pos[0] = (Oficina[i][o_X]/20) + 315.0;
    pos[1] = 185.0 + ((Oficina[i][o_Y]/20) * (-1));
    TextDrawSetPos(T_Mapa_Oficina[i], pos[0], pos[1]);
    if(Oficina[i][o_Existe] == 1)
    {
        for(new a; a < sizeof Pos_Oficina; a++)
        {
            if(a == 0)
            {
                Oficina[i][o_Obj][a] = CreateDynamicObject(12942, Oficina[i][o_X], Oficina[i][o_Y], Oficina[i][o_Z], 0.0, 0.0, 0.0, 0, 0);
                Oficina[i][o_Colisao][a] = CA_CreateObject(12942, Oficina[i][o_X], Oficina[i][o_Y], Oficina[i][o_Z], 0.0, 0.0, 0.0, true);
            }
            else
            {
                Oficina[i][o_Obj][a] = CreateDynamicObject(Pos_Oficina[a][ofc_ID], Oficina[i][o_X] + Pos_Oficina[a][ofc_X], Oficina[i][o_Y] + Pos_Oficina[a][ofc_Y], Oficina[i][o_Z] + Pos_Oficina[a][ofc_Z], Pos_Oficina[a][ofc_RX], Pos_Oficina[a][ofc_RY], Pos_Oficina[a][ofc_RZ], 0, 0);
                Oficina[i][o_Colisao][a] = CA_CreateObject(Pos_Oficina[a][ofc_ID], Oficina[i][o_X] + Pos_Oficina[a][ofc_X], Oficina[i][o_Y] + Pos_Oficina[a][ofc_Y], Oficina[i][o_Z] + Pos_Oficina[a][ofc_Z], Pos_Oficina[a][ofc_RX], Pos_Oficina[a][ofc_RY], Pos_Oficina[a][ofc_RZ], true);
            }
        }
        new sss[150];
        format(sss, 150, "{00ffff}[ Workshop ID: %d ]\n\n{a1a1a1}Use {ffffff}/menu{a1a1a1} or {ffffff}HORN {a1a1a1}to\nopen the options menu", i);
        Oficina[i][o_Pickup] = CreateDynamicPickup(19131, 1, Oficina[i][o_X], Oficina[i][o_Y], Oficina[i][o_Z] + 1.0, 0, 0, -1, STREAMER_PICKUP_SD, -1, 0);
        Oficina[i][o_Mapa] = CreateDynamicMapIcon(Oficina[i][o_X], Oficina[i][o_Y], Oficina[i][o_Z], 27, 0xffffffff, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_LOCAL, -1, 0);
        Oficina[i][o_3D] = CreateDynamic3DTextLabel(sss, 0xffffff99, Oficina[i][o_X], Oficina[i][o_Y], Oficina[i][o_Z] + 1.0, 20, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);

        format(sss, 150, "{00ffff}Repairs\n\n{a1a1a1}Press {ffffff}Y {a1a1a1}to repair\n{ffff00}Inventory Items");
        Oficina[i][o_Pickup2] = CreateDynamicPickup(1239, 1, Oficina[i][o_X] - 6.5, Oficina[i][o_Y] + 2.0, Oficina[i][o_Z] + 1.0, 0, 0, -1, STREAMER_PICKUP_SD, -1, 0);
        Oficina[i][o_Mapa2] = CreateDynamicMapIcon(Oficina[i][o_X] - 6.5, Oficina[i][o_Y] + 2.0, Oficina[i][o_Z], 27, 0xffffffff, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_LOCAL, -1, 0);
        Oficina[i][o_3D2] = CreateDynamic3DTextLabel(sss, 0xffffff99, Oficina[i][o_X] - 6.5, Oficina[i][o_Y] + 2.0, Oficina[i][o_Z] + 1.0, 20, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);

        TextDrawColor(T_Mapa_Oficina[i], -1);
        TextDrawSetSelectable(T_Mapa_Oficina[i], 1);
    }
    else
    {
        TextDrawColor(T_Mapa_Oficina[i], 0x00000000);
        TextDrawSetSelectable(T_Mapa_Oficina[i], 0);
    }
    return 1;
}

carregar_oficinas()
{
    new file[60];
    new cont;
    for(new i; i < MAX_OFICINAS; i++)
    {
        format(file, 60, "Oficinas/Oficina_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            cont++;
            Oficina[i][o_Existe] = 1;
            Oficina[i][o_X] = DOF2_GetFloat(file, "o_X");
            Oficina[i][o_Y] = DOF2_GetFloat(file, "o_Y");
            Oficina[i][o_Z] = DOF2_GetFloat(file, "o_Z");
        }

        T_Mapa_Oficina[i] = TextDrawCreate(0.0, 0.0, "hud:radar_modGarage");
        TextDrawTextSize(T_Mapa_Oficina[i], 10.0, 10.0);
        TextDrawAlignment(T_Mapa_Oficina[i], 1);
        TextDrawSetShadow(T_Mapa_Oficina[i], 0);
        TextDrawBackgroundColor(T_Mapa_Oficina[i], 255);
        TextDrawFont(T_Mapa_Oficina[i], 4);
        TextDrawSetProportional(T_Mapa_Oficina[i], 0);
        TextDrawColor(T_Mapa_Oficina[i], -1);
        TextDrawSetSelectable(T_Mapa_Oficina[i], 1);
        atualizar_oficina(i);
    }
    printf("** %d workshops loaded.", cont);
    return 1;
}

salvar_oficina(i)
{
    new file[60];
    format(file, 60, "Oficinas/Oficina_%d.txt", i);
    if(Oficina[i][o_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetFloat(file, "o_X", Oficina[i][o_X]);
        DOF2_SetFloat(file, "o_Y", Oficina[i][o_Y]);
        DOF2_SetFloat(file, "o_Z", Oficina[i][o_Z]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    return 1;
}

mostrar_tunings(playerid, con = 0)
{
    String_Gigante[0] = EOS;
    if(con == 0)
    {
        ShowPlayerDialog_(playerid, DIALOG_EDITAR_VEICULO2, DIALOG_STYLE_LIST, "Workshop Options",
        "Repair Engine\n\
        Charge Battery\n\
        Repair Flat Tire\n\
        Add Accessory", "Continue", "Close");
    }

    if(con == 1)
    {
        for(new i; i < sizeof Tunings; i++)
        {
            strcat(String_Gigante, Tunings[i][t_Nome]);
            strcat(String_Gigante, "\n");
        }
        ShowPlayerDialog_(playerid, DIALOG_TUNINGS, DIALOG_STYLE_LIST, "Item List", String_Gigante, "Add", "Close");
    }

    if(con == 2)
    {
        ShowPlayerDialog_(playerid, DIALOG_EDITAR_VEICULO3, DIALOG_STYLE_LIST, "Workshop Options",
        "Repair Engine\n\
        Charge Battery\n\
        Repair Flat Tire", "Continue", "Close");
    }

    return 1;
}


criar_carro(modelo_carro, metais, sucata, polvora, Float:x, Float:y, Float:z, Float:aaaa)
{
    for(new i; i<MAX_CARROS; i++)
	{
		if(Carros[i][fv_Existe] == 0)
		{
            Carros[i][fv_Existe] = 1;
	        Carros[i][fv_ModeloCarro] = modelo_carro;
	        Carros[i][fv_X] = x;
	        Carros[i][fv_Y] = y;
	        Carros[i][fv_Z] = z;
	        Carros[i][fv_A] = aaaa;
	        if(Moto(modelo_carro)) Carros[i][fv_Pneus2] = 2;
	        else Carros[i][fv_Pneus2] = 4;
	        Carros[i][fv_Pneus] = 0;
	        Carros[i][fv_Motor] = 0;
	        Carros[i][fv_Bateria] = 0;
	        Carros[i][fv_Metais_Precisa] = metais;
	        Carros[i][fv_Sucata_Precisa] = sucata;
	        Carros[i][fv_Polvora_Precisa] = polvora;
	        Carros[i][fv_Metais] = 0;
	        Carros[i][fv_Sucata] = 0;
	        Carros[i][fv_Polvora] = 0;
	        atualizar_carro(i);
			return i;
		}
	}
	return -1;
}

atualizar_carro(i)
{
	if(Carros[i][fv_Veiculo] != INVALID_VEHICLE_ID)
	{
		DestruirVeiculo(Carros[i][fv_Veiculo]);
	}
    Carros[i][fv_Veiculo] = INVALID_VEHICLE_ID;
	if(Carros[i][fv_Existe] == 1)
	{
	   	Carros[i][fv_Veiculo] = CreateVehicle(Carros[i][fv_ModeloCarro], Carros[i][fv_X], Carros[i][fv_Y], Carros[i][fv_Z], Carros[i][fv_A], -1, -1, 30, 0);
		CARRO_DE_FERRO_VELHO[Carros[i][fv_Veiculo]] = i;
		if(GetVehicleModel(Carros[i][fv_Veiculo]) != 0)
		{
			Info_Veiculo[Carros[i][fv_Veiculo]] = -1;
			SetVehicleHealth(Carros[i][fv_Veiculo], 300);
			new panels, doors, lights, tires;
		    GetVehicleDamageStatus(Carros[i][fv_Veiculo], panels, doors, lights, tires);
			UpdateVehicleDamageStatus(Carros[i][fv_Veiculo], panels, encode_doors(2, 2, 2, 2), lights, encode_tires(1,1,1,1));
		}
		else
		{
		    Carros[i][fv_Existe] = 0;
		    Carros[i][fv_Veiculo] = INVALID_VEHICLE_ID;
		}
	}
	return 1;
}

salvar_carro(i)
{
    new file[80];
	if(Carros[i][fv_Existe] != 0)
	{
		format(file, 80, "Carros/Carro_%d.txt", i);
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "fv_ModeloCarro", Carros[i][fv_ModeloCarro]);
        DOF2_SetInt(file, "fv_Existe", Carros[i][fv_Existe]);
        DOF2_SetFloat(file, "fv_X", Carros[i][fv_X]);
        DOF2_SetFloat(file, "fv_Y", Carros[i][fv_Y]);
        DOF2_SetFloat(file, "fv_Z", Carros[i][fv_Z]);
        DOF2_SetFloat(file, "fv_A", Carros[i][fv_A]);
        DOF2_SetInt(file, "fv_Pneus2", Carros[i][fv_Pneus2]);
        DOF2_SetInt(file, "fv_Pneus", Carros[i][fv_Pneus]);
        DOF2_SetInt(file, "fv_Motor", Carros[i][fv_Motor]);
        DOF2_SetInt(file, "fv_Bateria", Carros[i][fv_Bateria]);
        DOF2_SetInt(file, "fv_Metais_Precisa", Carros[i][fv_Metais_Precisa]);
        DOF2_SetInt(file, "fv_Sucata_Precisa", Carros[i][fv_Sucata_Precisa]);
        DOF2_SetInt(file, "fv_Polvora_Precisa", Carros[i][fv_Polvora_Precisa]);
        DOF2_SetInt(file, "fv_Metais", Carros[i][fv_Metais]);
        DOF2_SetInt(file, "fv_Sucata", Carros[i][fv_Sucata]);
        DOF2_SetInt(file, "fv_Polvora", Carros[i][fv_Polvora]);
		DOF2_SaveFile();
	}
	return 1;
}

carregar_carros()
{
    new file[80];
    new cont;
    for(new i; i < MAX_CARROS; i++)
    {
        Carros[i][fv_Veiculo] = INVALID_VEHICLE_ID;
        format(file, 80, "Carros/Carro_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            if(DOF2_GetInt(file, "fv_ModeloCarro") != 0)
            {
                Carros[i][fv_Existe] = DOF2_GetInt(file, "fv_Existe");
                if(Carros[i][fv_Existe] == 0) Carros[i][fv_Existe] = 1;
                Carros[i][fv_ModeloCarro] = DOF2_GetInt(file, "fv_ModeloCarro");
                Carros[i][fv_X] = DOF2_GetFloat(file, "fv_X");
                Carros[i][fv_Y] = DOF2_GetFloat(file, "fv_Y");
                Carros[i][fv_Z] = DOF2_GetFloat(file, "fv_Z");
                Carros[i][fv_A] = DOF2_GetFloat(file, "fv_A");
                if(Carros[i][fv_A] == 0.0) Carros[i][fv_A] = random(360);
                Carros[i][fv_Pneus2] = DOF2_GetInt(file, "fv_Pneus2");
                Carros[i][fv_Pneus] = DOF2_GetInt(file, "fv_Pneus");
                Carros[i][fv_Motor] = DOF2_GetInt(file, "fv_Motor");
                Carros[i][fv_Bateria] = DOF2_GetInt(file, "fv_Bateria");
                Carros[i][fv_Metais_Precisa] = DOF2_GetInt(file, "fv_Metais_Precisa");
                Carros[i][fv_Sucata_Precisa] = DOF2_GetInt(file, "fv_Sucata_Precisa");
                Carros[i][fv_Polvora_Precisa] = DOF2_GetInt(file, "fv_Polvora_Precisa");
                Carros[i][fv_Metais] = DOF2_GetInt(file, "fv_Metais");
                Carros[i][fv_Sucata] = DOF2_GetInt(file, "fv_Sucata");
                Carros[i][fv_Polvora] = DOF2_GetInt(file, "fv_Polvora");

                if(Carros[i][fv_Pneus2] == 0)
                {
                    if(Moto(Carros[i][fv_ModeloCarro])) Carros[i][fv_Pneus2] = 2;
                    else Carros[i][fv_Pneus2] = 4;
                }

                cont++;
                atualizar_carro(i);
            }
            else
            {
                DOF2_RemoveFile(file);
            }
        }
    }
    printf("** %d Junkyard Cars loaded.", cont);
    return 1;
}


contar_veiculos_player(playerid)
{
	new cont;
	for(new i; i<MAX_VEICULOS; i++)
	{
		if(Veiculo[i][v_Existe] != 0)
		{
		    if(Comparar(Nome(playerid), Veiculo[i][v_Dono]))
		    {
		        cont ++;
		    }
		}
	}
	return cont;
}

RespawnZombies()
{
	for(new i; i<MAX_ZOMBIES; i++)
    {
        if(Zombie[i][z_Existe] == 1)
        {
            KillTimer_(Zombie[i][z_Timer]);
			if(Zombie[i][z_Spawn] != 0)
			{
			    if(Zombie[i][z_Zombie] != INVALID_PLAYER_ID)
			    {
					FCNPC_Destroy(Zombie[i][z_Zombie]);
					ID_Zombie[Zombie[i][z_Zombie]] = -1;
				}
				Zombie[i][z_Zombie] = INVALID_PLAYER_ID;
			}
			if(IsValidDynamicActor(Zombie[i][z_Actor])) DestroyDynamicActor(Zombie[i][z_Actor]);
			Zombie[i][z_Existe] = 0;
   			criar_zombie(Zombie[i][z_X], Zombie[i][z_Y], Zombie[i][z_Z], Zombie[i][z_A], Zombie[i][z_Tipo]);
        }
	}
	return 1;
}

RespawnPostos()
{
	for(new i; i<MAX_POSTOS; i++)
	{
	    Posto[i][posto_Litros] = 150;
	}
	return 1;
}

RespawnArvores()
{
    for(new a; a<MAX_ARVORES; a++)
	{
	    if(Arvore[a][ar_Existe] == 1)
	    {
	        Arvore[a][ar_Vida]= 50;
	        AtualizarArvore(a);
		}
	}
	return 1;
}

RespawnPedras()
{
    for(new a; a<MAX_PEDRAS; a++)
	{
	    if(Pedra[a][ar_Existe] == 1)
	    {
	        Arvore[a][ar_Vida]= 75;
	        AtualizarPedra(a);
		}
	}
	return 1;
}

RespawnItems()
{
    for(new id; id<MAX_ITENS; id++) destruiritem(id);
    for(new i; i<MAX_LOOT; i++) spawn_loot(i);
	return 1;
}

RespawnFogueiras()
{
    for(new ff; ff<MAX_FOGUEIRAS; ff++) DestruirFogueira(ff);
	return 1;
}

RespawnDrops()
{
    for(new d; d<MAX_DROPS; d++)
    {
        if(Drop[d][drop_Existe] == 1)
        {
            GZ_DestruirGz(Drop[d][drop_Gz]);
            Drop[d][drop_Existe] = 0;
            if(IsValidDynamicObject(Drop[d][drop_Obj])) DestroyDynamicObject_(Drop[d][drop_Obj]);
            if(IsValidDynamicObject(Drop[d][drop_Obj2])) DestroyDynamicObject_(Drop[d][drop_Obj2]);
            if(IsValidDynamicObject(Drop[d][drop_Obj3])) DestroyDynamicObject_(Drop[d][drop_Obj3]);
            if(IsValidDynamic3DTextLabel(Drop[d][drop_3D])) DestroyDynamic3DTextLabel(Drop[d][drop_3D]);
            KillTimer_(Drop[d][drop_Timer]);
            PosDropUsada[d] = 0;
        }
    }
	return 1;
}

RespawnTudo()
{
    RespawnPedras();
    RespawnArvores();
    RespawnPostos();
    RespawnFogueiras();
    RespawnDrops();
    RespawnItems();
    RespawnZombies();
	return 1;
}


portao_base(playerid, i)
{
	if(i >= 0 && i < MAX_PORTOES)
	{
	    if(Portao[i][portao_Existe] == 0) return 0;
		new b = BasePlayer(playerid);
		if(b != -1) if(Portao[i][portao_Base] == b) return 1;
	}
	return 0;
}


carregar_loots()
{
    new file[80];
    new cont;
    for(new i; i < MAX_LOOT; i++)
    {
        format(file, 80, "Loots/Loot_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Loot[i][loot_Existe] = 1;
            Loot[i][loot_Classe] = DOF2_GetInt(file, "loot_Classe");
            Loot[i][loot_X] = DOF2_GetFloat(file, "loot_X");
            Loot[i][loot_Y] = DOF2_GetFloat(file, "loot_Y");
            Loot[i][loot_Z] = DOF2_GetFloat(file, "loot_Z");
            Loot[i][loot_RX] = DOF2_GetFloat(file, "loot_RX");
            Loot[i][loot_RY] = DOF2_GetFloat(file, "loot_RY");
            Loot[i][loot_RZ] = DOF2_GetFloat(file, "loot_RZ");
            cont++;
        }
        atualizar_loot(i);
        spawn_loot(i);
    }
    printf("** %d loot positions on the Map loaded.", cont);
    return 1;
}



salvar_loot(i)
{
	new file[80];
    format(file, 80, "Loots/Loot_%d.txt", i);
    if(Loot[i][loot_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "loot_Classe", Loot[i][loot_Classe]);
        DOF2_SetFloat(file, "loot_X", Loot[i][loot_X]);
        DOF2_SetFloat(file, "loot_Y", Loot[i][loot_Y]);
        DOF2_SetFloat(file, "loot_Z", Loot[i][loot_Z]);
        DOF2_SetFloat(file, "loot_RX", Loot[i][loot_RX]);
        DOF2_SetFloat(file, "loot_RY", Loot[i][loot_RY]);
        DOF2_SetFloat(file, "loot_RZ", Loot[i][loot_RZ]);
        DOF2_SaveFile();
	}
	else DOF2_RemoveFile(file);
	return 1;
}

destruir_loot(i)
{
	new Float:dis;
	if(Loot[i][loot_Existe] == 1)
	{
	    for(new a; a<MAX_ITENS; a++)
	    {
	        if(Item[a][item_Existe] == 0) continue;
            GetDistance(dis, Item[a][item_X], Item[a][item_Y], Item[a][item_Z], Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z]);
			if(dis <= 3.0) destruiritem(a);
	    }

	    Loot[i][loot_Existe] = 0;
	    Loot[i][loot_X] = 0;
		Loot[i][loot_Y] = 0;
		Loot[i][loot_Z] = 0;
		Loot[i][loot_RX] = 0;
		Loot[i][loot_RY] = 0;
		Loot[i][loot_RZ] = 0;
		Loot[i][loot_Classe] = 0;
		salvar_loot(i);
		atualizar_loot(i);
	}
	return 1;
}

spawn_loot(i)
{
	new Float:dis;
	if(Loot[i][loot_Existe] == 1)
	{
	    for(new a; a<MAX_ITENS; a++)
	    {
	        if(Item[a][item_Existe] == 0) continue;
            GetDistance(dis, Item[a][item_X], Item[a][item_Y], Item[a][item_Z], Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z]);
			if(dis <= 3.0) destruiritem(a);
	    }

	   	for(new aa; aa<MAX_SLOT_LOOT; aa++)
		{
		    if(Loot[i][loot_Classe] == 0)
	    	{
				new rands = random(sizeof LootAleatorio_0);
				criar_item(LootAleatorio_0[rands][0], Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], LootAleatorio_0[rands][1], 0, 0, Itens[LootAleatorio_0[rands][0]][item_Tipo], -1, 0);
			}

			if(Loot[i][loot_Classe] == 1)
	    	{
				new rands = random(sizeof LootAleatorio_1);
				criar_item(LootAleatorio_1[rands][0], Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], LootAleatorio_1[rands][1], 0, 0, Itens[LootAleatorio_1[rands][0]][item_Tipo], -1, 0);
			}

			if(Loot[i][loot_Classe] == 2)
	    	{
				new rands = random(sizeof LootAleatorio_2);
				criar_item(LootAleatorio_2[rands][0], Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], LootAleatorio_2[rands][1], 0, 0, Itens[LootAleatorio_2[rands][0]][item_Tipo], -1, 0);
			}
		}
	}
	return 1;
}

atualizar_loot(i)
{
    if(IsValidDynamicMapIcon(Loot[i][loot_Mapa])) DestroyDynamicMapIcon_(Loot[i][loot_Mapa]);
    if(IsValidDynamicObject(Loot[i][loot_Obj])) DestroyDynamicObject_(Loot[i][loot_Obj]);
    if(Loot[i][loot_Colisao] != -1) CA_DestroyObject(Loot[i][loot_Colisao]);
    Loot[i][loot_Colisao] = -1;
    if(IsValidDynamic3DTextLabel(Loot[i][loot_3D])) DestroyDynamic3DTextLabel(Loot[i][loot_3D]);
    if(Loot[i][loot_Existe] == 1)
    {
        new sss[200];
        format(sss, 200, "{ffffff}Loot Chest [%d]\n{a1a1a1}Class: %s\n\n{a1a1a1}Press {ffffff}F {a1a1a1}or {ffffff}ENTER {a1a1a1}to\nopen", i, ClasseLoot(i));
        Loot[i][loot_3D] = CreateDynamic3DTextLabel( sss, 0xffffff99, Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z]+0.5, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
        Loot[i][loot_Obj] =  CreateDynamicObject(3800, Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], Loot[i][loot_RX], Loot[i][loot_RY], Loot[i][loot_RZ], 0, 0);
        Loot[i][loot_Colisao] = CA_CreateObject(3800, Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], Loot[i][loot_RX], Loot[i][loot_RY], Loot[i][loot_RZ], true);
        Loot[i][loot_Mapa] = CreateDynamicMapIcon(Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z], 0, CorLoot(i), 0, 0, -1, distancia_loot, MAPICON_LOCAL, -1, 0);
    }
    return 1;
}



criar_loot(Float:x, Float:y, Float:z, Float:zzz, quant)
{
	for(new i; i<MAX_LOOT; i++)
	{
	    if(Loot[i][loot_Existe] == 0)
	    {
            Loot[i][loot_Existe] = 1;
            Loot[i][loot_X] = x;
	        Loot[i][loot_Y] = y;
	        Loot[i][loot_Z] = z;
	        Loot[i][loot_RX] = 0;
	        Loot[i][loot_RY] = 0;
	        Loot[i][loot_RZ] = zzz;
	        Loot[i][loot_Classe] = quant;
    		salvar_loot(i);
    		spawn_loot(i);
    		atualizar_loot(i);
    		return i;
		}
	}
	return -1;
}

items_recicladora(playerid)
{
	new cont;
	if(RecicladoraPlayer[playerid][re_Base] != -1)
	{
	    for(new r; r<SLOTS_RECICLADORA; r++)
	    {
	        if(RecicladoraPlayer[playerid][re_ID][r] != 0)
	        {
	            cont++;
	        }
	    }
	    return cont;
	}
	return 0;
}

MostrarRecicladora(playerid, i, con=0)
{
    SetPVarInt(playerid, "recicladora", i);
    String_Gigante[0] = EOS;
    verificar_recicladora(playerid, i);
    new linha[150];

    if(Recicladora[i][re_Existe] == 1)
    {
        if(con == 1)
        {
            strcat(String_Gigante, "Item\tUnits\n");
            for(new re; re < SLOTS_RECICLADORA; re++)
            {
                if(RecicladoraPlayer[playerid][re_ID][re] == 0)
                    format(linha, 150, "{a1a1a1}%s\t{a1a1a1}%s\n", Itens[RecicladoraPlayer[playerid][re_ID][re]][item_Nome], ConvertMoney(RecicladoraPlayer[playerid][re_Unidades][re]));
                else
                    format(linha, 150, "{ffff00}%s\t{ffffff}%s\n", Itens[RecicladoraPlayer[playerid][re_ID][re]][item_Nome], ConvertMoney(RecicladoraPlayer[playerid][re_Unidades][re]));
                strcat(String_Gigante, linha);
            }
            format(linha, 150, "{ffffff}Items in Recycler: {a1a1a1}%d/%d", items_recicladora(playerid), SLOTS_RECICLADORA);
            ShowPlayerDialog_(playerid, DIALOG_RECICLADORA3, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Withdraw", "Back");
            return 1;
        }

        if(RecicladoraPlayer[playerid][re_Reciclando] == 1)
        {
            strcat(String_Gigante, "{00ff00}COLLECT SCRAP\n");
            strcat(String_Gigante, "{ffff00}Move Recycler\n");
            strcat(String_Gigante, "{ff0000}Destroy Recycler");
            format(linha, 150, "{00ffff}RECYCLING: {a1a1a1}%s", ConvertTime(RecicladoraPlayer[playerid][re_Tempo]));
            ShowPlayerDialog_(playerid, DIALOG_RECICLADORA2, DIALOG_STYLE_LIST, linha, String_Gigante, "Continue", "Close");
            return 1;
        }

        strcat(String_Gigante, "{00ff00}RECYCLE\n");
        format(linha, 150, "{ffffff}Items: {a1a1a1}%d/%d\n", items_recicladora(playerid), SLOTS_RECICLADORA);
        strcat(String_Gigante, linha);
        strcat(String_Gigante, "{ffff00}Move Recycler\n");
        strcat(String_Gigante, "{ff0000}Destroy Recycler");
        ShowPlayerDialog_(playerid, DIALOG_RECICLADORA, DIALOG_STYLE_LIST, "Item Recycler", String_Gigante, "Continue", "Close");
    }
    return 1;
}

forward Reciclar(playerid);
public Reciclar(playerid)
{
    if(RecicladoraPlayer[playerid][re_Base] != -1 && Online(playerid))
    {
        if(RecicladoraPlayer[playerid][re_Tempo] == 0)
        {
            new cont;
            for(new re; re < SLOTS_RECICLADORA; re++)
            {
                if(RecicladoraPlayer[playerid][re_ID][re] != 0)
                {
                    cont += RecicladoraPlayer[playerid][re_Unidades][re] * (random(3));
                }
                RecicladoraPlayer[playerid][re_ID][re] = 0;
                RecicladoraPlayer[playerid][re_Unidades][re] = 0;
                RecicladoraPlayer[playerid][re_Tipo][re] = 0;
            }

            RecicladoraPlayer[playerid][re_Sucata] = cont;
            RecicladoraPlayer[playerid][re_Tempo] = 0;
            KillTimer_(RecicladoraPlayer[playerid][re_Timer]);
            ms(playerid, 2, "Your Recycler has finished the Recycling process, use /recicladora to locate it.");
        }
        else RecicladoraPlayer[playerid][re_Tempo]--;
    }
    else KillTimer_(RecicladoraPlayer[playerid][re_Timer]);
    return 1;
}

carregar_mesas()
{
    new file[80];
    new cont;
    for(new i; i < MAX_MESAS; i++)
    {
        format(file, 80, "Mesas/Mesa_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Mesa[i][me_Existe] = 1;
            Mesa[i][me_Base] = DOF2_GetInt(file, "me_Base");
            Mesa[i][me_X] = DOF2_GetFloat(file, "me_X");
            Mesa[i][me_Y] = DOF2_GetFloat(file, "me_Y");
            Mesa[i][me_Z] = DOF2_GetFloat(file, "me_Z");
            Mesa[i][me_RX] = DOF2_GetFloat(file, "me_RX");
            Mesa[i][me_RY] = DOF2_GetFloat(file, "me_RY");
            Mesa[i][me_RZ] = DOF2_GetFloat(file, "me_RZ");
            cont++;
        }
        else
        {
            Mesa[i][me_Base] = -1;
            Mesa[i][me_Existe] = 0;
            Mesa[i][me_X] = 0.0;
            Mesa[i][me_Y] = 0.0;
            Mesa[i][me_Z] = 0.0;
            Mesa[i][me_RX] = 0.0;
            Mesa[i][me_RY] = 0.0;
            Mesa[i][me_RZ] = 0.0;
        }

        atualizar_mesa(i);
    }
    printf("** %d Crafting Tables loaded.", cont);
    return 1;
}


salvar_mesa(i)
{
	new file[80];
	format(file, 80, "Mesas/Mesa_%d.txt", i);
	if( Mesa[i][me_Existe] == 1 )
	{
	    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetFloat(file, "me_X", Mesa[i][me_X]);
        DOF2_SetFloat(file, "me_Y", Mesa[i][me_Y]);
        DOF2_SetFloat(file, "me_Z", Mesa[i][me_Z]);
        DOF2_SetFloat(file, "me_RX", Mesa[i][me_RX]);
        DOF2_SetFloat(file, "me_RY", Mesa[i][me_RY]);
        DOF2_SetFloat(file, "me_RZ", Mesa[i][me_RZ]);
        DOF2_SetInt(file, "me_Base", Mesa[i][me_Base]);
        DOF2_SaveFile();
	}
	else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

atualizar_mesa(i)
{
    new string[300];
    if(IsValidDynamicObject(Mesa[i][me_Obj])) DestroyDynamicObject_(Mesa[i][me_Obj]);
    if(IsValidDynamic3DTextLabel(Mesa[i][me_3D])) DestroyDynamic3DTextLabel(Mesa[i][me_3D]);
    if(Mesa[i][me_Existe] == 1)
    {
        if(Mesa[i][me_Base] == -1)
        {
            destruir_mesa(i);
            return 1;
        }
        
        format(string, 300, "{a1a1a1}Crafting Table [%d]\n{00ffff}Base: {ffff00}%s\n\n{a1a1a1}Press Y to access", i, Base[Mesa[i][me_Base]][base_Nome]);
        Mesa[i][me_3D] = CreateDynamic3DTextLabel(string, 0xffffff99, Mesa[i][me_X], Mesa[i][me_Y], Mesa[i][me_Z] + 1.0, 7, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
        Mesa[i][me_Obj] = CreateDynamicObject(3383, Mesa[i][me_X], Mesa[i][me_Y], Mesa[i][me_Z], Mesa[i][me_RX], Mesa[i][me_RY], Mesa[i][me_RZ], 0, 0);
    }
    return 1;
}


destruir_bau(i)
{
	if(Bau[i][bau_Existe] == 1)
	{
	    Bau[i][bau_Existe] = 0;
	    atualizar_bau(i);
	    salvar_bau(i);
	}
	return 1;
}

destruir_mesa(i)
{
	if(Mesa[i][me_Existe] == 1)
	{
	    Mesa[i][me_Existe] = 0;
	    Mesa[i][me_RX] = 0.0;
	    Mesa[i][me_RY] = 0.0;
	    Mesa[i][me_RZ] = 0.0;
	    Mesa[i][me_X] = 0.0;
	    Mesa[i][me_Y] = 0.0;
	    Mesa[i][me_Z] = 0.0;
	    Mesa[i][me_Base] = -1;
	    atualizar_mesa(i);
	    salvar_mesa(i);
	}
	return 1;
}

criar_bau(playerid)
{
	for(new i; i<MAX_BAUS; i++)
    {
		if(Bau[i][bau_Existe] == 0)
		{
		    Bau[i][bau_Existe] = 1;
		    GetPlayerPos(playerid, Bau[i][bau_X], Bau[i][bau_Y], Bau[i][bau_Z]);
		    PegarFrentePlayer(playerid, Bau[i][bau_X], Bau[i][bau_Y], -2);
		    Bau[i][bau_RX] = 0.0;
		    Bau[i][bau_RY] = 0.0;
		    Bau[i][bau_RZ] = 0.0;
		    Bau[i][bau_Madeira] = 0;
		    Bau[i][bau_Metal] = 0;
		    Bau[i][bau_Pedra] = 0;
		    Bau[i][bau_Polvora] = 0;
		    Bau[i][bau_Sucata] = 0;
		    Bau[i][bau_Base] = BasePlayer(playerid);
			salvar_mesa(i);
			atualizar_bau(i);
			return i;
		}
	}
	return -1;
}


criar_mesa(playerid)
{
	for(new i; i<MAX_MESAS; i++)
    {
		if(Mesa[i][me_Existe] == 0)
		{
		    Mesa[i][me_Existe] = 1;
		    GetPlayerPos(playerid, Mesa[i][me_X], Mesa[i][me_Y], Mesa[i][me_Z]);
		    PegarFrentePlayer(playerid, Mesa[i][me_X], Mesa[i][me_Y], -2);
		    Mesa[i][me_RX] = 0.0;
		    Mesa[i][me_RY] = 0.0;
		    Mesa[i][me_RZ] = 0.0;
		    Mesa[i][me_Base] = BasePlayer(playerid);
			salvar_mesa(i);
			atualizar_mesa(i);
			return i;
		}
	}
	return -1;
}

MostrarMesa(playerid, con, mesaa = -1)
{
    if(mesaa != -1) SetPVarInt(playerid, "mesa", mesaa);
    if(con == 0)
    {
        max_menu[playerid] = sizeof Craft;
        menu_id[playerid] = MENU_LISTA_CRAFT;
        format(nome_menu[playerid], 100, "CRAFT LIST");
        format(botao_menu[playerid], 100, "CREATE ITEM");
        for(new i; i < max_menu[playerid]; i++)
        {
            Menu[playerid][i][menu_ID] = i;
            Menu[playerid][i][menu_Unidades] = 1;
            Menu[playerid][i][menu_Tipo] = 0;
            format(Menu[playerid][i][menu_Nome], 200, Itens[Craft[i][craft_ID]][item_Nome]);
            Menu[playerid][i][menu_Valor] = 0;
            Menu[playerid][i][menu_Modelo] = Itens[Craft[i][craft_ID]][item_Modelo];
            format(Menu[playerid][i][menu_Info], 200, "~w~%s~n~~n~", Itens[Craft[i][craft_ID]][item_Nome]);
            if(Craft[i][craft_Sucata] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Scrap: ~w~%d~n~", Menu[playerid][i][menu_Info], Craft[i][craft_Sucata]);
            if(Craft[i][craft_Madeiras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Wood: ~w~%d~n~", Menu[playerid][i][menu_Info], Craft[i][craft_Madeiras]);
            if(Craft[i][craft_Metais] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Metal: ~w~%d~n~", Menu[playerid][i][menu_Info], Craft[i][craft_Metais]);
            if(Craft[i][craft_Pedras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Stone: ~w~%d~n~", Menu[playerid][i][menu_Info], Craft[i][craft_Pedras]);
            if(Craft[i][craft_Polvoras] > 0) format(Menu[playerid][i][menu_Info], 200, "%s~y~Gunpowder: ~w~%d~n~", Menu[playerid][i][menu_Info], Craft[i][craft_Polvoras]);
        }
        mostrar_menu(playerid, menu_id[playerid]);
        return 1;
    }

    if(con == -1)
    {
        ShowPlayerDialog_(playerid, DIALOG_MESA, DIALOG_STYLE_LIST, "Crafting Table", "{00ff00}CRAFT\n{ffff00}Move Table\n{ff0000}Destroy Table", "Continue", "Close");
        return 1;
    }

    return 1;
}

CriarCraft(playerid, i)
{
    if(Craft[i][craft_Sucata] > 0) if(!tem_item(playerid, 90, Craft[i][craft_Sucata]))
    {
        ms(playerid, 0, "You do not have enough Scrap!");
        return 0;
    }
    if(Craft[i][craft_Madeiras] > 0) if(Madeiras[playerid] < Craft[i][craft_Madeiras])
    {
        ms(playerid, 0, "You do not have enough Wood!");
        return 0;
    }
    if(Craft[i][craft_Metais] > 0) if(Metais[playerid] < Craft[i][craft_Metais])
    {
        ms(playerid, 0, "You do not have enough Metal!");
        return 0;
    }
    if(Craft[i][craft_Pedras] > 0) if(Pedras[playerid] < Craft[i][craft_Pedras])
    {
        ms(playerid, 0, "You do not have enough Stone!");
        return 0;
    }
    if(Craft[i][craft_Polvoras] > 0) if(Polvoras[playerid] < Craft[i][craft_Polvoras])
    {
        ms(playerid, 0, "You do not have enough Gunpowder!");
        return 0;
    }

    if(SlotsVazios(playerid) == 0)
    {
        ms(playerid, 0, "Your inventory is full!");
        return 0;
    }

    SetPVarInt(playerid, "crafting", i);
    Acao(playerid, 18, 250, "CRAFTING", 1, "BD_FIRE", "WASH_UP", 1);
    return 1;
}


unidades_craft(i)
{
	new uni = 1;
	if(Craft[i][craft_ID] == 62) uni = 50;
	if(Craft[i][craft_ID] == 63) uni = 25;
	if(Craft[i][craft_ID] == 64) uni = 50;
	if(Craft[i][craft_ID] == 65) uni = 80;
	if(Craft[i][craft_ID] == 66) uni = 30;
	return uni;
}


destruir_base(i)
{
	if(Base[i][base_Existe] == 1)
	{
	    Base[i][base_Existe] = 0;
	    Base[i][base_Level] = 0;
	    Base[i][base_XP] = 0;
	    Base[i][base_Classe] = 0;
		format(Base[i][base_Nome], 40, "Nenhuma");
	    Base[i][base_X] = 0;
	    Base[i][base_Y] = 0;
	    Base[i][base_Z] = 0;
	    for(new ii; ii<MAX_MEMBROS; ii++)
		{
		    if(!Comparar(Membro[i][ii], Nome(-1)))
		    {
			    if(IsPlayerOnline(Membro[i][ii]))
			    {
					new iq = GetPlayerID(Membro[i][ii]);
					base_player[iq] = -1;
				}
			}
			format(Membro[i][ii], MAX_PLAYER_NAME, Nome(-1));
		}
		for(new m; m<MAX_MESAS; m++) if(Mesa[m][me_Existe] == 1) if(Mesa[m][me_Base] == i) destruir_mesa(m);
	    for(new r; r<MAX_RECICLADORAS; r++) if(Recicladora[r][re_Existe] == 1) if(Recicladora[r][re_Base] == i) destruir_recicladora(r);
	    for(new o; o<MAX_OBJETOS; o++) if(Obj[o][obj_Existe] == 1) if(Obj[o][obj_Base] == i) destruir_objeto(o);
	    for(new b; b<MAX_BAUS; b++) if(Bau[b][bau_Existe] == 1) if(Bau[b][bau_Base] == i) destruir_bau(b);
	    for(new c; c<MAX_CAIXAS; c++) if(Caixa[c][caixa_Existe] == 1) if(Caixa[c][caixa_Base] == i) destruir_caixa(c);
	    for(new p; p<MAX_PORTOES; p++) if(Portao[p][portao_Existe] == 1) if(Portao[p][portao_Base] == i) destruir_portao(p);
	    if(CanalBase[i] != SV_NULL) SvDeleteStream(CanalBase[i]);
	    CanalBase[i] = SV_NULL;
	    atualizar_base(i);
	    salvar_base(i);
    }
	return 1;
}

destruir_recicladora(i)
{
	if(Recicladora[i][re_Existe] == 1)
	{
	    Recicladora[i][re_Base] = -1;
	    Recicladora[i][re_Existe] = 0;
	    Recicladora[i][re_X] = 0.0;
	    Recicladora[i][re_Y] = 0.0;
	    Recicladora[i][re_Z] = 0.0;
		Recicladora[i][re_RX] = 0.0;
	    Recicladora[i][re_RY] = 0.0;
	    Recicladora[i][re_RZ] = 0.0;
	    atualizar_recicladora(i);
	    salvar_recicladora(i);
    }
	return 1;
}


SlotVazioLobby(playerid)
{
	for(new i; i<MAX_LOBBY; i++)
	{
	    if(Inventario_Lobby[playerid][i][inv_ID] == 0)
	    {
			return i;
	    }
	}
	return -1;
}

listar_inv_Lobby(playerid)
{
	new cont;
    for(new i; i<MAX_LOBBY; i++)
	{
        Lista_Lobby[playerid][i] = -1;
        if(Inventario_Lobby[playerid][i][inv_ID] != 0)
        {
            Lista_Lobby[playerid][cont] = i;
            cont++;
        }
	}
	return cont;
}
// kamera lobby
abrir_inv_Lobby(playerid, con=0)
{
	new sss[300];

	if(con == 0) // abrir //
	{
	    mostrarLobby(playerid, 1);
	    mostrando_inv_Lobby[playerid] = 1;
	    pagina_Lobby[playerid] = 0;
	    escolhendo_Lobby[playerid] = -1;
	    for(new i; i<sizeof T_Inv_Lobby; i++) TextDrawShowForPlayer(playerid, T_Inv_Lobby[i]);
		InterpolateCameraPos(playerid, 244.1894,306.2789,999.1558, 248.8175,304.2268,999.1484, 1500, CAMERA_MOVE);
		InterpolateCameraLookAt(playerid, 248.8177,304.0062,999.1484, 247.8965,300.8637,1000.2906, 1500, CAMERA_MOVE);
	}

    new cont = listar_inv_Lobby(playerid);
    new pags;
    new sobra;
    new div;
    if(cont <= 6)
    {
		pags = 1;
		sobra = 0;
    }
    else
    {
        pags = cont/6;
        div = pags*6;
        sobra = cont - (div);
        if(sobra > 0) pags ++;
    }

	if(pagina_Lobby[playerid] > pags-1) pagina_Lobby[playerid] --;
	if(pagina_Lobby[playerid] < 0) pagina_Lobby[playerid] = 0;
	if(cont > 0)
	{
		format(sss, 150, "%d / %d", pagina_Lobby[playerid]+1, pags);
		PlayerTextDrawSetString(playerid, T_Inv_Lobby_p[playerid][18], sss);
		PlayerTextDrawShow(playerid, T_Inv_Lobby_p[playerid][18]);
	}
	else PlayerTextDrawHide(playerid, T_Inv_Lobby_p[playerid][18]);

    if(pagina_Lobby[playerid] < pags-1 ) TextDrawShowForPlayer(playerid, T_Inv_Lobby[4]);
	else TextDrawHideForPlayer(playerid, T_Inv_Lobby[4]);
	if(pagina_Lobby[playerid] > 0 ) TextDrawShowForPlayer(playerid, T_Inv_Lobby[3]);
	else TextDrawHideForPlayer(playerid, T_Inv_Lobby[3]);

    for(new i; i<6; i++)
    {
        if(Lista_Lobby[playerid][i + pagina_Lobby[playerid]*6] != -1)
        {
            new oi = Lista_Lobby[playerid][i + pagina_Lobby[playerid]*6];
            new aki = Inventario_Lobby[playerid][oi][inv_ID];
		    PlayerTextDrawSetPreviewRot(playerid, T_Inv_Lobby_p[playerid][i], Itens[aki][item_PreX],Itens[aki][item_PreY],Itens[aki][item_PreZ],Itens[aki][item_PreV]);
            PlayerTextDrawColor(playerid, T_Inv_Lobby_p[playerid][i], Itens[aki][item_Cor]);
            if(Itens[aki][item_Modelo] == 1248) PlayerTextDrawSetPreviewModel(playerid, T_Inv_Lobby_p[playerid][i], Inventario_Lobby[playerid][oi][inv_Tipo]);
            else if(aki == 99) PlayerTextDrawSetPreviewModel(playerid, T_Inv_Lobby_p[playerid][i], Inventario_Lobby[playerid][oi][inv_Tipo]);
            else PlayerTextDrawSetPreviewModel(playerid, T_Inv_Lobby_p[playerid][i], Itens[aki][item_Modelo]);
            format(sss, 150, "%s", Itens[aki][item_Nome]);
			PlayerTextDrawSetString(playerid, T_Inv_Lobby_p[playerid][6 + i], sss);
			format(sss, 150, "%s", ConvertMoney(Inventario_Lobby[playerid][oi][inv_Unidades]));
			PlayerTextDrawSetString(playerid, T_Inv_Lobby_p[playerid][12 + i], sss);

			if(escolhendo[playerid] != -1)
			{
				if(escolhendo_Lobby[playerid] == oi) PlayerTextDrawBackgroundColor(playerid, T_Inv_Lobby_p[playerid][i], 0x00ffff50);
				else if(Inventario_Lobby[playerid][oi][inv_Visto] == 0) PlayerTextDrawBackgroundColor(playerid, T_Inv_Lobby_p[playerid][i], 0xffff0050);
				else PlayerTextDrawBackgroundColor(playerid, T_Inv_Lobby_p[playerid][i], 0x00000050);
			}
			else
			{
			    if(Inventario_Lobby[playerid][oi][inv_Visto] == 0) PlayerTextDrawBackgroundColor(playerid, T_Inv_Lobby_p[playerid][i], 0xffff0050);
			    else PlayerTextDrawBackgroundColor(playerid, T_Inv_Lobby_p[playerid][i], 0x00000050);
			}
			PlayerTextDrawShow(playerid, T_Inv_Lobby_p[playerid][i]);
			PlayerTextDrawShow(playerid, T_Inv_Lobby_p[playerid][6 + i]);
			PlayerTextDrawShow(playerid, T_Inv_Lobby_p[playerid][12 + i]);
		}
		else
		{
		    PlayerTextDrawHide(playerid, T_Inv_Lobby_p[playerid][i]);
			PlayerTextDrawHide(playerid, T_Inv_Lobby_p[playerid][6 + i]);
			PlayerTextDrawHide(playerid, T_Inv_Lobby_p[playerid][12 + i]);
		}
    }

    if(con == 2) // info //
	{
	    abrir_info_Lobby(playerid);
	}

	return 1;
}


fechar_inv_Lobby(playerid)
{
	if(mostrando_inv_Lobby[playerid] == 1)
	{
		InterpolateCameraPos(playerid, 248.8175,304.2268,999.1484,  244.1894,306.2789,999.1558, 1500, CAMERA_MOVE);
		InterpolateCameraLookAt(playerid,  247.8965,300.8637,1000.2906, 248.8177,304.0062,999.1484, 1500, CAMERA_MOVE);
	}
	mostrando_inv_Lobby[playerid] = 0;
	for(new i; i<sizeof T_Inv_Lobby; i++) TextDrawHideForPlayer(playerid, T_Inv_Lobby[i]);
	for(new ii; ii<19; ii++) PlayerTextDrawHide(playerid, T_Inv_Lobby_p[playerid][ii]);
	fechar_info_Lobby(playerid);
	return 1;
}

abrir_info_Lobby(playerid)
{
	new sss[150];
    info_Lobby[playerid] = 1;
    TextDrawShowForPlayer(playerid, T_Info_Inv_Lobby[0]);
    TextDrawShowForPlayer(playerid, T_Info_Inv_Lobby[1]);
    TextDrawShowForPlayer(playerid, T_Info_Inv_Lobby[2]);
    TextDrawShowForPlayer(playerid, T_Info_Inv_Lobby[3]);
    new ak = Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_ID];
    format(sss, 150, "%s", Itens[ak][item_Nome]);
    PlayerTextDrawSetString(playerid, T_Info_Inv_Lobby_p[playerid][0], sss);
    format(sss, 150, "%s.", Itens[ak][item_Info]);
    PlayerTextDrawSetString(playerid, T_Info_Inv_Lobby_p[playerid][1], sss);
    PlayerTextDrawShow(playerid, T_Info_Inv_Lobby_p[playerid][0]);
    PlayerTextDrawShow(playerid, T_Info_Inv_Lobby_p[playerid][1]);
	return 1;
}

fechar_info_Lobby(playerid)
{
	info_Lobby[playerid] = 0;
    TextDrawHideForPlayer(playerid, T_Info_Inv_Lobby[0]);
    TextDrawHideForPlayer(playerid, T_Info_Inv_Lobby[1]);
    TextDrawHideForPlayer(playerid, T_Info_Inv_Lobby[2]);
    TextDrawHideForPlayer(playerid, T_Info_Inv_Lobby[3]);
    PlayerTextDrawHide(playerid, T_Info_Inv_Lobby_p[playerid][0]);
    PlayerTextDrawHide(playerid, T_Info_Inv_Lobby_p[playerid][1]);
	return 1;
}

excluir_item_inv_Lobby(playerid)
{
    if(escolhendo_Lobby[playerid] != -1)
    {
        SetPVarInt(playerid, "slot_Lobby", escolhendo_Lobby[playerid]);
        new ak = Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_ID];
        fechar_info_Lobby(playerid);
        ShowPlayerDialog_(playerid, DIALOG_EXCLUIR_Lobby, DIALOG_STYLE_MSGBOX, Itens[ak][item_Nome], "{ff0000}INFO: {a1a1a1}Do you really want to delete this item?", "Yes", "No");
    }
    return 1;
}

usar_item_inv_Lobby(playerid)
{
    if(escolhendo_Lobby[playerid] != -1)
    {
        new id = Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_ID];
        new tipo = Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Tipo];

        if(id == 99) // skin //
        {
            new skin = GetPlayerSkin(playerid);
            SetarSkin(playerid, tipo);
            Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Tipo] = skin;
            escolhendo_Lobby[playerid] = -1;
            fechar_info_Lobby(playerid);
            abrir_inv_Lobby(playerid, 10);
            ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{a1a1a1}You used a New Skin, and the previous one was added to your Lobby Inventory.", "Ok", "Close");
            salvarplayer(playerid);
            fechar_info_Lobby(playerid);
            return 1;
        }

        if(SlotsVazios(playerid) == 0)
        {
            ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{a1a1a1}Your Story Mode Inventory is full!", "Ok", "Close");
            return 1;
        }
        AddInv(playerid, Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_ID], Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Unidades], Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Tipo]);
        Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_ID] = 0;
        Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Unidades] = 0;
        Inventario_Lobby[playerid][escolhendo_Lobby[playerid]][inv_Tipo] = 0;
        escolhendo_Lobby[playerid] = -1;
        abrir_inv_Lobby(playerid, 10);
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{a1a1a1}You used this item and it was added to your Story Mode inventory.", "Ok", "Close");
        fechar_info_Lobby(playerid);
        salvarplayer(playerid);
    }
    return 1;
}

mostrar_configuracoes(playerid)
{
    String_Gigante[0] = EOS;
    strcat(String_Gigante, "Option\tInfo\tStatus\n");
    strcat(String_Gigante, "{ffffff}Global Chat\t{a1a1a1}/G");
    if(pInfo[playerid][pConfig][0] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Base Chat\t{a1a1a1}/CB");
    if(pInfo[playerid][pConfig][1] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Server Tips\t{a1a1a1}Appears in Chat");
    if(pInfo[playerid][pConfig][2] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Hit Sound on Damage\t{a1a1a1}Works on PC");
    if(pInfo[playerid][pConfig][3] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Private Messages\t{a1a1a1}/PAR");
    if(pInfo[playerid][pConfig][4] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Show Equipment on Body\t{a1a1a1}Your equipment");
    if(pInfo[playerid][pConfig][5] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    strcat(String_Gigante, "{ffffff}Compass\t{a1a1a1}Shows your camera angle");
    if(pInfo[playerid][pConfig][6] == 0) strcat(String_Gigante, "\t{00FF00}ENABLED\n");
    else strcat(String_Gigante, "\t{ff0000}DISABLED\n");
    ShowPlayerDialog_(playerid, DIALOG_CONFIGURACOES, DIALOG_STYLE_TABLIST_HEADERS, "Settings", String_Gigante, "Continue", "Close");
    return 1;
}


esconder_proximo_premio(playerid)
{
    for(new a; a<sizeof T_Recomp; a++) TextDrawHideForPlayer(playerid, T_Recomp[a]);
	return 1;
}

mostrar_proximo_premio(playerid)
{
	for(new a; a<sizeof T_Recomp; a++) TextDrawShowForPlayer(playerid, T_Recomp[a]);
	return 1;
}


fechar_recompenssas(playerid)
{
    PlayerTextDrawHide(playerid, T_Premios_p[playerid][0]);
    PlayerTextDrawHide(playerid, T_Premios_p[playerid][1]);
    PlayerTextDrawHide(playerid, T_Premios_p[playerid][2]);
    PlayerTextDrawHide(playerid, T_Premios_p[playerid][3]);
    PlayerTextDrawHide(playerid, T_Premios_p[playerid][4]);
    for(new i; i<sizeof T_Premios; i++) TextDrawHideForPlayer(playerid, T_Premios[i]);
    mostrando_premios[playerid] = -1;
	return 1;
}


mostrar_loja(playerid)
{
    for(new i; i<sizeof T_Loja; i++) TextDrawShowForPlayer(playerid, T_Loja[i]);
	return 1;
}

econder_loja(playerid)
{
    for(new i; i<sizeof T_Loja; i++) TextDrawHideForPlayer(playerid, T_Loja[i]);
    mostrando_item_cash[playerid] = 0;
    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][0]);
    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][1]);
    TextDrawHideForPlayer(playerid, T_Loja_Cash[0]);
    TextDrawHideForPlayer(playerid, T_Loja_Cash[1]);
    TextDrawHideForPlayer(playerid, T_Loja_Cash[2]);
    TextDrawHideForPlayer(playerid, T_Loja_Cash[3]);
	return 1;
}


esconder_botao_passe(playerid)
{
	for(new i; i<sizeof T_Passe_Botao; i++) TextDrawHideForPlayer(playerid, T_Passe_Botao[i]);
	return 1;
}

mostrar_botao_passe(playerid)
{
	for(new i; i<sizeof T_Passe_Botao; i++) TextDrawShowForPlayer(playerid, T_Passe_Botao[i]);
	return 1;
}


esconder_passe(playerid)
{
    for(new i; i<sizeof T_Passe; i++) TextDrawHideForPlayer(playerid, T_Passe[i]);
	for(new ii; ii<33; ii++) PlayerTextDrawHide(playerid, T_Passe_p[playerid][ii]);
    esconder_botao_passe(playerid);
	return 1;
}

atualizarpaginafree(playerid)
{
    new sss[300];
    format(sss, 300, "LEVEL ~y~%d", PasseNivel[playerid]);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][31], sss);
    PlayerTextDrawTextSize(playerid, T_Passe_p[playerid][32], 408.0 + (PasseProgresso[playerid] * UNI), 0.000000);
    new pags = paginas(5, MAX_PASSE);
    format(sss, 300, "~g~%d~g~~h~~h~/%d~n~~n~~n~~n~~n~~n~~n~~g~%d~g~~h~~h~/%d~n~", PaginaPasseFree[playerid] + 1, pags, PaginaPassePago[playerid] + 1, pags);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][0], sss);

    new model;
    new sts[100];
    new id_item;
    new id;
    for(new a; a < 5; a++)
    {
        // free //
        id_item = a + (PaginaPasseFree[playerid] * 5);
        id = PremiosPasseFree[id_item][0];
        if(Itens[id][item_Modelo] == 1248) model = PremiosPasseFree[id_item][2];
        else if(id == 99) model = PremiosPasseFree[id_item][2];
        else model = Itens[id][item_Modelo];
        if(PremioRecolhidoFree[playerid][id_item] == -1) format(sts, 100, "~r~~h~NOT AVAILABLE");
        if(PremioRecolhidoFree[playerid][id_item] ==  0) format(sts, 100, "~y~~h~AVAILABLE");
        if(PremioRecolhidoFree[playerid][id_item] ==  1) format(sts, 100, "~g~~h~CLAIMED");
        PlayerTextDrawSetPreviewRot(playerid, T_Passe_p[playerid][a + 1], Itens[id][item_PreX], Itens[id][item_PreY], Itens[id][item_PreZ], Itens[id][item_PreV]);
        PlayerTextDrawSetPreviewModel(playerid, T_Passe_p[playerid][a + 1], model);
        PlayerTextDrawSetString(playerid, T_Passe_p[playerid][a + 10 + 1], sts);
        format(sts, 150, "%s~n~~g~~h~%s~n~", Itens[id][item_Nome], ConvertMoney(PremiosPasseFree[id_item][1]));
        PlayerTextDrawSetString(playerid, T_Passe_p[playerid][a + 5 + 1], sts);
    }

    for(new ii = 1; ii < 16; ii++) PlayerTextDrawShow(playerid, T_Passe_p[playerid][ii]);
    return 1;
}

atualizarpaginapago(playerid)
{
    new sss[300];
    format(sss, 300, "LEVEL ~y~%d", PasseNivel[playerid]);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][31], sss);
    PlayerTextDrawTextSize(playerid, T_Passe_p[playerid][32], 408.0 + (PasseProgresso[playerid] * UNI), 0.000000);
    new pags = paginas(5, MAX_PASSE);
    format(sss, 300, "~g~%d~g~~h~~h~/%d~n~~n~~n~~n~~n~~n~~n~~g~%d~g~~h~~h~/%d~n~", PaginaPasseFree[playerid] + 1, pags, PaginaPassePago[playerid] + 1, pags);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][0], sss);
    new model;
    new sts[150];
    new id_item;
    new id;
    for(new a; a < 5; a++)
    {
        // paid //
        id_item = a + (PaginaPassePago[playerid] * 5);
        id = PremiosPassePago[id_item][0];
        if(Itens[id][item_Modelo] == 1248) model = PremiosPassePago[id_item][2];
        else if(id == 99) model = PremiosPassePago[id_item][2];
        else model = Itens[id][item_Modelo];
        if(PremioRecolhidoPago[playerid][id_item] == -1) format(sts, 100, "~r~~h~NOT AVAILABLE");
        if(PremioRecolhidoPago[playerid][id_item] ==  0) format(sts, 100, "~y~~h~AVAILABLE");
        if(PremioRecolhidoPago[playerid][id_item] ==  1) format(sts, 100, "~g~~h~CLAIMED");
        if(PlayerPasse[playerid] != TEMPORADA) format(sts, 100, "~r~~h~LOCKED");
        PlayerTextDrawSetPreviewRot(playerid, T_Passe_p[playerid][a + 15 + 1], Itens[id][item_PreX], Itens[id][item_PreY], Itens[id][item_PreZ], Itens[id][item_PreV]);
        PlayerTextDrawSetPreviewModel(playerid, T_Passe_p[playerid][a + 15 + 1], model);
        PlayerTextDrawSetString(playerid, T_Passe_p[playerid][a + 10 + 15 + 1], sts);
        format(sts, 150, "%s~n~~g~~h~%s~n~", Itens[id][item_Nome], ConvertMoney(PremiosPassePago[id_item][1]));
        PlayerTextDrawSetString(playerid, T_Passe_p[playerid][a + 5 + 15 + 1], sts);
    }
    for(new ii = 16; ii < 31; ii++) PlayerTextDrawShow(playerid, T_Passe_p[playerid][ii]);
    return 1;
}

abrirpasse(playerid)
{
    new sss[300];
    format(sss, 300, "LEVEL ~y~%d", PasseNivel[playerid]);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][31], sss);
    PlayerTextDrawTextSize(playerid, T_Passe_p[playerid][32], 408.0 + (PasseProgresso[playerid] * UNI), 0.000000);
    new pags = paginas(5, MAX_PASSE);
    format(sss, 300, "~g~%d~g~~h~~h~/%d~n~~n~~n~~n~~n~~n~~n~~g~%d~g~~h~~h~/%d~n~", PaginaPasseFree[playerid] + 1, pags, PaginaPassePago[playerid] + 1, pags);
    PlayerTextDrawSetString(playerid, T_Passe_p[playerid][0], sss);
    for(new i; i < sizeof T_Passe; i++) TextDrawShowForPlayer(playerid, T_Passe[i]);
    atualizarpaginafree(playerid);
    atualizarpaginapago(playerid);
    PlayerTextDrawShow(playerid, T_Passe_p[playerid][0]);
    PlayerTextDrawShow(playerid, T_Passe_p[playerid][31]);
    PlayerTextDrawShow(playerid, T_Passe_p[playerid][32]);
    return 1;
}

mostrar_passe(playerid)
{
    if(TEMPORADA == 0)
    {
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}[INFO] {a1a1a1}The Pass System is not available yet!", "Ok", "Close");
        return 1;
    }
    econder_loja(playerid);
    esconder_classes_botao(playerid);
    esconder_botao_passe(playerid);
    fechar_recompenssas(playerid);
    fechar_inv_Lobby(playerid);
    esconder_proximo_premio(playerid);
    mostrarLobby(playerid, 123);
    abrirpasse(playerid);
    return 1;
}


mostrar_recompenssas(playerid)
{
	if(Online(playerid))
	{
	    new sss[150];
	    if(mostrando_premios[playerid] == -1)
	    {
	        new agora;
	        for(new aa; aa<sizeof Recompensas; aa++)
			{
				if(Recompensas[aa][0] > pInfo[playerid][pLevel])
				{
					agora = aa;
					break;
				}
			}
			mostrando_premios[playerid] = agora;

			esconder_passe(playerid);
		    fechar_inv_Lobby(playerid);
		    esconder_proximo_premio(playerid);
		    abrir_loja(playerid, 1);
		    mostrarLobby(playerid, 1);

			for(new i; i<sizeof T_Premios; i++) TextDrawShowForPlayer(playerid, T_Premios[i]);
	    }
	    if(Recompensas[mostrando_premios[playerid]][1] == 5) format(sss, 150, "~y~%s~n~~g~R$ %s", Itens[Recompensas[mostrando_premios[playerid]][1]][item_Nome], ConvertMoney(Recompensas[mostrando_premios[playerid]][2]));
	    else format(sss, 150, "~y~%s~n~~w~%s", Itens[Recompensas[mostrando_premios[playerid]][1]][item_Nome], ConvertMoney(Recompensas[mostrando_premios[playerid]][2]));
	    if( Itens[Recompensas[mostrando_premios[playerid]][1]][item_Modelo] == 1248) PlayerTextDrawSetPreviewModel(playerid, T_Premios_p[playerid][0], Itens[Recompensas[mostrando_premios[playerid]][1]][item_Tipo]);
	    else PlayerTextDrawSetPreviewModel(playerid, T_Premios_p[playerid][0], Itens[Recompensas[mostrando_premios[playerid]][1]][item_Modelo]);
        PlayerTextDrawSetPreviewRot(playerid, T_Premios_p[playerid][0], Itens[Recompensas[mostrando_premios[playerid]][1]][item_PreX], Itens[Recompensas[mostrando_premios[playerid]][1]][item_PreY], Itens[Recompensas[mostrando_premios[playerid]][1]][item_PreZ], Itens[Recompensas[mostrando_premios[playerid]][1]][item_PreV]);



		PlayerTextDrawSetString(playerid, T_Premios_p[playerid][1], sss);
	    format(sss, 150, "%02d", Recompensas[mostrando_premios[playerid]][0]);
	    PlayerTextDrawSetString(playerid, T_Premios_p[playerid][2], sss);
	    if(mostrando_premios[playerid]-1 >= 0)
	    {
	        format(sss, 150, "%02d", Recompensas[mostrando_premios[playerid]-1][0]);
	    	PlayerTextDrawSetString(playerid, T_Premios_p[playerid][3], sss);
	    	TextDrawShowForPlayer(playerid, T_Premios[4]);
	    }
	    else
		{
			PlayerTextDrawSetString(playerid, T_Premios_p[playerid][3], "_");
			TextDrawHideForPlayer(playerid, T_Premios[4]);
	    }

	    if(mostrando_premios[playerid]+1 < sizeof Recompensas)
	    {
	        format(sss, 150, "%02d", Recompensas[mostrando_premios[playerid]+1][0]);
	    	PlayerTextDrawSetString(playerid, T_Premios_p[playerid][4], sss);
	    	TextDrawShowForPlayer(playerid, T_Premios[5]);
	    }
	    else
		{
			PlayerTextDrawSetString(playerid, T_Premios_p[playerid][4], "_");
			TextDrawHideForPlayer(playerid, T_Premios[5]);
		}

		PlayerTextDrawShow(playerid, T_Premios_p[playerid][0]);
	    PlayerTextDrawShow(playerid, T_Premios_p[playerid][1]);
	    PlayerTextDrawShow(playerid, T_Premios_p[playerid][2]);
	    PlayerTextDrawShow(playerid, T_Premios_p[playerid][3]);
	    PlayerTextDrawShow(playerid, T_Premios_p[playerid][4]);
	}
	return 1;
}

nao_viu(playerid)
{
	for(new i; i<MAX_LOBBY; i++)
	{
		if(Inventario_Lobby[playerid][i][inv_ID] != 0)
		{
		    if(Inventario_Lobby[playerid][i][inv_Visto] == 0)
		    {
		        TextDrawShowForPlayer(playerid, T_Nao_Viu[0]);
				return 1;
		    }
		}
	}
	TextDrawHideForPlayer(playerid, T_Nao_Viu[0]);
	return 0;
}

abrir_loja(playerid, con, id=-1)
{

	new string[300];
    if(id != -1) SetPVarInt(playerid, "loja", id);

	if(con == 1)
	{
	    mostrando_loja_cash[playerid] = 0;
	    for(new i; i<11; i++)
		{
		    if(i < 6) TextDrawHideForPlayer(playerid, TextLojaCash[i]);
			PlayerTextDrawHide(playerid, TextLojaCash_p[playerid][i]);
		}
		if(id != 555) mostrarLobby(playerid);

		mostrando_item_cash[playerid] = 0;
	    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][0]);
	    PlayerTextDrawHide(playerid, T_Loja_Cash_p[playerid][1]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[0]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[1]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[2]);
	    TextDrawHideForPlayer(playerid, T_Loja_Cash[3]);
	    return 1;
	}

	if(con == 0)
	{
	    fechar_recompenssas(playerid);
	    esconder_passe(playerid);
	    mostrar_botao_passe(playerid);
	    fechar_inv_Lobby(playerid);
	    mostrarLobby(playerid, 1);

	    mostrando_loja_cash[playerid] = 1;
	    pagina_loja_cash[playerid] = 0;
	    id_loja_cash[playerid] = 0;
        for(new i; i<6; i++) TextDrawShowForPlayer(playerid, TextLojaCash[i]);
	    abrir_loja(playerid, 2);
	    abrir_loja(playerid, 3);
	    SelectTextDraw_(playerid, 0x00ffffff);
	    return 1;
	}

	if(con == 2)
	{
	    new cont = sizeof Items_Loja_Cash;
        new pags;
        new sobra;
        new div;
        if(cont <= 8)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/8;
            div = pags*8;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }

		format(string, 150, "%d / %d", pagina_loja_cash[playerid]+1, pags);
		PlayerTextDrawSetString(playerid, TextLojaCash_p[playerid][8], string);
		PlayerTextDrawShow(playerid, TextLojaCash_p[playerid][8]);
        if(pagina_loja_cash[playerid] < pags-1 ) TextDrawShowForPlayer(playerid, TextLojaCash[4]);
		else TextDrawHideForPlayer(playerid, TextLojaCash[4]);
		if(pagina_loja_cash[playerid] > 0 ) TextDrawShowForPlayer(playerid, TextLojaCash[3]);
		else TextDrawHideForPlayer(playerid, TextLojaCash[3]);

		for(new i; i<8; i++)
		{
		    new ii = i + (pagina_loja_cash[playerid]*8);
		    if(ii < sizeof(Items_Loja_Cash))
		    {
		        PlayerTextDrawSetString(playerid, TextLojaCash_p[playerid][i], Itens[Items_Loja_Cash[ii][0]][item_Nome]);
				PlayerTextDrawShow(playerid, TextLojaCash_p[playerid][i]);
		    }
		    else
		    {
				PlayerTextDrawHide(playerid, TextLojaCash_p[playerid][i]);
		    }
		}
	    return 1;
	}

	if(con == 3)
	{
		format(string, 300, "");
		new i = id_loja_cash[playerid];
		if(Itens[Items_Loja_Cash[i][0]][item_Modelo] == 1248)
			PlayerTextDrawSetPreviewModel(playerid, TextLojaCash_p[playerid][9], Itens[Items_Loja_Cash[i][0]][item_Tipo]);
		else
			PlayerTextDrawSetPreviewModel(playerid, TextLojaCash_p[playerid][9], Itens[Items_Loja_Cash[i][0]][item_Modelo]);
		PlayerTextDrawSetPreviewRot(playerid, TextLojaCash_p[playerid][9], -20.0, 0.0, 45.0, 1.0);
		PlayerTextDrawShow(playerid, TextLojaCash_p[playerid][9]);
		format(string, 300, "~w~%s~n~Units: ~g~%s~n~~n~~y~CASH: ~w~%s~n~", Itens[Items_Loja_Cash[i][0]][item_Nome], ConvertMoney(Items_Loja_Cash[i][1]), ConvertMoney(Items_Loja_Cash[i][2]));
		PlayerTextDrawSetString(playerid, TextLojaCash_p[playerid][10], string);
		PlayerTextDrawShow(playerid, TextLojaCash_p[playerid][10]);
		return 1;
	}
	return 1;
}

carregar_contatos(playerid)
{
    new file[80];
    for(new ii; ii < MAX_CONTATOS; ii++) format(Contatos[playerid][ii], MAX_PLAYER_NAME, Nome(-1));
    format(file, 80, "Contatos/%s.txt", Nome(playerid));
    if(DOF2_FileExists(file))
    {
        new linha[100];
        for(new i; i < MAX_CONTATOS; i++)
        {
            format(linha, 100, "contato_%d", i);
            format(Contatos[playerid][i], MAX_PLAYER_NAME, DOF2_GetString(file, linha));
        }
    }
    return 1;
}


salvar_contatos(playerid)
{
    new file[80];
    format(file, 80, "Contatos/%s.txt", Nome(playerid));
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    new linha[100];
    for(new i; i < MAX_CONTATOS; i++)
    {
        format(linha, 100, "contato_%d", i);
        DOF2_SetString(file, linha, Contatos[playerid][i]);
    }
    DOF2_SaveFile();
    return 1;
}


mostrar_radio(playerid, con = 0)
{
    String_Gigante[0] = EOS;
    new linha[100];
    new onlin[40];

    if(con == 1)
    {
        new cont;
        strcat(String_Gigante, "Contact\tStatus\n");
        for(new a; a < MAX_CONTATOS; a++)
        {
            Players[playerid][a] = -1;
            if(!Comparar(Contatos[playerid][a], Nome(-1)))
            {
                format(onlin, 40, "{ff0000}Offline");
                if(IsPlayerOnline(Contatos[playerid][a]))
                    if(Modo[GetPlayerID(Contatos[playerid][a])] == 1)
                        format(onlin, 40, "{00ff00}Online");
                format(linha, 100, "{a1a1a1}%s\t%s\n", Contatos[playerid][a], onlin);
                Players[playerid][cont] = a;
                cont++;
                strcat(String_Gigante, linha);
            }
        }
        SetPVarInt(playerid, "cont", cont);
        strcat(String_Gigante, "{00ff00}ADD CONTACT\t{000000}_\n");
        ShowPlayerDialog_(playerid, DIALOG_RADIO2, DIALOG_STYLE_TABLIST_HEADERS, "{ffff00}Radio Communicator {a1a1a1}( /radio )", String_Gigante, "Connect", "Close");
        return 1;
    }

    for(new i; i < sizeof Radios; i++)
    {
        if(Canal_Player[playerid] == i) format(linha, 100, "{00ff00}[C] {ffffff}%s\n", Radios[i][r_Nome]);
        else format(linha, 100, "{a1a1a1}[D] {ffffff}%s\n", Radios[i][r_Nome]);
        strcat(String_Gigante, linha);
    }

    if(Canal_Base_Player[playerid] != -1) strcat(String_Gigante, "{00ff00}[C] {00ffff}BASE CHANNEL\n");
    else strcat(String_Gigante, "{a1a1a1}[D] {00ffff}BASE CHANNEL\n");
    strcat(String_Gigante, "{ffff00}MY CONTACTS\n");
    if(Canal_Player[playerid] != -1) strcat(String_Gigante, "{ff0000}TURN OFF RADIO\n");
    else if(Canal_Base_Player[playerid] != -1) strcat(String_Gigante, "{ff0000}TURN OFF RADIO\n");
    else if(Canal_Privado[playerid] != -1) strcat(String_Gigante, "{ff0000}TURN OFF RADIO\n");
    ShowPlayerDialog_(playerid, DIALOG_RADIO, DIALOG_STYLE_LIST, "Radio Communicator", String_Gigante, "Connect", "Close");
    return 1;
}


forward carregar_equi(playerid);
public carregar_equi(playerid)
{
	carregarconta(playerid);
    SetarSkin(playerid, pInfo[playerid][pSkin]);
    Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]);
    Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]);
    Setar_Mascara(playerid, Mascara[playerid]);
    SetarVida(playerid, Vida[playerid]);
	return 1;
}



SetarSkin(playerid, skin)
{
	if(Online(playerid))
	{
		SetPlayerSkin(playerid, skin);
		pInfo[playerid][pSkin] = skin;
		Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]);
	    Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]);
	    Setar_Mascara(playerid, Mascara[playerid]);
	}
	return 1;
}

SetarSkin2(playerid, skin)
{
	if(Online(playerid))
	{
		SetPlayerSkin(playerid, skin);
		Setar_Colete(playerid, Colete[playerid][0], Colete[playerid][1]);
	    Setar_Capacete(playerid, Capacete[playerid][0], Capacete[playerid][1]);
	    Setar_Mascara(playerid, Mascara[playerid]);
	}
	return 1;
}

mostrar_velocimetro2(playerid)
{
	if(Online(playerid))
	{
	    TextDrawShowForPlayer(playerid, T_Sinal[0]);
	    TextDrawShowForPlayer(playerid, T_Sinal[1]);
	    TextDrawShowForPlayer(playerid, T_Sinal[2]);
	    PlayerTextDrawShow(playerid, T_Sinal_p[playerid][0]);
	    PlayerTextDrawShow(playerid, T_Sinal_p[playerid][1]);
	}
	return 1;
}

esconder_velocimetro2(playerid)
{
    if(Online(playerid))
	{
        TextDrawHideForPlayer(playerid, T_Sinal[0]);
	    TextDrawHideForPlayer(playerid, T_Sinal[1]);
		TextDrawHideForPlayer(playerid, T_Sinal[2]);
	    PlayerTextDrawHide(playerid, T_Sinal_p[playerid][0]);
	    PlayerTextDrawHide(playerid, T_Sinal_p[playerid][1]);
	}
	return 1;
}

VeiculoRC(v)
{
	if(GetVehicleModel(v) != 0)
	{
		for(new i; i<MAX_PLAYERS; i++)
		{
		    if(!Online(i)) continue;
		    if(RC[i] != INVALID_VEHICLE_ID)
		    {
		        if(v == RC[i])
		        {
		            return i;
		        }
		    }
		}
	}
	return -1;
}

comprar_loja_cash(playerid, id)
{
    new sss[500];
    abrir_loja(playerid, 1, 555);
    SetPVarInt(playerid, "item_cash", id);
    format(sss, 500, "~b~~h~%s~n~~w~%s Unit(s)~n~~y~~h~Cash: %s", Itens[Items_Loja_Cash[id][0]][item_Nome], ConvertMoney(Items_Loja_Cash[id][1]), ConvertMoney(Items_Loja_Cash[id][2]) );
    PlayerTextDrawSetString(playerid, T_Loja_Cash_p[playerid][1], sss);
    if( Itens[Items_Loja_Cash[id][0]][item_Modelo] == 1248 )
        PlayerTextDrawSetPreviewModel(playerid, T_Loja_Cash_p[playerid][0], Itens[Items_Loja_Cash[id][0]][item_Tipo]);
    else
        PlayerTextDrawSetPreviewModel(playerid, T_Loja_Cash_p[playerid][0], Itens[Items_Loja_Cash[id][0]][item_Modelo]);
    PlayerTextDrawSetPreviewRot(playerid, T_Loja_Cash_p[playerid][0], Itens[Items_Loja_Cash[id][0]][item_PreX], Itens[Items_Loja_Cash[id][0]][item_PreY], Itens[Items_Loja_Cash[id][0]][item_PreZ], Itens[Items_Loja_Cash[id][0]][item_PreV]);
    mostrando_item_cash[playerid] = 1;
    PlayerTextDrawShow(playerid, T_Loja_Cash_p[playerid][0]);
    PlayerTextDrawShow(playerid, T_Loja_Cash_p[playerid][1]);
    TextDrawShowForPlayer(playerid, T_Loja_Cash[0]);
    TextDrawShowForPlayer(playerid, T_Loja_Cash[1]);
    TextDrawShowForPlayer(playerid, T_Loja_Cash[2]);
    TextDrawShowForPlayer(playerid, T_Loja_Cash[3]);
    SelectTextDraw_(playerid, 0x00ffffff);
    return 1;
}


terminar_craft(playerid)
{
    new str[150];
    if(craft_tipo[playerid] == 1) // stones
    {
        new p = craft_id[playerid];
        Pedra[p][ar_Vida] -= 5;
        if(Pedra[p][ar_Vida] <= 0)
        {
            DeitarPedra(p);
        }
        else
        {
            new aleatorio;
            if(pInfo[playerid][pClasse] == 0) aleatorio = random(2);
            else aleatorio = random(4);
            if(aleatorio == 0)
            {
                new rand;
                if(pInfo[playerid][pClasse] == 0) rand = 1 + random(2);
                else rand = 1 + random(1);
                Metais[playerid] += rand;
                format(str, 150, "Metals +%d ...", rand);
            }
            else
            {
                new rand;
                if(pInfo[playerid][pClasse] == 0) rand = 1 + random(3);
                else rand = 1 + random(1);
                Pedras[playerid] += rand;
                format(str, 150, "Stones +%d ...", rand);
            }
            ms(playerid, 3, str);
        }
    }

    if(craft_tipo[playerid] == 2) // woods
    {
        new p = craft_id[playerid];
        Arvore[p][ar_Vida] -= 5;
        if(Arvore[p][ar_Vida] <= 0)
        {
            DeitarArvore(p);
        }
        else
        {
            new rand;
            if(pInfo[playerid][pClasse] == 0) rand = 4 + random(3);
            else rand = 2 + random(2);
            Madeiras[playerid] += rand;
            format(str, 150, "Woods +%d ...", rand);
            ms(playerid, 3, str);
        }
    }

    ClearAnimations(playerid, 1);
    for(new i; i < sizeof T_Craft; i++) TextDrawHideForPlayer(playerid, T_Craft[i]);
    return 1;
}


forward destruir_3d(i);
public destruir_3d(i)
{
	Apagar[i][apags_Existe] = 0;
	DestroyDynamic3DTextLabel(Apagar[i][apags_3D]);
	return 1;
}


fechar_classes(playerid)
{
    if(mostrando_classes[playerid] == 1)
	{
	    SetarSkin2(playerid, pInfo[playerid][pSkin]);
	    mostrando_classes[playerid] = 0;
		for(new ii; ii<sizeof T_Classes; ii++) TextDrawHideForPlayer(playerid, T_Classes[ii]);
		for(new i; i<9; i++) PlayerTextDrawHide(playerid, T_Classes_p[playerid][i]);
		InterpolateCameraPos(playerid, 245.8575,304.0859,999.1484, 244.1894,306.2789,999.1558, 1500, CAMERA_MOVE);
		InterpolateCameraLookAt(playerid, 249.1341,302.5026,999.1484, 248.8184,303.2067,999.1484, 1500, CAMERA_MOVE);
        ApplyAnimation(playerid,"CLOTHES", "CLO_PODE_LOOP", 4.1, 1, 0, 0, 0, 0, 1);
	}
	return 1;
}

mostrar_classes(playerid)
{
	new str[150];
	if(mostrando_classes[playerid] == 0)
	{
	    esconderLobby2(playerid);
	    fechar_recompenssas(playerid);
	    fechar_inv_Lobby(playerid);
	    esconder_proximo_premio(playerid);
	    abrir_loja(playerid, 1, 555);
	    mostrarLobby(playerid, 123);
	    esconder_passe(playerid);

	    mostrando_classes[playerid] = 1;
        for(new ii; ii<sizeof T_Classes; ii++) TextDrawShowForPlayer(playerid, T_Classes[ii]);
		for(new i; i<9; i++) PlayerTextDrawShow(playerid, T_Classes_p[playerid][i]);
		InterpolateCameraPos(playerid, 244.1894,306.2789,999.1558, 245.8575,304.0859,999.1484, 1500, CAMERA_MOVE);
		InterpolateCameraLookAt(playerid, 248.8184,303.2067,999.1484, 249.1341,302.5026,999.1484, 1500, CAMERA_MOVE);
	}
	if(pInfo[playerid][pSexo] == 0) SetarSkin2(playerid, Classes[id_classe[playerid]][classe_SkinH]);
	if(pInfo[playerid][pSexo] == 1) SetarSkin2(playerid, Classes[id_classe[playerid]][classe_SkinM]);
	format(str, 150, "~n~   ~g~~h~~h~%s ( ~b~~h~~h~%d ~g~~h~~h~)~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~", Classes[id_classe[playerid]][classe_Nome], Classes[id_classe[playerid]][classe_Nivel]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][0], str);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][1], Classes[id_classe[playerid]][classe_Info]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][3], Classes[id_classe[playerid]][classe_Habilidade1]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][4], Classes[id_classe[playerid]][classe_Habilidade2]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][5], Classes[id_classe[playerid]][classe_Habilidade3]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][6], Classes[id_classe[playerid]][classe_Habilidade4]);
	PlayerTextDrawSetString(playerid, T_Classes_p[playerid][7], Classes[id_classe[playerid]][classe_Habilidade5]);
    format(str, 150, "%d / %d", id_classe[playerid]+1, sizeof(Classes));
    PlayerTextDrawSetString(playerid, T_Classes_p[playerid][8], str);
	return 1;
}


mostrar_classes_botao(playerid)
{
	for(new i; i<sizeof T_Botao_Classe; i++) TextDrawShowForPlayer(playerid, T_Botao_Classe[i]);
	return 1;
}

esconder_classes_botao(playerid)
{
	for(new i; i<sizeof T_Botao_Classe; i++) TextDrawHideForPlayer(playerid, T_Botao_Classe[i]);
	return 1;
}

selecionar_classe(playerid)
{
    new i = id_classe[playerid];
    if(Classes[i][classe_Nivel] > pInfo[playerid][pLevel])
    {
        ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "{000000}_", "{ff0000}[ERROR] {a1a1a1}You have not reached the required Level to use this Class!", "Ok", "Close");
        return 1;
    }
    pInfo[playerid][pClasse] = i;
    ShowPlayerDialog_(playerid, DIALOG_SKIN_CLASSE, DIALOG_STYLE_MSGBOX, "{000000}_", "{00ff00}[INFO] {ffffff}New class selected!\n\n{a1a1a1}Do you want to use the Class Skin?\n", "Yes", "No");
    salvarplayer(playerid);
    return 1;
}

forward chamando_player(playerid, outroid);
public chamando_player(playerid, outroid)
{
    if(!Online(playerid) || Modo[playerid] != 1)
    {
        ms(outroid, 3, "Call missed, the other player left Story Mode.");
        chamando[playerid] = -1;
        KillTimer_(timer_chamando[playerid]);
        fechar_chamada(outroid);
        return 1;
    }

    if(!Online(outroid) || Modo[outroid] != 1)
    {
        ms(playerid, 3, "Call missed, the other player left Story Mode.");
        chamando[playerid] = -1;
        KillTimer_(timer_chamando[playerid]);
        fechar_chamada(outroid);
        return 1;
    }

    if(mostrando_chamada[outroid] == 0)
    {
        mostrando_chamada[outroid] = 1;
        TextDrawShowForPlayer(outroid, T_Chamada[0]);
        TextDrawShowForPlayer(outroid, T_Chamada[1]);
        PlayerTextDrawShow(outroid, T_Chamada_p[outroid][0]);
    }
    PlayerTextDrawSetString(outroid, T_Chamada_p[outroid][0], Nome(playerid));

    if(tempo_chamando[playerid] <= 0)
    {
        fechar_chamada(outroid);
        ms(outroid, 3, "The call was automatically declined, time ran out.");
        ms(playerid, 3, "The call rang until it dropped, time ran out.");
        chamando[playerid] = -1;
        KillTimer_(timer_chamando[playerid]);
        return 1;
    }
    tempo_chamando[playerid]--;
    return 1;
}

fechar_chamada(playerid)
{
    if(mostrando_chamada[playerid] == 1)
    {
        mostrando_chamada[playerid] = 0;
        TextDrawHideForPlayer(playerid, T_Chamada[0]);
        TextDrawHideForPlayer(playerid, T_Chamada[1]);
        PlayerTextDrawHide(playerid, T_Chamada_p[playerid][0]);
    }
    return 1;
}

recusar_chamada(playerid, pla)
{
    fechar_chamada(playerid);
    chamando[pla] = -1;
    KillTimer_(timer_chamando[pla]);
    ms(playerid, 3, "You declined the call.");
    ms(pla, 3, "The call was declined.");
    return 1;
}

aceitar_chamada(playerid, pla)
{
    fechar_chamada(playerid);
    chamando[pla] = -1;
    KillTimer_(timer_chamando[pla]);
    ms(playerid, 3, "You accepted the call.");
    ms(pla, 3, "The call was accepted.");
    ms(playerid, 3, "Communicate using VOIP.");
    ms(pla, 3, "Communicate using VOIP.");
    Canal_Privado[playerid] = pla;
    Canal_Privado[pla] = pla;
    SvAttachListenerToStream(CanalPrivado[pla], playerid);
    if(falando[pla] == 1 && lstream[pla] != SV_NULL) OnPlayerActivationKeyPress(pla, 0x42);
    SvAttachListenerToStream(CanalPrivado[pla], pla);
    if(falando[playerid] == 1 && lstream[playerid] != SV_NULL) OnPlayerActivationKeyPress(playerid, 0x42);
    return 1;
}



fechar_mapa(playerid)
{
    if(mostrando_mapa[playerid] == 1)
	{
    	mostrando_mapa[playerid] = 0;
        id_mapa[playerid] = -1;
		for(new i; i<sizeof T_Mapa; i++) TextDrawHideForPlayer(playerid, T_Mapa[i]);
        for(new iii; iii<MAX_MERCADO_NEGRO; iii++)  TextDrawHideForPlayer(playerid, T_Mapa_Mercado[iii]);
		for(new iiii; iiii<MAX_POSTOS; iiii++) 	TextDrawHideForPlayer(playerid, T_Mapa_Posto[iiii]);
		for(new iiiii; iiiii<MAX_OFICINAS; iiiii++) TextDrawHideForPlayer(playerid, T_Mapa_Oficina[iiiii]);
		CancelSelectTextDraw_(playerid);
		PlayerTextDrawHide(playerid, T_Mapa_p[playerid]);
	}
	return 1;
}


forward mostrar_mapa(playerid);
public mostrar_mapa(playerid)
{
	if(mostrando_mapa[playerid] == 0)
	{
		new Float:pos[3];
		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
		pos[0] = (pos[0]/20)+315.0;
		pos[1] = 185.0 + ((pos[1]/20)*(-1));
	    PlayerTextDrawDestroy(playerid, T_Mapa_p[playerid]);
	    T_Mapa_p[playerid] = CreatePlayerTextDraw(playerid, pos[0], pos[1], "hud:radar_light");
		PlayerTextDrawTextSize(playerid, T_Mapa_p[playerid], 10.000000, 10.000000);
		PlayerTextDrawAlignment(playerid, T_Mapa_p[playerid], 1);
		PlayerTextDrawSetShadow(playerid, T_Mapa_p[playerid], 0);
		PlayerTextDrawBackgroundColor(playerid, T_Mapa_p[playerid], 255);
		PlayerTextDrawFont(playerid, T_Mapa_p[playerid], 4);
		PlayerTextDrawSetProportional(playerid, T_Mapa_p[playerid], 0);
		PlayerTextDrawColor(playerid, T_Mapa_p[playerid], -1);

	    SelectTextDraw_(playerid, 0xffff00ff);
        mostrando_mapa[playerid] = 1;
        id_mapa[playerid] = 0;
		for(new i; i<sizeof T_Mapa; i++) TextDrawShowForPlayer(playerid, T_Mapa[i]);
	}

	for(new iii; iii<MAX_MERCADO_NEGRO; iii++)  TextDrawHideForPlayer(playerid, T_Mapa_Mercado[iii]);
	for(new iiii; iiii<MAX_POSTOS; iiii++) 	TextDrawHideForPlayer(playerid, T_Mapa_Posto[iiii]);
	for(new iiiii; iiiii<MAX_OFICINAS; iiiii++) TextDrawHideForPlayer(playerid, T_Mapa_Oficina[iiiii]);
	PlayerTextDrawShow(playerid, T_Mapa_p[playerid]);
	if(id_mapa[playerid] == 1) for(new pp; pp<MAX_MERCADO_NEGRO; pp++) if(MercadoNegro[pp][mn_Existe] == 1) TextDrawShowForPlayer(playerid, T_Mapa_Mercado[pp]);
	if(id_mapa[playerid] == 2)  for(new p; p<MAX_POSTOS; p++) if(Posto[p][posto_Existe] == 1) TextDrawShowForPlayer(playerid, T_Mapa_Posto[p]);
	if(id_mapa[playerid] == 3) for(new pi; pi<MAX_OFICINAS; pi++) if(Oficina[pi][o_Existe] == 1) TextDrawShowForPlayer(playerid, T_Mapa_Oficina[pi]);
	return 1;
}

salvar_posto(i)
{
	new file[80];
    format(file, 80, "Postos/Posto_%d.txt", i);
    if(Posto[i][posto_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "posto_Litros", Posto[i][posto_Litros]);
        DOF2_SetString(file, "posto_Nome", Posto[i][posto_Nome]);
        DOF2_SetFloat(file, "posto_X", Posto[i][posto_X]);
        DOF2_SetFloat(file, "posto_Y", Posto[i][posto_Y]);
        DOF2_SetFloat(file, "posto_Z", Posto[i][posto_Z]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

atualizar_posto(i)
{
	if(IsValidDynamic3DTextLabel(Posto[i][posto_3D])) DestroyDynamic3DTextLabel(Posto[i][posto_3D]);
    if(IsValidDynamicMapIcon(Posto[i][posto_Mapa])) DestroyDynamicMapIcon_(Posto[i][posto_Mapa]);
	if(IsValidDynamicPickup(Posto[i][posto_Pickup])) DestroyDynamicPickup(Posto[i][posto_Pickup]);
    new Float:pos[2];
    pos[0] = (Posto[i][posto_X]/20)+315.0;
    pos[1] = 185.0 + ((Posto[i][posto_Y]/20)*(-1));
    TextDrawSetPos(T_Mapa_Posto[i], pos[0], pos[1]);
	if(Posto[i][posto_Existe] == 1)
	{
	    Posto[i][posto_3D] = CreateDynamic3DTextLabel( "_", 0xa1a1a190, Posto[i][posto_X], Posto[i][posto_Y], Posto[i][posto_Z], 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
	    Posto[i][posto_Mapa] = CreateDynamicMapIcon(Posto[i][posto_X], Posto[i][posto_Y], Posto[i][posto_Z], 55, 0xffffffff, 0, 0, -1, STREAMER_MAP_ICON_SD, MAPICON_LOCAL, -1, 0);
	    Posto[i][posto_Pickup] = CreateDynamicPickup(1650, 1, Posto[i][posto_X], Posto[i][posto_Y], Posto[i][posto_Z], 0, 0, -1, STREAMER_PICKUP_SD, -1, 0);
	    TextDrawColor(T_Mapa_Posto[i], -1);
	    TextDrawSetSelectable(T_Mapa_Posto[i], 1);
	}
	else
	{
	    TextDrawColor(T_Mapa_Posto[i], 0x00000000);
	    TextDrawSetSelectable(T_Mapa_Posto[i], 0);
	}
	return 1;
}

carregar_postos()
{
    new file[80];
    new cont;
    for(new i; i < MAX_POSTOS; i++)
    {
        format(file, 80, "Postos/Posto_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Posto[i][posto_Existe] = 1;
            Posto[i][posto_Litros] = DOF2_GetInt(file, "posto_Litros");
            format(Posto[i][posto_Nome], 40, DOF2_GetString(file, "posto_Nome"));
            Posto[i][posto_X] = DOF2_GetFloat(file, "posto_X");
            Posto[i][posto_Y] = DOF2_GetFloat(file, "posto_Y");
            Posto[i][posto_Z] = DOF2_GetFloat(file, "posto_Z");
            cont++;
        }

        T_Mapa_Posto[i] = TextDrawCreate(0.0, 0.0, "hud:radar_impound");
        TextDrawTextSize(T_Mapa_Posto[i], 10.000000, 10.000000);
        TextDrawAlignment(T_Mapa_Posto[i], 1);
        TextDrawSetShadow(T_Mapa_Posto[i], 0);
        TextDrawBackgroundColor(T_Mapa_Posto[i], 255);
        TextDrawFont(T_Mapa_Posto[i], 4);
        TextDrawSetProportional(T_Mapa_Posto[i], 0);
        TextDrawColor(T_Mapa_Posto[i], -1);
        TextDrawSetSelectable(T_Mapa_Posto[i], 1);

        atualizar_posto(i);
    }
    printf("** %d Gas Stations loaded!", cont);
    return 1;
}


escolher_sexo(playerid)
{
    ShowPlayerDialog_(playerid, DIALOG_SEXO, DIALOG_STYLE_MSGBOX, "Select Gender", "\n{ffffff}Almost ready, please tell us your gender:\n\n", "MALE", "FEMALE");
    return 1;
}



contar_armas(playerid)
{
	new cont;
	new armsdata[13][2];
	for(new i; i<13; i++)
	{
	    GetPlayerWeaponData(playerid, i, armsdata[i][0], armsdata[i][1]);
	    if(i == 1 || i == 2 || i == 3 || i == 4 || i == 5 || i == 6  )
	    {
		    if(armsdata[i][0] != 0)
		    {
		    	cont++;
		    }
	    }
	}
	return cont;
}

armas_costas(playerid)
{
	if(Online(playerid))
	{
		new o,p;
		new contt;
		if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 5)) RemovePlayerAttachedObject(playerid, 5);
		for(new i; i<13; i++)
		{
		    GetPlayerWeaponData(playerid, i, o, p);
	        for(new a; a<sizeof ArmasCostas; a++)
	        {
	            if(o == ArmasCostas[a][ac_ID] && o != GetPlayerWeapon(playerid))
	            {
	                if(contt < 3)
	                {
		                if(!IsPlayerAttachedObjectSlotUsed(playerid, 3)) SetPlayerAttachedObject(playerid, 3, ArmasCostas[a][ac_Modelo], ArmasCostas[a][ac_Local], ArmasCostas[a][ac_X], ArmasCostas[a][ac_Y], ArmasCostas[a][ac_Z], ArmasCostas[a][ac_RX], ArmasCostas[a][ac_RY], ArmasCostas[a][ac_RZ], ArmasCostas[a][ac_TX], ArmasCostas[a][ac_TY], ArmasCostas[a][ac_TZ]);
						else if(!IsPlayerAttachedObjectSlotUsed(playerid, 4)) SetPlayerAttachedObject(playerid, 4, ArmasCostas[a][ac_Modelo], ArmasCostas[a][ac_Local], ArmasCostas[a][ac_X], ArmasCostas[a][ac_Y], ArmasCostas[a][ac_Z], ArmasCostas[a][ac_RX], ArmasCostas[a][ac_RY], ArmasCostas[a][ac_RZ], ArmasCostas[a][ac_TX], ArmasCostas[a][ac_TY], ArmasCostas[a][ac_TZ]);
						else if(!IsPlayerAttachedObjectSlotUsed(playerid, 5)) SetPlayerAttachedObject(playerid, 5, ArmasCostas[a][ac_Modelo], ArmasCostas[a][ac_Local], ArmasCostas[a][ac_X], ArmasCostas[a][ac_Y], ArmasCostas[a][ac_Z], ArmasCostas[a][ac_RX], ArmasCostas[a][ac_RY], ArmasCostas[a][ac_RZ], ArmasCostas[a][ac_TX], ArmasCostas[a][ac_TY], ArmasCostas[a][ac_TZ]);
                        contt ++;
					}
				}
	        }
		}
	}
	return 1;
}

forward deletar_items();
public deletar_items()
{
	for(new i; i<MAX_ITENS; i++)
	{
	    if(Item[i][item_Existe] == 0) continue;
	    if(Item[i][item_Deletar] == -1) continue;
	    if(Item[i][item_Deletar] > 0) Item[i][item_Deletar] -= 10;
	    else destruiritem(i);
	}
}

carregar_veiculos_player(playerid)
{
	for(new v; v<MAX_VEICULOS; v++)
	{
	    if(Veiculo[v][v_Existe] == 1)
	    {
	        if(Comparar(Nome(playerid), Veiculo[v][v_Dono]))
	        {
	            spawn_veiculo(v);
	        }
	    }
	}
	return 1;
}

destruir_veiculo_player(playerid)
{
    for(new v; v<MAX_VEICULOS; v++)
	{
	    if(Veiculo[v][v_Existe] == 1)
	    {
	        if(Comparar(Nome(playerid), Veiculo[v][v_Dono]))
	        {
	            new idv = Veiculo[v][v_ID];
	            Veiculo[v][v_ID] = -1;
	            Info_Veiculo[idv] = -1;
	            for(new a; a<MAX_TUNINGS; a++)
				{
				    DestroyDynamicObject_(Veiculo[v][v_Obj][a]);
				}
	            DestroyVehicle(idv);
	            KillTimer_(Veiculo[v][v_Timer]);
	        }
	    }
	}
	return 1;
}

spawn_veiculo(v)
{
	new idv = CreateVehicle(Veiculo[v][v_Modelo], Veiculo[v][v_X], Veiculo[v][v_Y], Veiculo[v][v_Z], Veiculo[v][v_A], Veiculo[v][v_Cor1], Veiculo[v][v_Cor2], -1, 0);
	Info_Veiculo[idv] = v;
	Veiculo[v][v_ID] = idv;
	CARRO_DE_FERRO_VELHO[idv] = -1;
	new panels, doors, lights, tires;
	GetVehicleDamageStatus(idv, panels, doors, lights, tires);
	UpdateVehicleDamageStatus(idv, panels, doors, lights, encode_tires(Veiculo[v][v_Pneu][0], Veiculo[v][v_Pneu][1], Veiculo[v][v_Pneu][2], Veiculo[v][v_Pneu][3]));
    SetTimerEx("carregar_tuning", 2000, 0, "d", idv);
	SalvarVeiculo(idv);
	return 1;
}


tem_dois_times(i)
{
	new de, di;
	for(new a; a<MAX_PLAYERS; a++)
	{
	    if(Online(a))
	    {
	        if(SalaPlayer[a] == i)
	        {
	            if(TimePlayer[a] == 0) de = 1;
	            if(TimePlayer[a] == 1) di = 1;
	        }
	    }
	}
	if(de == 1 && di == 1) return 1;
	else return 0;
}

carro_ferro_velho(veiculo) return CARRO_DE_FERRO_VELHO[veiculo];

fechar_laptop(playerid, con=0)
{
	mostrando_laptop[playerid] = 0;
	for(new q; q<sizeof T_LapTop; q++) TextDrawHideForPlayer(playerid, T_LapTop[q]);
	for(new qq; qq<sizeof T_LapTop_Botoes; qq++) TextDrawHideForPlayer(playerid, T_LapTop_Botoes[qq]);

	if(con == 0)
	{
		CancelSelectTextDraw_(playerid);
		RemovePlayerAttachedObject(playerid, 9);
		ClearAnimations(playerid, 1);
	}
	return 1;
}

forward liberar_satelite(playerid);
public liberar_satelite(playerid)
{
	KillTimer_(timer_satelite[playerid]);
    pode_mecher[playerid]  = 0;
	return 1;
}

forward mostrar_satelite(playerid);
public mostrar_satelite(playerid)
{
    for(new q; q<sizeof T_Satelite; q++) TextDrawShowForPlayer(playerid, T_Satelite[q]);
	return 1;
}

sair_satelite(playerid)
{
    for(new q; q<sizeof T_Satelite; q++) TextDrawHideForPlayer(playerid, T_Satelite[q]);
    if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
	if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
    olhando_satelite[playerid] = 0;
    TogglePlayerSpectating(playerid, false);
    SetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
    SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
    SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
	SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
    abrir_laptop(playerid, 0);
    ApplyAnimation(playerid, "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 0,0, 0, 0, 1);
	SetPlayerAttachedObject(playerid, 9, 19893, 1, 0.112999, 0.374000, 0.000000, -22.099998, 90.399971, 25.099996, 1, 1, 1);
	return 1;
}

forward abrir_laptop(playerid, con);
public abrir_laptop(playerid, con)
{

	if(con == 0)
	{
     	mostrando_laptop[playerid] = 1;
        for(new q; q<sizeof T_LapTop; q++) TextDrawShowForPlayer(playerid, T_LapTop[q]);
		for(new qq; qq<sizeof T_LapTop_Botoes; qq++) TextDrawShowForPlayer(playerid, T_LapTop_Botoes[qq]);
		SelectTextDraw_(playerid, 0x00ffffff);
	    ApplyAnimation(playerid, "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 0,0, 0, 0, 1);
		SetPlayerAttachedObject(playerid, 9, 19893, 1, 0.112999, 0.374000, 0.000000, -22.099998, 90.399971, 25.099996, 1, 1, 1);
	}

	if(con == 1)
	{
	    if(!tem_item(playerid, 107) && tem_item(playerid, 100))
	    {
	        ms(playerid, 0, "You need to have a Map and a GPS in your inventory to use the satellite!");
	        return 1;
	    }

	    fechar_laptop(playerid);
	    olhando_satelite[playerid] = 1;
	    GetPlayerPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]);
        GetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
        pInfo[playerid][pInterior] = GetPlayerInterior(playerid);
		pInfo[playerid][pMundo] = GetPlayerVirtualWorld(playerid);
		salvarplayer(playerid);
		ResetPlayerWeapons(playerid);
		if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
		if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
		actor_player[playerid] = CreateDynamicActor(GetPlayerSkin(playerid), pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ], pInfo[playerid][pA], 1, 100.0, pInfo[playerid][pMundo], pInfo[playerid][pInterior], -1, STREAMER_ACTOR_SD, -1, 0);
		player3d[playerid] = CreateDynamic3DTextLabel("[ OLHANDO SATELITE ]", 0x00ffff99, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]+0.7, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, pInfo[playerid][pMundo], pInfo[playerid][pInterior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
		ApplyDynamicActorAnimation(actor_player[playerid], "COP_AMBIENT",  "COPBROWSE_LOOP", 4.1, 1, 1, 1, 0, 0);
		Streamer_Update(playerid);
		TogglePlayerSpectating(playerid, true);
		InterpolateCameraPos(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ],pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ]+400, 5000, CAMERA_CUT);
		InterpolateCameraLookAt(playerid, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ],pInfo[playerid][pX],pInfo[playerid][pY]+20,pInfo[playerid][pZ], 5000, CAMERA_CUT);
        satelite_player[playerid][0] = pInfo[playerid][pX];
		satelite_player[playerid][1] = pInfo[playerid][pY];
        satelite_player[playerid][2] = pInfo[playerid][pZ]+400;
        SetTimerEx("mostrar_satelite", 6000, 0, "d", playerid);
        KillTimer_(timer_satelite[playerid]);
		pode_mecher[playerid]  = 0;

		for(new pla; pla<MAX_PLAYERS; pla++)
		{
		    if(Online(pla))
			{
				if(hackeando_id[pla] == playerid)
				{
					hackeando_id[pla] = -1;
					hackeando_tempo[pla] = 0;
					ms(pla, 3, "The signal was lost, the location was lost!");
				}
			}

		}
	}


	if(con == 2)
	{
		new Float:pos[3];
		GetPlayerCameraPos(playerid, pos[0], pos[1], pos[2]);
        InterpolateCameraPos(playerid, pos[0], pos[1], pos[2], satelite_player[playerid][0], satelite_player[playerid][1], satelite_player[playerid][2], 500, CAMERA_CUT);
		InterpolateCameraLookAt(playerid, pos[0], pos[1]+20, pos[2]-400, satelite_player[playerid][0], satelite_player[playerid][1]+20, satelite_player[playerid][2]-400,  500, CAMERA_CUT);
		KillTimer_(timer_satelite[playerid]);
		pode_mecher[playerid]  = 1;
		timer_satelite[playerid] = SetTimerEx("liberar_satelite", 500, 0, "d", playerid);
	}

	if(con == 3)
{
    if(!Haid())
    {
        ms(playerid, 0, "You can only hack gates during Haid hours");
        return 1;
    }
    if(GetPVarInt(playerid, "flood_hackear") > gettime())
    {
        ms(playerid, 0, "You can only hack once every 10 minutes");
        return 1;
    }

    String_Gigante[0] = EOS;
    new linha[120];
    new cont;
    new Float:dist;
    strcat(String_Gigante, "{a1a1a1}ID\t{a1a1a1}Base\t{a1a1a1}Distance\n");
    new Float:pos[3];
    GetPlayerCameraPos(playerid, pos[0], pos[1], pos[2]);
    for(new i; i < MAX_PORTOES; i++)
    {
        Lista_Portao[playerid][i] = -1;
        if(cont == 50) break;
        GetDistance(dist, Portao[i][portao_X1], Portao[i][portao_Y1], Portao[i][portao_Z1],  pos[0], pos[1], pos[2]);
        if(dist <= 50.0)
        {
            Lista_Portao[playerid][cont] = i;
            cont++;
            format(linha, 120, "{a1a1a1}%d\t{ffffff}%s\t{a1a1a1}%.0f Meters\n", i, Base[Portao[i][portao_Base]][base_Nome], dist);
            strcat(String_Gigante, linha);
        }
    }
    format(linha, 120, "{ffffff}Gates within {00ffff}50 {ffffff}Meters [ {a1a1a1}%d {ffffff}]", cont);
    ShowPlayerDialog_(playerid, DIALOG_HACK_PORTAO, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Open", "Close");
}

	if(con == 4)
	{
		if(GetPVarInt(playerid, "flood_hackear") > gettime())
		{
			ms(playerid, 0, "You can only hack something every 10 minutes!");
			return 1;
		}
		String_Gigante[0] = EOS;
		new linha[120];
		new cont;
		new Float:dist;
		strcat(String_Gigante, "{a1a1a1}ID{a1a1a1}Owner\t{a1a1a1}Distance\tEngine\tLocks\n");
		new Float:pos[6];
		GetPlayerCameraPos(playerid, pos[0], pos[1], pos[2]);
		new tranc[40];
		new motor[40];
		new a1, a2, a3, a4, a5, a6, a7;

		for(new i; i < MAX_VEHICLES; i++)
		{
			LISTA[playerid][i] = -1;
			if(cont == 50) break;
			if(GetVehicleModel(i) != 0)
			{
				new idv = Info_Veiculo[i];
				if(idv != -1)
				{
					GetVehiclePos(i, pos[3], pos[4], pos[5]);
					GetDistance(dist, pos[3], pos[4], pos[5],  pos[0], pos[1], pos[2]);
					if(dist <= 30.0)
					{
						LISTA[playerid][cont] = i;
						cont++;
						GetVehicleParamsEx(i, a1, a2, a3, a4, a5, a6, a7);
						if(a1 == 0) format(motor, 40, "{ff0000}OFF");
						else format(motor, 40, "{00ff00}ON");
						if(Veiculo[i][v_Trancado] == 1) format(tranc, 40, "{ffff00}LOCKED");
						else format(tranc, 40, "{00ff00}UNLOCKED");

						format(linha, 120, "{a1a1a1}%04d   {ffffff}%s\t{a1a1a1}%.0f Meters\t%s\t%s\n", i, Veiculo[idv][v_Dono], dist, motor, tranc);
						strcat(String_Gigante, linha);
					}
				}
			}
		}
		format(linha, 120, "{ffffff}Personal Vehicles within {00ffff}30 {ffffff}Meters [ {a1a1a1}%d {ffffff}]", cont);
		ShowPlayerDialog_(playerid, DIALOG_HACK_VEICULO, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Hack", "Close");
	}

	if(con == 5)
	{
		if(GetPVarInt(playerid, "flood_hackear") > gettime())
		{
			ms(playerid, 0, "You can only hack something every 10 minutes!");
			return 1;
		}
		String_Gigante[0] = EOS;
		new linha[120];
		new cont;
		new Float:dist;
		new Float:pos[6];
		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
		strcat(String_Gigante, "{a1a1a1}ID      {a1a1a1}Name\t{a1a1a1}Distance\n");

		for(new i; i < MAX_PLAYERS; i++)
		{
			Players[playerid][i] = -1;
			if(i == playerid) continue;
			if(cont == 50) break;
			if(Online(i))
			{
				if(Modo[i] == 1)
				{
					if(GetPlayerInterior(i) == GetPlayerInterior(playerid))
					{
						GetPlayerPos(i, pos[3], pos[4], pos[5]);
						GetDistance(dist, pos[3], pos[4], pos[5],  pos[0], pos[1], pos[2]);
						if(dist <= 150)
						{
							Players[playerid][cont] = i;
							cont++;
							format(linha, 120, "{a1a1a1}%03d   {ffffff}%s\t{a1a1a1}%.0f Meters\n", i, Nome(i), dist);
							strcat(String_Gigante, linha);
						}
					}
				}
			}
		}
		format(linha, 120, "{ffffff}Players within {00ffff}150 {ffffff}Meters [ {a1a1a1}%d {ffffff}]", cont);
		ShowPlayerDialog_(playerid, DIALOG_HACK_PLAYER, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Locate", "Close");
	}

	return 1;
}


destruir_caixa(i)
{
	if(Caixa[i][caixa_Existe] == 1)
	{
	    Caixa[i][caixa_Existe] = 0;
	    if(Caixa[i][caixa_Dinamite] != -1) destruir_explosivo(Caixa[i][caixa_Dinamite]);
	    Caixa[i][caixa_Dinamite] = -1;
	    Caixa[i][caixa_X] = 0.0;
	    Caixa[i][caixa_Y] = 0.0;
	    Caixa[i][caixa_Z] = 0.0;
		Caixa[i][caixa_RX] = 0.0;
	    Caixa[i][caixa_RY] = 0.0;
	    Caixa[i][caixa_RZ] = 0.0;
	    for(new ii; ii<MAX_SLOTS; ii++)
	    {
	        Caixa[i][caixa_ID][ii] = 0;
	        Caixa[i][caixa_Unidades][ii] = 0;
	        Caixa[i][caixa_Tipo][ii] = 0;
	    }
		atualizar_caixa(i);
		salvar_caixa(i);
	}
	return 1;
}


forward tutorial_player2(playerid);
public tutorial_player2(playerid)
{
    TextDrawShowForPlayer(playerid, T_Tutorial[1]);
    KillTimer_(timer_tutorial2[playerid]);
	return 1;
}

forward tutorial_player(playerid);
public tutorial_player(playerid)
{
	if(tutorial[playerid] == 0)
	{
	    TogglePlayerSpectating(playerid, true);
	    SelectTextDraw_(playerid, 0x00ffffff);
	}

    if(tutorial[playerid] >= sizeof Tutorial)
	{
	    KillTimer_(timer_tutorial[playerid]);
	    KillTimer_(timer_tutorial2[playerid]);
	    TextDrawHideForPlayer(playerid, T_Tutorial[0]);
	    TextDrawHideForPlayer(playerid, T_Tutorial[1]);
		PlayerTextDrawHide(playerid, T_Tutorial_p[playerid][0]);
		pInfo[playerid][pTutorial] = 1;
		Modo[playerid] = 0;
		TogglePlayerSpectating(playerid, false);
		SpawnPlayer(playerid);
	    OnPlayerClickTextDraw( playerid, FundoLobby2[15] );
	    salvarplayer(playerid);
	    return 1;
	}

	SetPlayerWeather(playerid, Tutorial[tutorial[playerid]][tuto_Clima]);
	SetPlayerInterior(playerid, Tutorial[tutorial[playerid]][tuto_Interior]);
	SetPlayerVirtualWorld(playerid, Tutorial[tutorial[playerid]][tuto_Mundo]);
	InterpolateCameraPos(playerid, Tutorial[tutorial[playerid]][tuto_X1], Tutorial[tutorial[playerid]][tuto_Y1], Tutorial[tutorial[playerid]][tuto_Z1], Tutorial[tutorial[playerid]][tuto_X2], Tutorial[tutorial[playerid]][tuto_Y2], Tutorial[tutorial[playerid]][tuto_Z2] ,Tutorial[tutorial[playerid]][tuto_Tempo], CAMERA_CUT);
	InterpolateCameraLookAt(playerid, Tutorial[tutorial[playerid]][tuto_X3], Tutorial[tutorial[playerid]][tuto_Y3], Tutorial[tutorial[playerid]][tuto_Z3], Tutorial[tutorial[playerid]][tuto_X3], Tutorial[tutorial[playerid]][tuto_Y3], Tutorial[tutorial[playerid]][tuto_Z3] ,Tutorial[tutorial[playerid]][tuto_Tempo], CAMERA_CUT);

	String_Gigante[0] = EOS;
	strcat(String_Gigante, "~n~");
	strcat(String_Gigante, "~b~~h~~h~");
	strcat(String_Gigante, Tutorial[tutorial[playerid]][tuto_Titulo]);
	strcat(String_Gigante, "~n~~n~~w~");
	strcat(String_Gigante, Tutorial[tutorial[playerid]][tuto_Texto]);
	strcat(String_Gigante, "~n~");
	PlayerTextDrawSetString(playerid, T_Tutorial_p[playerid][0], String_Gigante);
	TextDrawShowForPlayer(playerid, T_Tutorial[0]);
	TextDrawHideForPlayer(playerid, T_Tutorial[1]);
	PlayerTextDrawShow(playerid, T_Tutorial_p[playerid][0]);

	KillTimer_(timer_tutorial[playerid]);
	KillTimer_(timer_tutorial2[playerid]);
	timer_tutorial[playerid] = SetTimerEx("tutorial_player", Tutorial[tutorial[playerid]][tuto_Tempo], 0, "d", playerid);
    timer_tutorial2[playerid] = SetTimerEx("tutorial_player2", 5000, 0, "d", playerid);
    tutorial[playerid] ++;
	return 1;
}

vida_item(id)
{
	new vida = 5;
	if(id == 109) vida = 4;
	if(id == 110) vida = 5;
	if(id == 77) vida = 4;
	if(id == 76) vida = 5;
	if(id == 75) vida = 9;
	if(id == 74) vida = 7;
	if(id == 73) vida = 5;
	if(id == 70) vida = 11;
	if(id == 68) vida = 12;
	if(id == 28) vida = 8;
	if(id == 29) vida = 8;
	if(id == 30) vida = 8;
	if(id == 31) vida = 13;
	if(id == 32) vida = 20;
	return vida;
}

nome_classe(clasi)
{
	new nome[40];
	format(nome, 40, "Novato");
	for(new i; i<sizeof Classes; i++)
	{
	    if(clasi == i)
	    {
	        format(nome, 40, Classes[i][classe_Nome]);
			break;
	    }
	}
	return nome;
}


explosivos(playerid)
{
	new cont;
	for(new i; i<MAX_EXPLOSIVOS; i++)
	{
	    if(Explosivo[i][explosivo_Existe] == 0) continue;
	    if(Comparar(Nome(playerid), Explosivo[i][explosivo_Dono]))
	    {
	        cont++;
	    }
	}
	return cont;
}

explosivos_player(playerid)
{
    new linha[100];
    new Float:dist;
    String_Gigante[0] = EOS;
    strcat(String_Gigante, "ID\tStatus\tDistance\n");
    new cont;
    new Float:pos[3];
    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

    for(new i; i < MAX_EXPLOSIVOS; i++)
    {
        lista_explosivos[playerid][i] = -1;
        if(Explosivo[i][explosivo_Existe] == 0) continue;
        if(Comparar(Nome(playerid), Explosivo[i][explosivo_Dono]))
        {
            GetDistance(dist, pos[0], pos[1], pos[2], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
            format(linha, 100, "{a1a1a1}%d\t{00ff00}ACTIVATED\t{a1a1a1}%.0f Meters\n", i, dist);
            strcat(String_Gigante, linha);
            lista_explosivos[playerid][cont] = i;
            cont++;
        }
    }
    ShowPlayerDialog_(playerid, DIALOG_EXPLOSIVOS, DIALOG_STYLE_TABLIST_HEADERS, "Your Installed Explosives", String_Gigante, "Continue", "Close");
    return 1;
}


destruir_explosivo(i)
{
    Explosivo[i][explosivo_Existe] = 0;
    // se tiver anexado em algo //
    if(Explosivo[i][explosivo_ID_Objeto] != -1)
    {
	    //se tiver em um portao //
	    if(Explosivo[i][explosivo_Tipo_Objeto] == 0)
	    {
	        new ID = Explosivo[i][explosivo_ID_Objeto];
	        Portao[ID][portao_Dinamite] = -1;
	    }

	    //se tiver em uma caixa //
	    if(Explosivo[i][explosivo_Tipo_Objeto] == 1)
	    {
	        new ID = Explosivo[i][explosivo_ID_Objeto];
	        Caixa[ID][caixa_Dinamite] = -1;
	    }

	    //se tiver em um objeto //
	    if(Explosivo[i][explosivo_Tipo_Objeto] == 1)
	    {
	        new ID = Explosivo[i][explosivo_ID_Objeto];
	        Obj[ID][obj_Dinamite] = -1;
	    }
    }
    atualizar_explosivo(i);
	return 1;
}

atualizar_explosivo(i)
{
	if(IsValidDynamicObject(Explosivo[i][explosivo_Obj])) DestroyDynamicObject_(Explosivo[i][explosivo_Obj]);
	if(IsValidDynamic3DTextLabel(Explosivo[i][explosivo_3D])) DestroyDynamic3DTextLabel(Explosivo[i][explosivo_3D]);

	if(Explosivo[i][explosivo_Existe] == 1)
	{
	    new sss[200];
	    new Float:poss[3];
	    new Float:dis;
		new Float:ang;
	    format(sss, 200, "{ffff00}C-4 Explosive [%d]\n{ffffff}Owner: {a1a1a1}%s\n{00ff00}ACTIVATED", i, Explosivo[i][explosivo_Dono]);


		// se tiver anexado em algo //
		if(Explosivo[i][explosivo_ID_Objeto] != -1)
		{
		    new id = Explosivo[i][explosivo_ID_Objeto];

		    // se tiver em um portao //
		    if(Explosivo[i][explosivo_Tipo_Objeto] == 0)
		    {

		        // se tiver em um portao //
		        if(Portao[id][portao_Existe] == 1)
		        {
			        // portao grande //
			        if(Portao[id][portao_Modelo] == 980)
			        {
				        GetDynamicObjectPos(Portao[id][portao_Obj], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
				        GetDynamicObjectRot(Portao[id][portao_Obj], poss[2], poss[1], poss[0]);
				        GetDistance(dis, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], 0, Explosivo[i][explosivo_X]+Objetos[13][obj_XD], Explosivo[i][explosivo_Y]+Objetos[13][obj_YD], 0);
	                    GetAngleToPoint(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], poss[0]+Objetos[13][obj_XD], poss[1]+Objetos[13][obj_YD]);
	                    PegarFrente(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], ang, -dis);
                    	Explosivo[i][explosivo_Z] += Objetos[13][obj_ZD];
                    	poss[0] += Objetos[13][obj_RD];
					}

					// portao pequeno //
					if(Portao[id][portao_Modelo] == 2930)
			        {
			            GetDynamicObjectPos(Portao[id][portao_Obj], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
				        GetDynamicObjectRot(Portao[id][portao_Obj], poss[2], poss[1], poss[0]);
				        GetDistance(dis, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], 0, Explosivo[i][explosivo_X]+Objetos[14][obj_XD], Explosivo[i][explosivo_Y]+Objetos[14][obj_YD], 0);
	                    GetAngleToPoint(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_X]+Objetos[14][obj_XD], Explosivo[i][explosivo_Y]+Objetos[14][obj_YD]);
	                    PegarFrente(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], ang, -dis);
                    	Explosivo[i][explosivo_Z] += Objetos[14][obj_ZD];
                    	poss[0] += Objetos[14][obj_RD];
			        }
			    }
		    }

		    // se tiver em uma caixa //
		    if(Explosivo[i][explosivo_Tipo_Objeto] == 1)
		    {
		        if(Caixa[id][caixa_Existe] == 1)
		        {
                    GetDynamicObjectPos(Caixa[id][caixa_Obj], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
			        GetDynamicObjectRot(Caixa[id][caixa_Obj], poss[2], poss[1], poss[0]);
			        GetDistance(dis, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], 0, Explosivo[i][explosivo_X]+Objetos[12][obj_XD], Explosivo[i][explosivo_Y]+Objetos[12][obj_YD], 0);
                    GetAngleToPoint(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_X]+Objetos[12][obj_XD], Explosivo[i][explosivo_Y]+Objetos[12][obj_YD]);
                    PegarFrente(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], ang, -dis);
                	Explosivo[i][explosivo_Z] += Objetos[12][obj_ZD];
                	poss[0] += Objetos[12][obj_RD];
				}
		    }


		    // se tiver em um objeto //
		    if(Explosivo[i][explosivo_Tipo_Objeto] == 2)
		    {
		        if(Obj[id][obj_Existe] == 1)
		        {
		            new adq = Obj[id][obj_ID];
                    GetDynamicObjectPos(Obj[id][obj_Obj], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
			        GetDynamicObjectRot(Obj[id][obj_Obj], poss[2], poss[1], poss[0]);
			        GetDistance(dis, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], 0, Explosivo[i][explosivo_X]+Objetos[adq][obj_XD], Explosivo[i][explosivo_Y]+Objetos[adq][obj_YD], 0);
                    GetAngleToPoint(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_X]+Objetos[adq][obj_XD], Explosivo[i][explosivo_Y]+Objetos[adq][obj_YD]);
                    PegarFrente(Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], ang, -dis);
                	Explosivo[i][explosivo_Z] += Objetos[adq][obj_ZD];
                	poss[0] += Objetos[adq][obj_RD];
				}
		    }
		}

		Explosivo[i][explosivo_Obj] = CreateDynamicObject(1654, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z], 0.00000, 0.00000, poss[0], Explosivo[i][explosivo_Mundo], Explosivo[i][explosivo_Interior]);
		Explosivo[i][explosivo_3D] = CreateDynamic3DTextLabel( sss, 0xffffff99, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z], 15, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, Explosivo[i][explosivo_Mundo], Explosivo[i][explosivo_Interior], -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0 );
        for(new ii; ii<MAX_PLAYERS; ii++) if(Online(ii)) if(IsPlayerInRangeOfPoint(ii, 15, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z])) Streamer_Update(ii);
	}
	return 1;
}

explodir_explosivo(i, playerid)
{
    new Float:dist;
    new ba = -1;
    new Float:pos[6];
    format(string_prox, 300, " Player %s detonated a C-4 Explosive ", Nome(playerid));
    ProxDetector(100.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);

    new Float:dano_explo;
    if(pInfo[playerid][pClasse] == 4) dano_explo = 100.0;
    else dano_explo = 50.0;

    for(new p; p < MAX_PLAYERS; p++)
    {
        if(!IsPlayerConnected(p)) continue;
        if(!IsPlayerNPC(p))
        {
            if(Online(p))
            {
                if(GetPlayerInterior(p) == Explosivo[i][explosivo_Interior] && GetPlayerVirtualWorld(p) == Explosivo[i][explosivo_Mundo])
                {
                    if(IsPlayerInRangeOfPoint(p, 4.0, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]))
                    {
                        GetPlayerPos(p, pos[0], pos[1], pos[2]);
                        GetDistance(dist, pos[0], pos[1], pos[2], Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z]);
                        new Float:anom = dano_explo - dist;
                        if(pInfo[p][pClasse] == 4) anom = anom / 3;
                        OnPlayerGiveDamage(playerid, p, anom, 9999, 8);
                    }
                    CreateExplosionForPlayer(p, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z], 0, 500.0);
                }
            }
        }
        else
        {
            if(ID_Zombie[p] != -1)
            {
                new z = ID_Zombie[p];
                if(Zombie[z][z_Existe] == 1)
                {
                    if(Zombie[z][z_Spawn] == 1)
                    {
                        if(FCNPC_GetInterior(p) == Explosivo[i][explosivo_Interior] && FCNPC_GetVirtualWorld(p) == Explosivo[i][explosivo_Mundo])
                        {
                            FCNPC_GetPosition(p, pos[3], pos[4], pos[5]);
                            GetDistance(dist, Explosivo[i][explosivo_X], Explosivo[i][explosivo_Y], Explosivo[i][explosivo_Z], pos[3], pos[4], pos[5]);
                            if(dist < 10.0)
                            {
                                FCNPC_OnDeath(p, playerid, 9999);
                            }
                        }
                    }
                }
            }
        }
    }

    // if attached to something //
    if(Explosivo[i][explosivo_ID_Objeto] != -1)
    {
        new id = Explosivo[i][explosivo_ID_Objeto];

        // if attached to a gate //
        if(Explosivo[i][explosivo_Tipo_Objeto] == 0)
        {
            if(Portao[id][portao_Existe] == 1)
            {
                ba = Portao[id][portao_Vida];
                if(ba != -1)
                {
                    if(Portao[id][portao_Vida] <= 35)
                    {
                        if(BasePlayer(playerid) != -1) 
                            format(string_prox, 300, "Player '%s' from base '%s' exploded a gate with a C-4.", Nome(playerid), Base[BasePlayer(playerid)][base_Nome]);
                        else if(BasePlayer(playerid) != -1) 
                            format(string_prox, 300, "Player '%s' exploded a gate with a C-4.", Nome(playerid));
                        escrever_log_base(ba, string_prox);
                        destruir_portao(id);
                    }
                    else
                    {
                        Portao[id][portao_Vida] -= 35;
                        string_portao(id);
                    }
                    salvar_portao(id);
                }
            }
        }

        // if attached to a crate //
        if(Explosivo[i][explosivo_Tipo_Objeto] == 1)
        {
            if(Caixa[id][caixa_Existe] == 1)
            {
                ba = Caixa[id][caixa_Base];
                if(ba != -1)
                {
                    if(BasePlayer(playerid) != -1) 
                        format(string_prox, 300, "Player '%s' from base '%s' exploded an Item Crate with a C-4.", Nome(playerid), Base[BasePlayer(playerid)][base_Nome]);
                    else if(BasePlayer(playerid) != -1) 
                        format(string_prox, 300, "Player '%s' exploded a gate with a C-4.", Nome(playerid));
                    escrever_log_base(ba, string_prox);
                }
                dropar_items(id);
                destruir_caixa(id);
            }
        }

        // if attached to an object //
        if(Explosivo[i][explosivo_Tipo_Objeto] == 2)
        {
            if(Obj[id][obj_Existe] == 1)
            {
                ba = Obj[id][obj_Base];
                if(ba != -1)
                {
                    if(BasePlayer(playerid) != -1) 
                        format(string_prox, 300, "Player '%s' from base '%s' exploded a Base Object with a C-4.", Nome(playerid), Base[BasePlayer(playerid)][base_Nome]);
                    else if(BasePlayer(playerid) != -1) 
                        format(string_prox, 300, "Player '%s' exploded a Base Object with a C-4.", Nome(playerid));
                    escrever_log_base(ba, string_prox);
                }
                if(Obj[id][obj_Vida] <= 35)
                {
                    Obj[id][obj_Existe] = 0;
                    Obj[id][obj_Dinamite] = -1;
                    atualizar_objeto(id);
                }
                else
                {
                    Obj[id][obj_Vida] -= 35;
                    texto_objeto(id);
                }
                salvar_objeto(id);
            }
        }
    }

    destruir_explosivo(i);
    return 1;
}


dropar_items(ca)
{
    if(Caixa[ca][caixa_Existe] == 1)
    {
		new slots[MAX_SLOTS];
		new cont;
        for(new slo; slo<MAX_SLOTS; slo++)
        {
            slots[slo] = -1;
            if(Caixa[ca][caixa_ID][slo] != 0)
            {
                slots[cont] = slo;
                cont ++;
            }
        }
        if(cont == 0) return 1;
        new Float:p[3];
        for(new i; i<cont; i++)
        {
            p[0] = Caixa[ca][caixa_X];
            p[1] = Caixa[ca][caixa_Y];
            p[2] = Caixa[ca][caixa_Z];
            PegarFrente(p[0], p[1], random(360), random(5)*0.3);
			criar_item(Caixa[ca][caixa_ID][slots[i]], p[0], p[1], p[2], Caixa[ca][caixa_Unidades][slots[i]], 0, 0, Caixa[ca][caixa_Tipo][slots[i]], 5*60);
        }
        destruir_caixa(ca);
    }
	return 1;
}

/*
CriarExplosao(Float:xX, Float:yY, Float:zZ, tipo, Float:radius, mum=-1, in=-1)
{
	for(new pla; pla<MAX_PLAYERS; pla++)
	{
	    if(!Online(pla)) continue;
		if(GetPlayerVirtualWorld(pla) != mum) continue;
		if(GetPlayerInterior(pla) != in) continue;
     	CreateExplosionForPlayer(pla, xX,yY,zZ, tipo, radius);
	}
	return 1;
}
*/

mostrar_climas(playerid)
{
    String_Gigante[0] = EOS;
    new linha[100];
    strcat(String_Gigante, "ID\tClimate\tDuration\n");
    for(new i; i < sizeof Clima; i++)
    {
        format(linha, 100, "{a1a1a1}%d\t{00ffff}%s\t{ffffff}%s\n", i, Clima[i][clima_Nome], ConvertTime(Clima[i][clima_Duracao]));
        strcat(String_Gigante, linha);
    }
    ShowPlayerDialog_(playerid, DIALOG_CLIMA, DIALOG_STYLE_TABLIST_HEADERS, "Climates", String_Gigante, "Set", "Close");
    return 1;
}

forward destruir_obj(c);
public destruir_obj(c)
{
	DestroyDynamicObject(c);
	return 1;
}

fumar(playerid)
{
	SetarVida(playerid, Vida[playerid]-1);
	pInfo[playerid][pFrio] -= 5;
	if(pInfo[playerid][pFrio] < 0) pInfo[playerid][pFrio] = 0;
	pInfo[playerid][pSono] -= 3;
	if(pInfo[playerid][pSono] < 0) pInfo[playerid][pSono] = 0;
	new Float:pos[4];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(playerid, pos[3]);
	new c = CreateDynamicObject(18677, pos[0], pos[1], pos[2]-1.1,   0.00000, 0.00000, pos[3], GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
	SetTimerEx("destruir_obj", 2000, 0, "d", c);
	for(new i; i<MAX_PLAYERS; i++) if(Online(i)) if(IsPlayerInRangeOfPoint(i, 15, pos[0], pos[1], pos[2])) Streamer_Update(i);
	return 1;
}


verificar_level_base(b)
{
    if(Base[b][base_XP] >= Base[b][base_Level]*UPAR_BASE)
    {
        Base[b][base_XP] -= Base[b][base_Level]*UPAR_BASE;
        Base[b][base_Level] += 1;
        new l = Base[b][base_Level];
        new sss[150];
        format(sss, 150, "Base '%s' reached a new level: [ %d ].", Base[b][base_Nome], l);
        for(new i; i < MAX_PLAYERS; i++)
        {
            if(Online(i))
            {
                if(IsPlayerNPC(i)) continue;
                if(BasePlayer(i) != b) continue;
                ms(i, 4, sss);
            }
        }
        salvar_base(b);
    }
    return 1;
}

verificar_level(playerid)
{
    if(GetPVarInt(playerid, "flood_upar") > gettime()) return 1;
    if(Online(playerid))
    {
        if(Modo[playerid] == 1)
        {
            if(pInfo[playerid][pXPH] >= (pInfo[playerid][pLevel]*UPAR_LEVEL))
            {
                pInfo[playerid][pXPH] = 0;
                pInfo[playerid][pLevel] = pInfo[playerid][pLevel] + 1;
                new l = pInfo[playerid][pLevel];
                SetPlayerScore(playerid, pInfo[playerid][pLevel]);

                new sss[150];
                format(sss, 150, "New level reached, [ %d ].", l);
                ms(playerid, 4, sss);
                SetPVarInt(playerid, "flood_upar", gettime() + 5);

                for(new i; i < sizeof Recompensas; i++)
                {
                    if(l == Recompensas[i][0])
                    {
                        new il = SlotVazioLobby(playerid);
                        if(il == -1) ms(playerid, 2, "Your Lobby inventory is full, could not receive the reward!");
                        else
                        {
                            Inventario_Lobby[playerid][il][inv_ID] = Recompensas[i][1];
                            Inventario_Lobby[playerid][il][inv_Unidades] = Recompensas[i][2];
                            Inventario_Lobby[playerid][il][inv_Tipo] = Recompensas[i][3];
                            Inventario_Lobby[playerid][il][inv_Visto] = 0;
                            ms(playerid, 2, "Check your Lobby inventory to collect your new reward!");
                        }
                        return 1;
                    }
                }
                ms(playerid, 2, "This level has no reward!");
                salvarplayer(playerid);
            }
        }
    }
    return 1;
}


SelectTextDraw_(playerid, cor)
{
	selecionando[playerid] = 1;
    SelectTextDraw(playerid, cor);
	return 1;
}

CancelSelectTextDraw_(playerid)
{
	selecionando[playerid] = 0;
    CancelSelectTextDraw(playerid);
	return 1;
}

setar_classe_base(b, i)
{
    new sss[150];
    format(sss, 150, "Base '%s' is now using Class '%s'.", Base[b][base_Nome], ClasseBase[i][classe_Nome]);
    Base[b][base_Classe] = i;
    atualizar_base(b, 1);
    for(new p; p < MAX_PLAYERS; p++)
    {
        if(Online(p))
        {
            if(Modo[p] == 1)
            {
                ms(p, 3, sss);
            }
        }
    }
    salvar_base(b);
    return 1;
}

Prataforma(playerid)
{
    new plat[40];
    format(plat, 40, "None");
    if(Android[playerid] == 1) format(plat, 40, "Android");
    else format(plat, 40, "PC");
    return plat;
}

ModoPlayer(playerid)
{
    new plat[40];
    format(plat, 40, "None");
    if(Modo[playerid] == 0) format(plat, 40, "Lobby");
    if(Modo[playerid] == 1) format(plat, 40, "Story");
    if(Modo[playerid] == 2) format(plat, 40, "PVP");
    if(Modo[playerid] == 3) format(plat, 40, "Tutorial");
    return plat;
}

ClasseLoot(i)
{
    new plat[50];
    format(plat, 50, "{%06x}None", CorLoot(i) >>> 8);
    if(Loot[i][loot_Classe] == 0) format(plat, 50, "{%06x}Low", CorLoot(i) >>> 8);
    if(Loot[i][loot_Classe] == 1) format(plat, 50, "{%06x}Medium", CorLoot(i) >>> 8);
    if(Loot[i][loot_Classe] == 2) format(plat, 50, "{%06x}High", CorLoot(i) >>> 8);
    return plat;
}


CorLoot(i)
{
	new cor = 0xa1a1a1ff;
    if(Loot[i][loot_Classe] == 0) cor = 0x836FFFff;
	if(Loot[i][loot_Classe] == 1) cor = 0x00ff00ff;
	if(Loot[i][loot_Classe] == 2) cor = 0xffff00ff;
	return cor;
}

fechar_portamalas(playerid)
{
    mostrando_portamalas[playerid] = -1;
    for(new i; i<sizeof T_PortaMalas; i++) TextDrawHideForPlayer(playerid, T_PortaMalas[i]);
    for(new ii; ii<6; ii++) PlayerTextDrawHide(playerid, T_PortaMalasModelo_p[playerid][ii]);
    for(new iii; iii<6; iii++) PlayerTextDrawHide(playerid, T_PortaMalasNome_p[playerid][iii]);
    for(new iiii; iiii<7; iiii++) PlayerTextDrawHide(playerid, T_PortaMalasUnidades_p[playerid][iiii]);
	CancelSelectTextDraw_(playerid);
	return 1;
}

abrir_portamalas(playerid, i) //
{
	if(i == -1)
	{
	    fechar_portamalas(playerid);
	    return 1;
	}

	if(Veiculo[i][v_Existe] == 1)
	{
	    // abrir tudo //
		if(mostrando_portamalas[playerid] == -1)
		{
			SelectTextDraw_(playerid, 0x00ffffff);
		    mostrando_portamalas[playerid] = i;
		    pagina_portamalas[playerid] = 0;
		    selecionando_portamalas[playerid] = -1;
		    for(new ia; ia<sizeof T_PortaMalas; ia++) TextDrawShowForPlayer(playerid, T_PortaMalas[ia]);
		    PlayerTextDrawShow(playerid, T_PortaMalasUnidades_p[playerid][6]);
		}

		// organizar lista //
		new cont;
		for(new a; a<MAX_PORTA_MALAS; a++)
		{
		    ListaPortaMalas[playerid][a] = -1;
		    if(PortaMalas[i][a][inv_ID] != 0)
		    {
		        ListaPortaMalas[playerid][cont] = a;
		        cont++;
		    }
		}

		// organizar gaginas //
		new pags;
	    new sobra;
	    new div;
	    if(cont <= 6)
	    {
			pags = 1;
			sobra = 0;
	    }
	    else
	    {
	        pags = cont/6;
	        div = pags*6;
	        sobra = cont - (div);
	        if(sobra > 0) pags ++;
	    }

	    // string de paginas //
	    if(pagina_portamalas[playerid]+1 > pags) pagina_portamalas[playerid] = pags-1;
	    new sss[150];
	    format(sss, 150, "%d / %d", pagina_portamalas[playerid]+1, pags);
	    PlayerTextDrawSetString(playerid, T_PortaMalasUnidades_p[playerid][6], sss);

		for(new ii; ii<6; ii++)
		{
		    PlayerTextDrawHide(playerid, T_PortaMalasUnidades_p[playerid][ii]);
			PlayerTextDrawHide(playerid, T_PortaMalasNome_p[playerid][ii]);
			PlayerTextDrawHide(playerid, T_PortaMalasModelo_p[playerid][ii]);
		    new ff = ii + pagina_portamalas[playerid]*6;
		    if(ff >= 0 && ff < MAX_PORTA_MALAS)
		    {
			    new aa = ListaPortaMalas[playerid][ff];
			    if(aa >= 0 && ff < MAX_PORTA_MALAS)
		    	{
				    if(aa != -1)
				    {
						PlayerTextDrawSetPreviewModel(playerid, T_PortaMalasModelo_p[playerid][ii], Itens[PortaMalas[i][aa][inv_ID]][item_Modelo]);
				        PlayerTextDrawSetPreviewRot(playerid, T_PortaMalasModelo_p[playerid][ii], Itens[PortaMalas[i][aa][inv_ID]][item_PreX],Itens[PortaMalas[i][aa][inv_ID]][item_PreY],Itens[PortaMalas[i][aa][inv_ID]][item_PreZ],Itens[PortaMalas[i][aa][inv_ID]][item_PreV]);
						PlayerTextDrawSetString(playerid, T_PortaMalasNome_p[playerid][ii], Itens[PortaMalas[i][aa][inv_ID]][item_Nome]);
						PlayerTextDrawSetString(playerid, T_PortaMalasUnidades_p[playerid][ii], ConvertMoney(PortaMalas[i][aa][inv_Unidades]));
						if(selecionando_portamalas[playerid] == aa) PlayerTextDrawBackgroundColor(playerid, T_PortaMalasModelo_p[playerid][ii], 0x00ffff40);
						else PlayerTextDrawBackgroundColor(playerid, T_PortaMalasModelo_p[playerid][ii], 0xffffff30);
						PlayerTextDrawShow(playerid, T_PortaMalasUnidades_p[playerid][ii]);
						PlayerTextDrawShow(playerid, T_PortaMalasNome_p[playerid][ii]);
						PlayerTextDrawShow(playerid, T_PortaMalasModelo_p[playerid][ii]);
				    }
			    }
		    }
		}

	}
	else fechar_portamalas(playerid);
	return 1;
}

pegar_portamalas(playerid, slot)
{
    if(mostrando_portamalas[playerid] != -1)
    {
        new i = mostrando_portamalas[playerid];
        if(Veiculo[i][v_Trancado] == 1)
        {
            fechar_portamalas(playerid);
            ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Trunk", "{FF0000}[ERROR] {A1A1A1}The vehicle is locked, cannot open the trunk!", "Ok", "Close");
            return 1;
        }

        new Float:p[3];
        new vv = GetPVarInt(playerid, "veiculo");
        GetVehiclePos(vv, p[0], p[1], p[2]);
        if(!IsPlayerInRangeOfPoint(playerid, 10, p[0], p[1], p[2]))
        {
            fechar_portamalas(playerid);
            ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Trunk", "{FF0000}[ERROR] {A1A1A1}You are too far from the vehicle!", "Ok", "Close");
            return 1;
        }

        if(Veiculo[i][v_Existe] == 1)
        {
            if(PortaMalas[i][slot][inv_ID] != 0)
            {
                if(SlotsVazios(playerid) == 0) return GameTextForPlayer(playerid, "~r~~h~INVENTORY FULL", 1000, 3);
                AddInv(playerid, PortaMalas[i][slot][inv_ID], PortaMalas[i][slot][inv_Unidades], PortaMalas[i][slot][inv_Tipo]);
                PortaMalas[i][slot][inv_ID] = 0;
                PortaMalas[i][slot][inv_Unidades] = 0;
                PortaMalas[i][slot][inv_Tipo] = 0;
                GameTextForPlayer(playerid, "~g~~h~ITEM RETRIEVED", 1000, 3);
                for(new pla; pla < MAX_PLAYERS; pla++) if(Online(pla)) if(mostrando_portamalas[pla] == i) abrir_portamalas(pla, i);
                salvarplayer(playerid);
                SalvarVeiculo(Veiculo[slot][v_ID]);
            }
        }
        else fechar_portamalas(playerid);
    }
    else fechar_portamalas(playerid);
    return 1;
}

salvar_recicladora_player(playerid)
{
    new file[80];
    new linha[100];
    format(file, 80, "RecicladoraPlayer/%s.txt", Nome(playerid));
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    DOF2_SetInt(file, "re_Base", RecicladoraPlayer[playerid][re_Base]);
    DOF2_SetInt(file, "re_Tempo", RecicladoraPlayer[playerid][re_Tempo]);
    DOF2_SetInt(file, "re_Reciclando", RecicladoraPlayer[playerid][re_Reciclando]);
    DOF2_SetInt(file, "re_Sucata", RecicladoraPlayer[playerid][re_Sucata]);
    for(new r; r < SLOTS_RECICLADORA; r++)
    {
        format(linha, 100, "re_ID_%d", r);
        DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_ID][r]);
        format(linha, 100, "re_Unidades_%d", r);
        DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_Unidades][r]);
        format(linha, 100, "re_Tipo_%d", r);
        DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_Tipo][r]);
    }
    DOF2_SaveFile();
    return 1;
}

carregar_recicladora_player(playerid)
{
    new file[80];
    new linha[100];
    format(file, 80, "RecicladoraPlayer/%s.txt", Nome(playerid));
    if(DOF2_FileExists(file))
    {
        DOF2_SetInt(file, "re_Base", RecicladoraPlayer[playerid][re_Base]);
        DOF2_SetInt(file, "re_Tempo", RecicladoraPlayer[playerid][re_Tempo]);
        DOF2_SetInt(file, "re_Reciclando", RecicladoraPlayer[playerid][re_Reciclando]);
        DOF2_SetInt(file, "re_Sucata", RecicladoraPlayer[playerid][re_Sucata]);
        for(new r; r < SLOTS_RECICLADORA; r++)
        {
            format(linha, 100, "re_ID_%d", r);
            DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_ID][r]);
            format(linha, 100, "re_Unidades_%d", r);
            DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_Unidades][r]);
            format(linha, 100, "re_Tipo_%d", r);
            DOF2_SetInt(file, linha, RecicladoraPlayer[playerid][re_Tipo][r]);
        }
    }
    else
    {
        limpar_recicladora_player(playerid);
    }
    return 1;
}


limpar_recicladora_player(playerid)
{
    RecicladoraPlayer[playerid][re_Base] = -1;
    RecicladoraPlayer[playerid][re_Tempo] = 0;
    RecicladoraPlayer[playerid][re_Reciclando] = 0;
    RecicladoraPlayer[playerid][re_Sucata] = 0;
    for(new r; r<SLOTS_RECICLADORA; r++)
    {
        RecicladoraPlayer[playerid][re_ID][r] = 0;
        RecicladoraPlayer[playerid][re_Unidades][r] = 0;
        RecicladoraPlayer[playerid][re_Tipo][r] = 0;
	}
	return 1;
}

verificar_recicladora(playerid, re)
{
	if(RecicladoraPlayer[playerid][re_Base] !=  Recicladora[re][re_Base]) limpar_recicladora_player(playerid), RecicladoraPlayer[playerid][re_Base] = Recicladora[re][re_Base];
	return 1;
}

atualizar_bau(i)
{
    if(IsValidDynamicObject(Bau[i][bau_Obj])) DestroyDynamicObject_(Bau[i][bau_Obj]);
    if(IsValidDynamic3DTextLabel(Bau[i][bau_3D])) DestroyDynamic3DTextLabel(Bau[i][bau_3D]);
    if(Bau[i][bau_Existe] == 1)
    {
        if(Bau[i][bau_Base] == -1)
        {
            destruir_bau(i);
            return 1;
        }

        new sss[150];
        format(sss, 150, "{a1a1a1}Material Chest [%d]\n{00ffff}Base: {ffff00}%s\n\n{a1a1a1}Press Y to access", i, Base[Bau[i][bau_Base]][base_Nome]);
        Bau[i][bau_3D] = CreateDynamic3DTextLabel(sss, 0xffffff99, Bau[i][bau_X], Bau[i][bau_Y], Bau[i][bau_Z]+1.8, 5, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
        Bau[i][bau_Obj] = CreateDynamicObject(11729, Bau[i][bau_X], Bau[i][bau_Y], Bau[i][bau_Z], Bau[i][bau_RX], Bau[i][bau_RY], Bau[i][bau_RZ], 0, 0);
    }
    return 1;
}

salvar_bau(i)
{
    new file[80];
    format(file, 80, "Baus/Bau_%d.txt", i);
    if(Bau[i][bau_Existe] == 1)
    {
        if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
        DOF2_SetInt(file, "bau_Base", Bau[i][bau_Base]);
        DOF2_SetInt(file, "bau_Madeira", Bau[i][bau_Madeira]);
        DOF2_SetInt(file, "bau_Metal", Bau[i][bau_Metal]);
        DOF2_SetInt(file, "bau_Pedra", Bau[i][bau_Pedra]);
        DOF2_SetInt(file, "bau_Polvora", Bau[i][bau_Polvora]);
        DOF2_SetInt(file, "bau_Sucata", Bau[i][bau_Sucata]);
        DOF2_SetFloat(file, "bau_X", Bau[i][bau_X]);
        DOF2_SetFloat(file, "bau_Y", Bau[i][bau_Y]);
        DOF2_SetFloat(file, "bau_Z", Bau[i][bau_Z]);
        DOF2_SetFloat(file, "bau_RX", Bau[i][bau_RX]);
        DOF2_SetFloat(file, "bau_RY", Bau[i][bau_RY]);
        DOF2_SetFloat(file, "bau_RZ", Bau[i][bau_RZ]);
        DOF2_SaveFile();
    }
    else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
    return 1;
}

carregar_baus()
{
    new file[80];
    new cont;
    for(new i; i < MAX_BAUS; i++)
    {
        format(file, 80, "Baus/Bau_%d.txt", i);
        if(DOF2_FileExists(file))
        {
            Bau[i][bau_Existe] = 1;
            Bau[i][bau_Base] = DOF2_GetInt(file, "bau_Base");
            Bau[i][bau_Madeira] = DOF2_GetInt(file, "bau_Madeira");
            Bau[i][bau_Metal] = DOF2_GetInt(file, "bau_Metal");
            Bau[i][bau_Pedra] = DOF2_GetInt(file, "bau_Pedra");
            Bau[i][bau_Polvora] = DOF2_GetInt(file, "bau_Polvora");
            Bau[i][bau_Sucata] = DOF2_GetInt(file, "bau_Sucata");
            Bau[i][bau_X] = DOF2_GetFloat(file, "bau_X");
            Bau[i][bau_Y] = DOF2_GetFloat(file, "bau_Y");
            Bau[i][bau_Z] = DOF2_GetFloat(file, "bau_Z");
            Bau[i][bau_RX] = DOF2_GetFloat(file, "bau_RX");
            Bau[i][bau_RY] = DOF2_GetFloat(file, "bau_RY");
            Bau[i][bau_RZ] = DOF2_GetFloat(file, "bau_RZ");
            cont++;
        }
        else
        {
            Bau[i][bau_Existe] = 0;
            Bau[i][bau_Base] = 0;
            Bau[i][bau_Madeira] = 0;
            Bau[i][bau_Metal] = 0;
            Bau[i][bau_Pedra] = 0;
            Bau[i][bau_Polvora] = 0;
            Bau[i][bau_Sucata] = 0;
            Bau[i][bau_X] = 0;
            Bau[i][bau_Y] = 0;
            Bau[i][bau_Z] = 0;
            Bau[i][bau_RX] = 0;
            Bau[i][bau_RY] = 0;
            Bau[i][bau_RZ] = 0;
        }
        atualizar_bau(i);
    }
    printf("** %d Material Chests loaded.", cont);
    return 1;
}

mostrar_bau(playerid, i, con=-1, con2=-1)
{
    if(Online(playerid))
    {
        if(Bau[i][bau_Existe] == 1)
        {
            if(BasePlayer(playerid) == Bau[i][bau_Base])
            {
                new sss[150];
                SetPVarInt(playerid, "bau", i);
                String_Gigante[0] = EOS;
                if(con == -1)
                {
                    format(sss, 150, "{ffffff}Woods\t{a1a1a1}%d\n", Bau[i][bau_Madeira]);
                    strcat(String_Gigante, sss);
                    format(sss, 150, "{ffffff}Metals\t{a1a1a1}%d\n", Bau[i][bau_Metal]);
                    strcat(String_Gigante, sss);
                    format(sss, 150, "{ffffff}Stones\t{a1a1a1}%d\n", Bau[i][bau_Pedra]);
                    strcat(String_Gigante, sss);
                    format(sss, 150, "{ffffff}Gunpowders\t{a1a1a1}%d\n", Bau[i][bau_Polvora]);
                    strcat(String_Gigante, sss);
                    format(sss, 150, "{ffffff}Scraps\t{a1a1a1}%d\n", Bau[i][bau_Sucata]);
                    strcat(String_Gigante, sss);
                    strcat(String_Gigante, "{00ffff}MOVE CHEST\t{000000}_\n");
                    ShowPlayerDialog_(playerid, DIALOG_BAU, DIALOG_STYLE_TABLIST, "Material Chest", String_Gigante, "Continue", "Close");
                    return 1;
                }

                if(con == 0)
                {
                    strcat(String_Gigante, "Store Woods\n");
                    strcat(String_Gigante, "Retrieve Woods\n");
                    format(sss, 150, "{ffffff}Woods in Chest [{a1a1a1}%s{ffffff}]", ConvertMoney(Bau[i][bau_Madeira]));
                    ShowPlayerDialog_(playerid, DIALOG_BAU2, DIALOG_STYLE_LIST, sss, String_Gigante, "Continue", "Close");
                }

                if(con == 1)
                {
                    strcat(String_Gigante, "Store Metals\n");
                    strcat(String_Gigante, "Retrieve Metals\n");
                    format(sss, 150, "{ffffff}Metals in Chest [{a1a1a1}%s{ffffff}]", ConvertMoney(Bau[i][bau_Metal]));
                    ShowPlayerDialog_(playerid, DIALOG_BAU2, DIALOG_STYLE_LIST, sss, String_Gigante, "Continue", "Close");
                }

                if(con == 2)
                {
                    strcat(String_Gigante, "Store Stones\n");
                    strcat(String_Gigante, "Retrieve Stones\n");
                    format(sss, 150, "{ffffff}Stones in Chest [{a1a1a1}%s{ffffff}]", ConvertMoney(Bau[i][bau_Pedra]));
                    ShowPlayerDialog_(playerid, DIALOG_BAU2, DIALOG_STYLE_LIST, sss, String_Gigante, "Continue", "Close");
                }

                if(con == 3)
                {
                    strcat(String_Gigante, "Store Gunpowders\n");
                    strcat(String_Gigante, "Retrieve Gunpowders\n");
                    format(sss, 150, "{ffffff}Gunpowders in Chest [{a1a1a1}%s{ffffff}]", ConvertMoney(Bau[i][bau_Polvora]));
                    ShowPlayerDialog_(playerid, DIALOG_BAU2, DIALOG_STYLE_LIST, sss, String_Gigante, "Continue", "Close");
                }

                if(con == 4)
                {
                    strcat(String_Gigante, "Store Scraps\n");
                    strcat(String_Gigante, "Retrieve Scraps\n");
                    format(sss, 150, "{ffffff}Scraps in Chest [{a1a1a1}%s{ffffff}]", ConvertMoney(Bau[i][bau_Sucata]));
                    ShowPlayerDialog_(playerid, DIALOG_BAU2, DIALOG_STYLE_LIST, sss, String_Gigante, "Continue", "Close");
                }

                if(con == 999)
                {
                    new material[50];
                    new opcao[50];
                    SetPVarInt(playerid, "opcao2", con2);

                    if(con2 == 1)
                    {
                        if(DonoBase(playerid) != Bau[i][bau_Base] && SubBase(playerid) != Bau[i][bau_Base])
                        {
                            ms(playerid, 0, "Only the Owner or Sub-Owner of the Base can do this.");
                            mostrar_bau(playerid, i, GetPVarInt(playerid, "opcao"));
                            return 1;
                        }
                    }

                    if(GetPVarInt(playerid, "opcao") == 0) format(material, 50, "Woods");
                    if(GetPVarInt(playerid, "opcao") == 1) format(material, 50, "Metals");
                    if(GetPVarInt(playerid, "opcao") == 2) format(material, 50, "Stones");
                    if(GetPVarInt(playerid, "opcao") == 3) format(material, 50, "Gunpowders");
                    if(GetPVarInt(playerid, "opcao") == 4) format(material, 50, "Scraps");
                    if(con2 == 0) format(opcao, 50, "Store");
                    if(con2 == 1) format(opcao, 50, "Retrieve");
                    format(String_Gigante, 150, "\n\n{ffffff}Enter the amount you want to %s of %s:\n{a1a1a1}Use numbers only.\n\n\n", opcao, material);
                    format(sss, 150, "{ffffff}%s %s", opcao, material);
                    ShowPlayerDialog_(playerid, DIALOG_BAU3, DIALOG_STYLE_INPUT, sss, String_Gigante, "Continue", "Close");
                }
            }
        }
    }
    return 1;
}

salvar_configuracoes()
{
    new file[80];
    format(file, 80, "Configuracoes.txt");
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    DOF2_SetInt(file, "carregamento_lento", carregamento_lento);
    DOF2_SetInt(file, "tempo_respawn", tempo_respawn);
    DOF2_SetInt(file, "distancia_loot", distancia_loot);
    DOF2_SaveFile();
    print("Server configurations have been saved!");
    return 1;
}

carregar_configuracoes()
{
    new file[80];
    format(file, 80, "Configuracoes.txt");
    if(DOF2_FileExists(file))
    {
        carregamento_lento = DOF2_GetInt(file, "carregamento_lento");
        tempo_respawn = DOF2_GetInt(file, "tempo_respawn");
        distancia_loot = DOF2_GetInt(file, "distancia_loot");
    }
    else
    {
        DOF2_CreateFile(file);
        DOF2_SetInt(file, "carregamento_lento", 0);
        DOF2_SetInt(file, "tempo_respawn", 60*60);
        DOF2_SetInt(file, "distancia_loot", 30);
        DOF2_SaveFile();
    }

    if(tempo_respawn == 0) tempo_respawn = 60*60;
    if(distancia_loot == 0) distancia_loot = 40;
    return 1;
}

mostrar_logs(playerid)
{
    ShowPlayerDialog_(playerid, DIALOG_LOGS, DIALOG_STYLE_LIST, "{ffffff}[ {a1a1a1}ADMIN LOGS {ffffff}]", "Bans\nKicks\nGMX\nAdmins\nPunishments\nCash\nNickname Changes\nConnected Players", "View", "Close");
    return 1;
}



ler_log_kills()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogKill[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

ler_log_combates()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogCombates[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

ler_log_base(i)
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogBase[i][a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

limpar_log_base(i)
{
    for(new a; a<50; a++) format(LogBase[i][a], 300, "");
    salvar_log_base(i);
	return 1;
}

escrever_log_base(i, string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogBase[i][a], 300, LogBase[i][a-1]);
	format(LogBase[i][0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_base(i);
	return 1;
}

escrever_log_kills(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogKill[a], 300, LogKill[a-1]);
	format(LogKill[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_kills();
	return 1;
}

escrever_log_combates(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogCombates[a], 300, LogCombates[a-1]);
	format(LogCombates[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_combates();
	return 1;
}


salvar_log_base(i)
{
	new file[80];
	new linha[10];
	format(file, 80, "LogsBases/log_base_%d.txt", i);
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogBase[i][a]);
	}
	DOF2_SaveFile();
	return 1;
}

salvar_log_kills()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_kills.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogKill[a]);
	}
	DOF2_SaveFile();
	return 1;
}

salvar_log_combates()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_combates.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogCombates[a]);
	}
	DOF2_SaveFile();
	return 1;
}

carregar_log_base(i)
{
	new file[80];
	new linha[10];
	format(file, 80, "LogsBases/log_base_%d.txt", i);
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogBase[i][a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogBase[i][a], 300, "");
	return 1;
}

carregar_log_kills()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_kills.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogKill[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogKill[a], 300, "");
	return 1;
}

carregar_log_combates()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_combates.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogCombates[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogCombates[a], 300, "");
	return 1;
}

carregar_log_ban()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_ban.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogBan[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogBan[a], 300, "");
	return 1;
}

salvar_log_ban()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_ban.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogBan[a]);
	}
	DOF2_SaveFile();
	return 1;
}

escrever_log_ban(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogBan[a], 300, LogBan[a-1]);
	format(LogBan[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_ban();
	return 1;
}

ler_log_ban()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogBan[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

carregar_log_kick()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_kick.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogKick[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogKick[a], 300, "");
	return 1;
}

salvar_log_kick()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_kick.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogKick[a]);
	}
	DOF2_SaveFile();
	return 1;
}

escrever_log_kick(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogKick[a], 300, LogKick[a-1]);
	format(LogKick[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_kick();
	return 1;
}

ler_log_kick()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogKick[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

carregar_log_gmx()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_gmx.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogGmx[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogGmx[a], 300, "");
	return 1;
}

salvar_log_gmx()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_gmx.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogGmx[a]);
	}
	DOF2_SaveFile();
	return 1;
}

escrever_log_gmx(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogGmx[a], 300, LogGmx[a-1]);
	format(LogGmx[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_gmx();
	return 1;
}

ler_log_gmx()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogGmx[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

mostrar_admins(playerid)
{
    String_Gigante[0] = EOS;
    new linha[300];
    new cont;
    strcat(String_Gigante, "Admin\tResponsible\tLevel\tRole\n");
    for(new i; i < MAX_ADMINS; i++)
    {
        ListaAdmin[playerid][i] = -1;
        if(!Comparar(Admin[i][adm_Nome], Nome(-1)))
        {
            ListaAdmin[playerid][cont] = i;
            format(linha, 300, "{ffffff}%s\t{a1a1a1}%s\t{00ffff}%d\t{ffff00}%s\n", Admin[i][adm_Nome], Admin[i][adm_Responssavel], Admin[i][adm_Level], Admin[i][adm_Funcao]);
            strcat(String_Gigante, linha);
            cont++;
        }
    }
    format(linha, 300, "{ffffff}Server Admins [{a1a1a1} %d {ffffff}]", cont);
    ShowPlayerDialog_(playerid, DIALOG_LISTA_ADMIN, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Continue", "Close");
    return 1;
}

carregar_log_conecoes()
{
    new file[80];
    new linha[10];
    format(file, 80, "log_conecoes.txt");
    if(DOF2_FileExists(file))
    {
        for(new a; a < 50; a++)
        {
            format(linha, 10, "%d", a);
            format(LogConecoes[a], 300, DOF2_GetString(file, linha));
        }
    }
    else for(new a; a < 50; a++) format(LogConecoes[a], 300, "");
    return 1;
}

carregar_log_admin()
{
    new file[80];
    new linha[10];
    format(file, 80, "log_admin.txt");
    if(DOF2_FileExists(file))
    {
        for(new a; a < 50; a++)
        {
            format(linha, 10, "%d", a);
            format(LogAdmin[a], 300, DOF2_GetString(file, linha));
        }
    }
    else for(new a; a < 50; a++) format(LogAdmin[a], 300, "");
    return 1;
}

salvar_log_conecoes()
{
    new file[80];
    new linha[10];
    format(file, 80, "log_conecoes.txt");
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
    for(new a; a < 50; a++)
    {
        format(linha, 10, "%d", a);
        DOF2_SetString(file, linha, LogConecoes[a]);
    }
    DOF2_SaveFile();
    return 1;
}



salvar_log_admin()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_admin.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogAdmin[a]);
	}
	DOF2_SaveFile();
	return 1;
}

escrever_log_admin(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogAdmin[a], 300, LogAdmin[a-1]);
	format(LogAdmin[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_admin();
	return 1;
}

escrever_log_conecoes(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogConecoes[a], 300, LogConecoes[a-1]);
	format(LogConecoes[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_conecoes();
	return 1;
}

ler_log_admin()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogAdmin[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}


ler_log_conecoes()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogConecoes[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}








escrever_log_punicao(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogPunicao[a], 300, LogPunicao[a-1]);
	format(LogPunicao[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_punicao();
	return 1;
}

escrever_log_cash(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogCash[a], 300, LogCash[a-1]);
	format(LogCash[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_cash();
	return 1;
}

escrever_log_nick(string[])
{
	new dia, mes, ano, hora, munito, segundo;
	gettime(hora, munito, segundo);
	getdate(ano, mes, dia);
	for(new a=49; a>0; a--) if(a > 0) format(LogNick[a], 300, LogNick[a-1]);
	format(LogNick[0], 300, "[%02d/%02d/%04d - %02d:%02d:%02d] %s", dia, mes, ano, hora, munito, segundo, string);
	salvar_log_nick();
	return 1;
}

salvar_log_punicao()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_punicao.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogPunicao[a]);
	}
	DOF2_SaveFile();
	return 1;
}

salvar_log_cash()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_cash.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogCash[a]);
	}
	DOF2_SaveFile();
	return 1;
}

salvar_log_nick()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_nick.txt");
	if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	for(new a; a<50; a++)
	{
	    format(linha, 10, "%d", a);
	    DOF2_SetString(file, linha, LogNick[a]);
	}
	DOF2_SaveFile();
	return 1;
}

carregar_log_punicao()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_punicao.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogPunicao[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogPunicao[a], 300, "");
	return 1;
}

carregar_log_cash()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_cash.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogCash[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogCash[a], 300, "");
	return 1;
}

carregar_log_nick()
{
	new file[80];
	new linha[10];
	format(file, 80, "log_nick.txt");
	if(DOF2_FileExists(file))
	{
		for(new a; a<50; a++)
		{
		    format(linha, 10, "%d", a);
		    format(LogNick[a], 300, DOF2_GetString(file, linha));
		}
	}
	else for(new a; a<50; a++) format(LogNick[a], 300, "");
	return 1;
}

ler_log_punicao()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogPunicao[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

ler_log_cash()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogCash[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}

ler_log_nick()
{
    String_Gigante[0] = EOS;
	for(new a; a<50; a++)
	{
	    strcat(String_Gigante, LogNick[a]);
	    strcat(String_Gigante, "\n");
	}
	return String_Gigante;
}


mostrar_teleportes(playerid)
{
    String_Gigante[0] = EOS;
    for(new a; a<sizeof Teleportes; a++)
    {
        strcat(String_Gigante, Teleportes[a][tele_Nome]);
        strcat(String_Gigante, "\n");
    }
	ShowPlayerDialog_(playerid, DIALOG_TELEPORTES, DIALOG_STYLE_LIST, "Teleportes Admins", String_Gigante, "Ir", "Fechar");
	return 1;
}

mostrar_tv(playerid)
{
    new id = tv_player[playerid];
    if(mostrando_tv[playerid] == 0)
    {
        mostrando_tv[playerid] = 1;
        TextDrawShowForPlayer(playerid, T_Tv[0]);
        PlayerTextDrawShow(playerid, T_Tv_p[playerid][0]);
    }
    new linha[100];
    String_Gigante[0] = EOS;

    format(linha, 100, "~y~Platform: ~w~%s~n~", Prataforma(id));
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~Mode: ~w~%s~n~", ModoPlayer(id));
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~Name: ~b~~h~%s~n~", Nome(id));
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~Health: ~b~~h~%d~n~", Vida[id]);
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~Speed: ~r~~h~%d - KM/H~n~", GetPlayerSpeed(id));
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~Level: ~w~%d~n~", pInfo[id][pLevel]);
    strcat(String_Gigante, linha);
    format(linha, 100, "~y~XP: ~w~%d~n~", pInfo[id][pXP]);
    strcat(String_Gigante, linha);

    if(Mascara[id] > 0)
    {
        format(linha, 100, "~y~Mask: ~w~~h~%d%~n~", Mascara[id]);
        strcat(String_Gigante, linha);
    }
    else strcat(String_Gigante, "~n~");
    if(Capacete[id][0] > 0)
    {
        format(linha, 100, "~y~Helmet Lvl %d: ~w~~h~%d%~n~", Capacete[id][0], Capacete[id][1]);
        strcat(String_Gigante, linha);
    }
    else strcat(String_Gigante, "~n~");
    if(Colete[id][0] > 0)
    {
        format(linha, 100, "~y~Vest Lvl %d: ~w~~h~%d%~n~", Colete[id][0], Colete[id][1]);
        strcat(String_Gigante, linha);
    }
    else strcat(String_Gigante, "~n~");

    if(GetPlayerWeapon(id) != 0)
    {
        format(linha, 100, "~y~Weapon: ~r~~h~%s~n~", nome_arma(GetPlayerWeapon(id)));
        strcat(String_Gigante, linha);
        format(linha, 100, "~y~Ammo: ~r~~h~%d~n~", GetPlayerAmmo(id));
        strcat(String_Gigante, linha);
    }
    else strcat(String_Gigante, "~n~~n~");
    strcat(String_Gigante, "~n~");

    new v = GetPlayerVehicleID(id);
    new Float:vidacarro;
    if(IsPlayerInAnyVehicle(id))
    {
        GetVehicleHealth(v, vidacarro);
        if(VeiculoRC(v) == -1) format(linha, 100, "~y~Vehicle: ~b~~h~%s~n~", NomeVeiculos[GetVehicleModel(v)-400]);
        else format(linha, 100, "~y~RC Vehicle: ~g~~h~%s~n~", NomeVeiculos[GetVehicleModel(v)-400]);
        strcat(String_Gigante, linha);
        if(VeiculoRC(v) == -1) format(linha, 100, "~y~Engine: ~b~~h~%.0f~n~", vidacarro/10);
        else format(linha, 100, "~y~Engine: ~g~~h~%.0f~n~", vidacarro/10);
        strcat(String_Gigante, linha);
        new idv = Info_Veiculo[v];
        if(idv != -1)
        {
            format(linha, 100, "~y~Fuel: ~b~~h~%d~n~", Veiculo[idv][v_Gasolina]);
            strcat(String_Gigante, linha);
            format(linha, 100, "~y~Battery: ~b~~h~%d~n~", Veiculo[idv][v_Bateria]);
            strcat(String_Gigante, linha);
        }
        else if(VeiculoRC(v) != -1)
        {
            format(linha, 100, "~y~Fuel: ~g~~h~INFINITE~n~");
            format(linha, 100, "~y~Battery: ~g~~h~INFINITE~n~");
            strcat(String_Gigante, linha);
        }
    }
    else
    {
        strcat(String_Gigante, "~y~Vehicle: ~r~~h~None~n~");
        strcat(String_Gigante, "~y~Engine: ~r~~h~N/A~n~");
        strcat(String_Gigante, "~y~Fuel: ~r~~h~N/A~n~");
        strcat(String_Gigante, "~y~Battery: ~r~~h~N/A~n~");
    }

    PlayerTextDrawSetString(playerid, T_Tv_p[playerid][0], String_Gigante);
    return 1;
}


esconder_tv(playerid)
{
    if(mostrando_tv[playerid] == 1)
	{
	    mostrando_tv[playerid] = 0;
	    TextDrawHideForPlayer(playerid, T_Tv[0]);
	    PlayerTextDrawHide(playerid, T_Tv_p[playerid][0]);
	}
	return 1;
}

Agua(Float:zzzz)
{
	if(zzzz == 35.382003) return 1;
	if(zzzz == 35.381996) return 1;
	if(zzzz == 35.381999) return 1;
	if(zzzz == 30.400001) return 1;
	if(zzzz == 30.399999) return 1;
	if(zzzz == 30.400003) return 1;
	if(zzzz == 2.792559) return 1;
	if(zzzz == 2.792560) return 1;
	if(zzzz == 5.269999) return 1;
	if(zzzz == 5.269998) return 1;
	if(zzzz == 40.599990) return 1;
	if(zzzz == 40.599987) return 1;
	if(zzzz == 40.599994) return 1;
	if(zzzz == 40.599998) return 1;
	if(zzzz == 9.629158) return 1;
	if(zzzz == 9.629159) return 1;
	if(zzzz == 8.598387) return 1;
	if(zzzz == 8.598388) return 1;
	if(zzzz == 8.598389) return 1;
	if(zzzz == 7.832748) return 1;
	if(zzzz == 7.832749) return 1;
	if(zzzz == 9.015625) return 1;
	if(zzzz == 7.562838) return 1;
	if(zzzz == 7.562839) return 1;
	if(zzzz == 8.472969) return 1;
	if(zzzz == 8.472970) return 1;
	if(zzzz == 13.148437) return 1;
	if(zzzz == 18.000000) return 1;
	if(zzzz == 18.000001) return 1;
	if(zzzz == 8.864450) return 1;
	if(zzzz == 8.864451) return 1;
    if(zzzz == 86.672996) return 1;
	if(zzzz == 86.673004) return 1;
	if(zzzz == 74.000000) return 1;
	if(zzzz <= 0.000000) return 1;
	return 0;
}

PegarAltura(Float:xxff, Float:yyff, &Float:zzff=0.0, Float:dist=6.000)
{
	new Float:pos[3];
	CA_RayCastLine(xxff, yyff, zzff+dist, xxff, yyff, zzff-dist, pos[0], pos[1], pos[2]);
	zzff = pos[2];
	return 1;
}


Temperatura()
{
	new tem;
	new hora, mins, segs;
	gettime(hora, mins, segs);
	mins = 0, segs = 0;
	new temps[] = {10, 11, 12, 12, 14, 15, 17, 19, 20, 21, 23, 25, 29, 30, 31, 28, 27, 25, 20, 18, 15, 13, 12, 11};
    tem = temps[hora];
	tem += Clima[clima_server][clima_Temperatura];
	return tem;
}

AlmentarFrio(playerid)
{
	if(GetPVarInt(playerid, "flod_frio") > gettime()) return 1;
	if(Temperatura() < 0 ) pInfo[playerid][pFrio] += 6;
	else if(Temperatura() < 3 ) pInfo[playerid][pFrio] += 5;
	else if(Temperatura() < 9 ) pInfo[playerid][pFrio] += 4;
	else if(Temperatura() < 13 ) pInfo[playerid][pFrio] += 3;
	else pInfo[playerid][pFrio] += 1;
	if(pInfo[playerid][pFrio] > 100) pInfo[playerid][pFrio] = 100;
	SetPVarInt(playerid, "flod_frio", gettime()+5);
	return 1;
}

DiminuirFrio(playerid)
{
	if(Temperatura() < 0 ) pInfo[playerid][pFrio] -= 1;
	else if(Temperatura() < 3 ) pInfo[playerid][pFrio] -= 2;
	else if(Temperatura() < 9 ) pInfo[playerid][pFrio] -= 3;
	else if(Temperatura() < 13 ) pInfo[playerid][pFrio] -= 4;
	else pInfo[playerid][pFrio] -= 5;
	if(pInfo[playerid][pFrio] < 0) pInfo[playerid][pFrio] = 0;
	return 1;
}

colocar_lanterna(playerid)
{
    lanterna_player[playerid] = 1;
    GameTextForPlayer(playerid, "~G~~H~FLASHLIGHT ON", 1500, 3);
    SetPlayerAttachedObject(playerid, 2, 3872, 6, 3.226999, -0.164000, 0.193997, -1.500000, -172.900054, 4.099997, 0.444999, 0.124998, 0.114000);
    SetPlayerAttachedObject(playerid, 1, 18641, 6, 0.168000, 0.015000, 0.002999, 0.000000, -93.500015, 0.000000, 1.413000, 1.429000, 0.851999);
    format(string_prox, 300, " Player %s turned on their Flashlight ", Nome(playerid));
    ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
    return 1;
}

retirar_lanterna(playerid)
{
    lanterna_player[playerid] = 0;
    RemovePlayerAttachedObject(playerid, 2);
    RemovePlayerAttachedObject(playerid, 1);
    GameTextForPlayer(playerid, "~R~~H~FLASHLIGHT OFF", 1500, 3);
    format(string_prox, 300, " Player %s turned off their Flashlight ", Nome(playerid));
    ProxDetector(10.0, playerid, string_prox, 0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA,0xBCA9F5AA);
    return 1;
}



pontos_player(playerid, con, rounds, round, set)
{
    if(pInfo[playerid][pRank] == 0) pInfo[playerid][pRank] = 1;
	new multiplicador = rounds-round;
	rounds -= multiplicador;
	multiplicador = rounds;
	new pontos;
	pontos = 13*multiplicador;
	if(con == 0)
	{
	    pontos = pontos/2;
	    pontos -= pontos*2;
	}
	if(con == 2)
	{
	    pontos = 0;
	}

	if(set == 1)
	{
		pInfo[playerid][pXP] += pontos;
		if(pInfo[playerid][pXP] < 0)
		{
		    if(pInfo[playerid][pRank] == 1)
			{
			    pInfo[playerid][pXP] = 0;
			}
			else
			{
		    	pInfo[playerid][pXP] = pInfo[playerid][pXP]*(-1);
		    	pInfo[playerid][pRank] --;
		    	pInfo[playerid][pXP] = (PONTOS_RANK*pInfo[playerid][pRank])-pInfo[playerid][pXP];
		    }
		}
		else
		{
		    if(pInfo[playerid][pXP] >= PONTOS_RANK*(pInfo[playerid][pRank]+1))
		    {
		        if(pInfo[playerid][pRank] < (sizeof(Rank)-1))
		        {
		            pInfo[playerid][pRank]++;
		            pInfo[playerid][pXP] -= PONTOS_RANK*(pInfo[playerid][pRank]);
		        }
		        else
		        {
		            pInfo[playerid][pXP] = PONTOS_RANK*(pInfo[playerid][pRank]+1);
		        }
		    }
		}
	}

	new id = pInfo[playerid][pRank];
	new Float:bar2 = 532.000000 - 392.137634;
	new Float:bar = bar2/(PONTOS_RANK*(id+1));
	new sss[150];

	PlayerTextDrawTextSize(playerid, TextResultado2_p[playerid][0], (392.137634-320)+(pInfo[playerid][pXP]*bar), 0.0);
	PlayerTextDrawSetPreviewModel(playerid, TextResultado2_p[playerid][1], Rank[id][rank_Modelo]);
	PlayerTextDrawColor(playerid, TextResultado2_p[playerid][1], Rank[id][rank_Cor]);
	PlayerTextDrawSetString(playerid, TextResultado2_p[playerid][2], Rank[id][rank_Nome]);
	if(set == 1)
	{
		if(pontos >= 0) format(sss, 150, "+%s", ConvertMoney(pontos));
		else format(sss, 150, "%s", ConvertMoney(pontos));
	}
	else
	{
	    format(sss, 150, "_");
	}
	PlayerTextDrawSetString(playerid, TextResultado2_p[playerid][3], sss);
	format(sss, 150, "%s / %s", ConvertMoney(pInfo[playerid][pXP]), ConvertMoney(PONTOS_RANK*(id+1)));
	PlayerTextDrawSetString(playerid, TextResultado2_p[playerid][4], sss);
	return 1;
}

forward desconlgelar_player(playerid);
public desconlgelar_player(playerid)
{
	if(Online(playerid))
	{
	    if(congelado[playerid] == 1) TogglePlayerControllable(playerid, false);
		else
		{
		    TogglePlayerControllable(playerid, true);
		    KillTimer_(timer_congelado[playerid]);
		}
	}
	else KillTimer_(timer_congelado[playerid]);
	return 1;
}


Congelar(playerid)
{
    KillTimer_(timer_congelado[playerid]);
    TogglePlayerControllable(playerid, false);
    congelado[playerid] = 1;
    timer_congelado[playerid] = SetTimerEx("desconlgelar_player", 500, 1, "d", playerid);
	return 1;
}

forward Descongelar(playerid);
public Descongelar(playerid)
{
    KillTimer_(timer_congelado[playerid]);
    congelado[playerid] = 0;
    TogglePlayerControllable(playerid, true);
    return 1;
}
click_historia(playerid)
{
    if(Modo[playerid] == 0)
    {
        if(pInfo[playerid][pLobby] > 0 && ModoAdmin[playerid] == 0)
        {
            new sss[300];
            format(sss, 300, "\n\n{ff0000}[INFO] {a1a1a1}You died last time in Story mode\nplease wait {00ffff}%s {a1a1a1}to enter this mode again!\n\n", ConvertTime(pInfo[playerid][pLobby]));
            ShowPlayerDialog_(playerid, DIALOG_VAZIO, DIALOG_STYLE_MSGBOX, "Story Mode", sss, "Understood", "Close");
            return 1;
        }

        if(pInfo[playerid][pTutorial] == 0)
        {
            ShowPlayerDialog_(playerid, DIALOG_TUTO, DIALOG_STYLE_MSGBOX, "Server Tutorial", "\n\n{ffffff}Would you like to see our tutorial?\n\n", "Yes", "No");
            return 1;
        }

        if(SalaPlayer[playerid] != -1)
        {
            ms(playerid, 0, "You need to leave the PVP Room to do this!");
            return 1;
        }

        if(pInfo[playerid][pX] != 0.0 && pInfo[playerid][pY] != 0.0 && pInfo[playerid][pZ] != 0.0)
        {
            new Float:disttt;
            GetDistance(disttt, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ], 2567.2273,-1294.3597,1037.7734);
            if(disttt < 50.0)
            {
                pInfo[playerid][pX] = 0.0;
                pInfo[playerid][pY] = 0.0;
                pInfo[playerid][pZ] = 0.0;
                ms(playerid, 4, "There was an error loading your last position! It was considered invalid!");
                click_historia(playerid);
                return 1;
            }

            Modo[playerid] = 1;
            SpawnPlayer(playerid);
            ms(playerid, 2, "You can leave Story Mode using /Lobby.");
            invuneravel[playerid] = gettime()+10;
            SetPVarInt(playerid, "looby", gettime()+120);

            SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
            SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
            SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
            SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
            ms(playerid, 1, "You returned to your last position.");
            if(Morto[playerid] > 0)
            {
                Morreu(playerid);
                ms(playerid, 2, "You were dead when you last logged out.");
                SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
                SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
                SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
                SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
            }

            CancelSelectTextDraw_(playerid);
            for(new fr; fr < MAX_DROPS; fr++)
            {
                if(Drop[fr][drop_Existe] == 1)
                {
                    GZ_MostrarGzPlayer(playerid, Drop[fr][drop_Gz]);
                }
            }

            for(new a; a < sizeof Area; a++)
            {
                GZ_MostrarGzPlayer(playerid, Area[a][area_GZ]);
            }

            return 1;
        }

        new b = BasePlayer(playerid);
        if(b != -1)
        {
            Modo[playerid] = 1;
            SpawnPlayer(playerid);
            SetPVarInt(playerid, "looby", gettime()+120);

            ms(playerid, 3, "You can leave Story Mode using /Lobby.");
            invuneravel[playerid] = gettime()+10;

            if(Morto[playerid] > 0)
            {
                Morreu(playerid);
                ms(playerid, 2, "You were dead when you last logged out.");
                SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
                SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
                SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
                SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
            }
            else
            {
                SetPlayerPos(playerid, Base[b][base_X], Base[b][base_Y], Base[b][base_Z]);
                SetPlayerFacingAngle(playerid, random(360));
                SetPlayerInterior(playerid, 0);
                SetPlayerVirtualWorld(playerid, 0);
                ms(playerid, 1, "You returned to the Base Spawn.");
            }

            ResetPlayerWeapons(playerid);
            armas_costas(playerid);

            SetTimerEx("carregar_equi", 1000, 0, "d", playerid);
            CancelSelectTextDraw_(playerid);

            for(new fr; fr < MAX_DROPS; fr++)
            {
                if(Drop[fr][drop_Existe] == 1)
                {
                    GZ_MostrarGzPlayer(playerid, Drop[fr][drop_Gz]);
                }
            }

            for(new a; a < sizeof Area; a++)
            {
                GZ_MostrarGzPlayer(playerid, Area[a][area_GZ]);
            }

            return 1;
        }

        SetPVarInt(playerid, "flood_upar", gettime() + 5);
        SetPVarInt(playerid, "ignorar_gelo", 1);
        Modo[playerid] = 1;
        SpawnPlayer(playerid);
        ms(playerid, 2, "You can leave Story Mode using /Lobby.");
        invuneravel[playerid] = gettime()+10;
        SetPVarInt(playerid, "looby", gettime()+120);

        SetPVarInt(playerid, "ignorar_gelo", 1);
        SetPlayerPos(playerid, 248.3148,302.1143,999.1484);// spawn pesawat
        SetPlayerFacingAngle(playerid, 179.0711);
        SetPlayerInterior(playerid, 1);

        SetPVarInt(playerid, "ignorar_gelo", 1);
        SetPlayerVirtualWorld(playerid, playerid);
        Descongelar(playerid);

        if(Morto[playerid] > 0)
        {
            Morreu(playerid);
            ms(playerid, 2, "You were dead when you last logged out.");
            SetPlayerPos(playerid, pInfo[playerid][pX], pInfo[playerid][pY], pInfo[playerid][pZ]);
            SetPlayerFacingAngle(playerid, pInfo[playerid][pA]);
            SetPlayerInterior(playerid, pInfo[playerid][pInterior]);
            SetPlayerVirtualWorld(playerid, pInfo[playerid][pMundo]);
        }

        ResetPlayerWeapons(playerid);
        armas_costas(playerid);

        SetTimerEx("carregar_equi", 1000, 0, "d", playerid);
        CancelSelectTextDraw_(playerid);

        for(new fr; fr < MAX_DROPS; fr++)
        {
            if(Drop[fr][drop_Existe] == 1)
            {
                GZ_MostrarGzPlayer(playerid, Drop[fr][drop_Gz]);
            }
        }

        for(new a; a < sizeof Area; a++)
        {
            GZ_MostrarGzPlayer(playerid, Area[a][area_GZ]);
        }
    }
    return 1;
}

dialog_montar_carro(playerid, i)
{
    new linha[150];
    String_Gigante[0] = EOS;
    SetPVarInt(playerid, "carro_ferro_velho", i);

    if(verificar_ferro_velho(playerid, i) == 0)
    {
        if(Carros[i][fv_Existe] == 1)
        {
            if(Carros[i][fv_Motor] == 0) format(linha, 150, "{ffffff}Engine\t{ff0000}DAMAGED\n");
            else format(linha, 150, "{ffffff}Engine\t{00ff00}WORKING\n");
            strcat(String_Gigante, linha);
            if(Carros[i][fv_Bateria] == 0) format(linha, 150, "{ffffff}Battery\t{ff0000}DISCHARGED\n");
            else format(linha, 150, "{ffffff}Battery\t{00ff00}CHARGED\n");
            strcat(String_Gigante, linha);
            format(linha, 150, "{ffffff}Tires\t{ffff00}%d {a1a1a1}/ %d\n", Carros[i][fv_Pneus], Carros[i][fv_Pneus2]);
            strcat(String_Gigante, linha);
            format(linha, 150, "{ffffff}Metals\t{ffff00}%d {a1a1a1}/ %d\n", Carros[i][fv_Metais], Carros[i][fv_Metais_Precisa]);
            strcat(String_Gigante, linha);
            format(linha, 150, "{ffffff}Scrap\t{ffff00}%d {a1a1a1}/ %d\n", Carros[i][fv_Sucata], Carros[i][fv_Sucata_Precisa]);
            strcat(String_Gigante, linha);
            format(linha, 150, "{ffffff}Gunpowder\t{ffff00}%d {a1a1a1}/ %d\n", Carros[i][fv_Polvora], Carros[i][fv_Polvora_Precisa]);
            strcat(String_Gigante, linha);
            format(linha, 150, "{ffffff}Vehicle {00ffff}%s {a1a1a1}[%d]", NomeVeiculos[Carros[i][fv_ModeloCarro]-400], i);
            ShowPlayerDialog_(playerid, DIALOG_MONTAR_CARRO, DIALOG_STYLE_TABLIST, linha, String_Gigante, "Continue", "Exit");
        }
    }
    return 1;
}

verificar_ferro_velho(playerid, fv)
{
    if(contar_veiculos_player(playerid) > 0)
    {
        ShowPlayerDialog_(playerid, DIALOG_MONTAR_CARRO2, DIALOG_STYLE_MSGBOX, "{000000}_", "\n\n{ff0000}[INFO] {a1a1a1}You already have a Vehicle on the server, you cannot assemble another one!\n\n\n", "Ok", "Exit");
        return 2;
    }
    if(Carros[fv][fv_Existe] == 1)
    {
        if(Carros[fv][fv_Motor] == 1)
        {
            if(Carros[fv][fv_Bateria] == 1)
            {
                if(Carros[fv][fv_Pneus] >= Carros[fv][fv_Pneus2])
                {
                    if(Carros[fv][fv_Metais] >= Carros[fv][fv_Metais_Precisa])
                    {
                        if(Carros[fv][fv_Sucata] >= Carros[fv][fv_Sucata_Precisa])
                        {
                            if(Carros[fv][fv_Polvora] >= Carros[fv][fv_Polvora_Precisa])
                            {
                                montando_carro[playerid] = fv;
                                Acao(playerid, 17, 300, "ASSEMBLING VEHICLE", 0, "null", "null", 0);
                                return 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return 0;
}


sendo_montado(i)
{
	for(new p; p<MAX_PLAYERS; p++)
	{
	    if(Online(p))
	    {
	        if(montando_carro[p] == i)
	        {
	            return p;
	        }
	    }
	}
	return -1;
}

montar_carro2(playerid, fv)
{
    new Float:pos[4];
    if(Carros[fv][fv_Existe] == 1 )
    {
        if(Carros[fv][fv_Veiculo] != INVALID_VEHICLE_ID)
        {
            GetVehiclePos(Carros[fv][fv_Veiculo], pos[0], pos[1], pos[2]);
            GetVehicleZAngle(Carros[fv][fv_Veiculo], pos[3]);
            new idv = CriarVeiculo(1, Carros[fv][fv_ModeloCarro], pos[0], pos[1], pos[2], pos[3], 1, 1, Nome(playerid));
            if(idv != -1)
            {
                ms(playerid, 4, "You created a new vehicle, use /carmenu to see information and functions.");
                Carros[fv][fv_Existe] = 2;
                Carros[fv][fv_Motor] = 0;
                Carros[fv][fv_Bateria] = 0;
                Carros[fv][fv_Pneus] = 0;
                Carros[fv][fv_Metais] = 0;
                Carros[fv][fv_Sucata] = 0;
                Carros[fv][fv_Polvora] = 0;
                SalvarVeiculo(idv);
                Veiculo[Info_Veiculo[idv]][v_Gasolina] = 20;
                atualizar_carro(fv);
                new panels, lights, aass, ssaa;
                GetVehicleDamageStatus(idv, panels, ssaa, lights, aass);
                UpdateVehicleDamageStatus(idv, panels, encode_doors(2, 2, 2, 2), lights, encode_tires(0,0,0,0));
                montando_carro[playerid] = -1;
                PutPlayerInVehicle(playerid, idv, GetPlayerVehicleSeat(playerid));
                salvar_carro(fv);
            }
            else ms(playerid, 0, "Maximum number of vehicles on the server reached!");
        }
        else ms(playerid, 0, "There was an error assembling the vehicle, please try again.");
    }
    else ms(playerid, 0, "There was an error assembling the vehicle, please try again.");
    return 1;
}

// jam raid nya
Haid()
{
    new dia2 = GetWeekDay2();
	new segss, hora, minuto;
	gettime(hora, minuto, segss);
	if(dia2 == 6 || dia2 == 0)
	{
	    if(hora == 19 || hora == 20 || hora == 21)
	    {
	    	return 1;
	    }
	}
	if(dia2 == 1)
	{
	    if(hora == 16 || hora == 17 || hora == 18)
	    {
	    	return 1;
	    }
	}
	return 0;
}


forward resetar_dano(playerid);
public resetar_dano(playerid)
{
    KillTimer_(timer_dano[playerid]);
    dano_sofrido_player[playerid] = -1;
    dano_sofrido[playerid] = 0;
    dano_sofrido_arma[playerid] = 0;
    dano_causado_player[playerid] = -1;
    dano_causado[playerid] = 0;
    dano_causado_arma[playerid] = 0;
    PlayerTextDrawHide(playerid, DanoLevouText[playerid][0]);
	PlayerTextDrawHide(playerid, DanoLevouText[playerid][1]);
	PlayerTextDrawHide(playerid, DanoLevouText[playerid][2]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][0]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][1]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][2]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][3]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][4]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][5]);
	PlayerTextDrawHide(playerid, DanoAtirouText[playerid][6]);
	return 1;
}

mostrar_dano(playerid)
{
	if(Online(playerid))
	{
		if(dano_sofrido_player[playerid] != -1)
		{
		    if(dano_sofrido_player[playerid] == -123) PlayerTextDrawSetString(playerid, DanoLevouText[playerid][0], Nome(-1));
	    	else PlayerTextDrawSetString(playerid, DanoLevouText[playerid][0], Nome(dano_sofrido_player[playerid]));
			PlayerTextDrawSetString(playerid, DanoLevouText[playerid][1], ConvertMoney(dano_sofrido[playerid]));
			PlayerTextDrawSetString(playerid, DanoLevouText[playerid][2], nome_arma(dano_sofrido_arma[playerid]));
			PlayerTextDrawShow(playerid, DanoLevouText[playerid][0]);
			PlayerTextDrawShow(playerid, DanoLevouText[playerid][1]);
			PlayerTextDrawShow(playerid, DanoLevouText[playerid][2]);
		}
		if(dano_causado_player[playerid] != -1)
		{
		    if(dano_causado_player[playerid] == -123) PlayerTextDrawSetString(playerid, DanoLevouText[playerid][0], Nome(-1));
	    	else PlayerTextDrawSetString(playerid, DanoAtirouText[playerid][0], Nome(dano_causado_player[playerid]));
			PlayerTextDrawSetString(playerid, DanoAtirouText[playerid][1], ConvertMoney(dano_causado[playerid]));
			PlayerTextDrawSetString(playerid, DanoAtirouText[playerid][2], nome_arma(dano_causado_arma[playerid]));
            PlayerTextDrawShow(playerid, DanoAtirouText[playerid][0]);
			PlayerTextDrawShow(playerid, DanoAtirouText[playerid][1]);
			PlayerTextDrawShow(playerid, DanoAtirouText[playerid][2]);
		}
	}
	return 1;
}

ShowAnimsDialog(playerid)
{
	if(strlen(anims_lastlib[playerid]) == 0)
	{
		anims_String = "\0";//Reset the global string
		anims_lastlib[playerid] = "\0";
		for(new i; i<sizeof sAnimList; i++)
		{
			format(anims_String,sizeof(anims_String),"%s%s\n",anims_String,sAnimList[i]);
		}
		ShowPlayerDialog(playerid, DIALOG_ANIMS_INCLUDE, DIALOG_STYLE_LIST, "Please Choose an animation Library", anims_String, "Select", "Cancel");
	}
	else
	{
		ShowAnimsLib(playerid,anims_lastlib[playerid]);
	}
	ClearAnimations(playerid, 1);
	return 1;

}

GetAnimsLibFromId(libid)
{
	new tmp[50];
	if(libid > sizeof(sAnimList))
	{
		printf("[N_ANIMS] Animation liabrary id %i is an invalid id",libid);
		format(tmp,sizeof(tmp),"Unknown");
	}
	else
	{
		format(tmp,sizeof(tmp),"%s",sAnimList[libid]);
	}
	return tmp;
}

ShowAnimsLib(playerid,lib[])
{
	new path[128];
	anims_String = "\0";//Reset the global string
	format(path, sizeof(path), "Anims/%s.txt", n_animtrim(lib));
	if(!fexist(path))
	{
		printf("[N_ANIMS] Animation liabrary %s not found. Check if %s is in your scriptfiles directory",lib,path);
		anims_lastlib[playerid] = "\0";
		return 1;
	}
	else
	{
		new line[128],File:anims_list = fopen(path, io_read), anims_title[128];
		while(fread(anims_list, line))
		{
			format(anims_String,sizeof(anims_String),"%s%s",anims_String,line);
		}
		fclose(anims_list);
		format(anims_title,sizeof(anims_title),"Please Choose an animation ( Animations/%s )",lib);
		ApplyAnimation(playerid,lib,"null",0.0,0,0,0,0,0);
		ShowPlayerDialog(playerid, DIALOG_ANIMS_INCLUDE2, DIALOG_STYLE_LIST, anims_title, anims_String, "Select", "Cancel");
	}
	return 1;
}


#define _strlib_included
#define _strlib_sma_string 128
#define _strlib_med_string 256
#define _strlib_big_string 512
n_animtrim(const sSource[])
{
    new
    iBegin,
    iEnd,
    iInputLength = strlen(sSource),
    sReturn[_strlib_med_string];
    strcat(sReturn, sSource, _strlib_med_string);
    for(iBegin = 0; iBegin < iInputLength; ++iBegin)
	{
        switch(sReturn[iBegin])
		{
            case ' ', '\t', '\r', '\n':
            {
                continue;
            }
            default:
            {
                break;
            }
        }
    }
    for(iEnd = (iInputLength - 1); iEnd > iBegin; --iEnd)
	{
        switch(sReturn[iEnd])
		{
            case ' ', '\t', '\r', '\n':
            {
                continue;
            }
            default:
            {
                break;
            }
        }
    }
    strdel(sReturn, (iEnd + 1), iInputLength);
    strdel(sReturn, 0, iBegin);
    return sReturn;
}


/*forward MyHttpResponse(playerid, response_code, data[]);
public  MyHttpResponse(playerid, response_code, data[])
{
	new ip[16];
	GetPlayerIp(playerid, ip, sizeof ip);
	if(strcmp(ip, "127.0.0.1", true) == 0) return 1;

	if(response_code == 200)
	{
		if(data[0] == 'Y')
		{
		    new sss[300];
		    format(sss, 300, "Jogador '%s' foi Kikado por suspeita de VPN !", Nome(playerid));
	    	SendClientMessage(playerid, 0xFF0000FF, "Detected a VPN IP connection, we do not permit this type of connection on the server!");
	    	escrever_log_kick(sss);
		}
	}
	return 1;
}*/

bases()
{
	new cont;
	for(new i; i<MAX_BASES; i++) if(Base[i][base_Existe] == 1) cont++;
	return cont;
}

mostrar_bases(playerid)
{
    String_Gigante[0] = EOS;
    new sss1[150];
    new limite;
    new cont;
    new pags = paginas(50, bases());
    if(dialog_player[playerid] != DIALOG_BASES) pagina_bases[playerid] = 0;
    strcat(String_Gigante, "ID\tBase\tOwner\n");

    for(new i; i < MAX_BASES; i++)
    {
        Lista_Bases[playerid][i] = -1;
        if(Base[i][base_Existe] == 0) continue;
        Lista_Bases[playerid][cont] = i;
        cont++;
        if(i >= pagina_bases[playerid] * 50)
        {
            limite++;
            format(sss1, 150, "{a1a1a1}%d\t{ffff00}%s\t{ffffff}%s\n", i, Base[i][base_Nome], Membro[i][0]);
            strcat(String_Gigante, sss1);
            if(limite == 50)
            {
                strcat(String_Gigante, "{00ff00}>>>> NEXT >>>>\t{000000}_\n");
                strcat(String_Gigante, "{ffff00}<<<< BACK <<<<\t{000000}_\n");
                break;
            }
        }
    }

    if(limite < 50)
    {
        strcat(String_Gigante, "{00ff00}>>>> NEXT >>>>\t{000000}_\n");
        strcat(String_Gigante, "{ffff00}<<<< BACK <<<<\t{000000}_\n");
    }
    format(sss1, 100, "{ffffff}Base List  {a1a1a1}Page {00ffff}%d{a1a1a1}/{ffff00}%d", pagina_bases[playerid] + 1, pags);
    ShowPlayerDialog_(playerid, DIALOG_BASES, DIALOG_STYLE_TABLIST_HEADERS, sss1, String_Gigante, "Continue", "Close");
    return 1;
}

mostrar_carros(playerid)
{
    String_Gigante[0] = EOS;
    new sss1[150];
    new total = carros();
    new limite;
    new cont;
    new pags = paginas(50, total);
    if(dialog_player[playerid] != DIALOG_CARROS) pagina_carros[playerid] = 0;
    strcat(String_Gigante, "ID\tModel\tAssembled\n");
    new statuss[40];

    for(new ii; ii < MAX_CARROS; ii++)
    {
        Lista_Carros[playerid][ii] = -1;
        if(Carros[ii][fv_Existe] == 0) continue;
        Lista_Carros[playerid][cont] = ii;
        cont++;
    }

    for(new i; i < total; i++)
    {
        new id = Lista_Carros[playerid][i];
        if(id == -1) continue;
        if(i >= pagina_carros[playerid] * 50)
        {
            limite++;
            if(Carros[id][fv_Existe] == 1) format(statuss, 40, "{00ff00}FREE");
            else format(statuss, 40, "{ff0000}ASSEMBLED");
            format(sss1, 150, "{a1a1a1}%d\t{ffff00}%s\t{ffffff}%s\n", id, NomeVeiculos[Carros[id][fv_ModeloCarro] - 400], statuss);
            strcat(String_Gigante, sss1);
            if(limite == 50)
            {
                strcat(String_Gigante, "{00ff00}>>>> NEXT >>>>\t{000000}_\n");
                strcat(String_Gigante, "{ffff00}<<<< BACK <<<<\t{000000}_\n");
                break;
            }
        }
    }

    if(limite < 50)
    {
        strcat(String_Gigante, "{00ff00}>>>> NEXT >>>>\t{000000}_\n");
        strcat(String_Gigante, "{ffff00}<<<< BACK <<<<\t{000000}_\n");
    }
    format(sss1, 100, "{ffffff}Car List  {a1a1a1}Page {00ffff}%d{a1a1a1}/{ffff00}%d", pagina_carros[playerid] + 1, pags);
    ShowPlayerDialog_(playerid, DIALOG_CARROS, DIALOG_STYLE_TABLIST_HEADERS, sss1, String_Gigante, "Continue", "Close");
    return 1;
}

lista_bases(playerid, id)
{
    if(Modo[playerid] == 1)
    {
        if(AdminPlayer(playerid) >= 1)
        { 
            if(ModoAdmin[playerid] == 1)
            {
                new sss1[50];
                format(sss1, 50, "%d", id);
                cmd_gobase(playerid, sss1);
            }
            else
            {
                ms(playerid, 0, "You need to be in work mode, use /work to do this.");
                mostrar_bases(playerid);
            }
        }
        else
        {
            ms(playerid, 0, "You need to be Admin level 1 to teleport to a base!");
            mostrar_bases(playerid);
        }
    }
    else mostrar_bases(playerid);
    return 1;
}

mostrar_atendimentos(playerid)
{
    String_Gigante[0] = EOS;
    new linha[150];
    new cont;
    strcat(String_Gigante, "Service ID\tPlayer\tPriority\tWait\n");
    for(new i; i < MAX_ATENDIMENTOS; i++)
    {
        if(Atendimento[i][at_Existe] == 1)
        {
            format(linha, 150, "{a1a1a1}%d\t{00ffff}%s\t%s\t{a1a1a1}%s\n", i, Atendimento[i][at_Player], prioridade(Atendimento[i][at_Prioridade]), ConvertTime(gettime() - Atendimento[i][at_Iniciado]));
            strcat(String_Gigante, linha);
            atendimentos_player[playerid][cont] = i;
            cont++;
        }
    }
    format(linha, 150, "{ffffff}Services Waiting {a1a1a1}[%d]", cont);
    ShowPlayerDialog_(playerid, DIALOG_ATENDIMENTOS, DIALOG_STYLE_TABLIST_HEADERS, linha, String_Gigante, "Attend", "Close");
    return 1;
}

prioridade(att)
{
    new sss[100];
    if(att == 0) format(sss, 100, "{00ff00}Low");
    if(att == 1) format(sss, 100, "{ffff00}Medium");
    if(att == 2) format(sss, 100, "{ff0000}High");
    return sss;
}

prioridade2(att)
{
    new sss[100];
    if(att == 0) format(sss, 100, "Low");
    if(att == 1) format(sss, 100, "Medium");
    if(att == 2) format(sss, 100, "High");
    return sss;
}


criar_atendimento(playerid, priori)
{
	for(new i; i<MAX_ATENDIMENTOS; i++)
	{
	    if(Atendimento[i][at_Existe] == 0)
	    {
	        Atendimento[i][at_Existe] = 1;
	        Atendimento[i][at_Prioridade] = priori;
	        format(Atendimento[i][at_Player], MAX_PLAYER_NAME, Nome(playerid));
	        format(Atendimento[i][at_Admin], MAX_PLAYER_NAME, Nome(-1));
	        Atendimento[i][at_Iniciado] = gettime();
	        Atendimento[i][at_Atendido] = 0;
	        Atendimento[i][at_Finalizado] = 0;
			new str[150];
			format(str, 150, "[ATENDIMENTOS] O jogador %s [%d] solicitou um adentimento de prioridade: %s, use /atender %d.", Nome(playerid), playerid, prioridade2(priori), i);
	        msa(0x00ffffff, str);
	        return 1;
	    }
	}
	return 0;
}

carros()
{
	new cont;
	for(new i; i<MAX_CARROS; i++) if(Carros[i][fv_Existe] != 0) cont ++;
	return cont;
}

destruir_atendimento(i)
{
	Atendimento[i][at_Existe] = 0;
    Atendimento[i][at_Prioridade] = 0;
    format(Atendimento[i][at_Player], MAX_PLAYER_NAME, Nome(-1));
    format(Atendimento[i][at_Admin], MAX_PLAYER_NAME, Nome(-1));
    Atendimento[i][at_Iniciado] = 0;
    Atendimento[i][at_Atendido] = 0;
    Atendimento[i][at_Finalizado] = 0;
	return 1;
}


trocar_nick(playerid, novo_nick[])
{
	new file[80];
	new file2[80];
	new str[150];
	format(str, 150, "Player '%s' changed their Nick to '%s'.", Nome(playerid), novo_nick);

	// cadastros //
	for(new cd; cd<MAX_CADASTROS; cd++)
	{
	    if(Cadastros[cd][cadastro_Existe] == 1)
	    {
	        if(Comparar(Cadastros[cd][cadastro_Nick], Nome(playerid)))
	        {
	            format(Cadastros[cd][cadastro_Nick], MAX_PLAYER_NAME, novo_nick);
	            salvar_cadastro(cd);
	            break;
	        }
	    }
	}

	// lista de admins //
	new eadm;
	for(new a; a<MAX_ADMINS; a++)
	{
	    if(Admin[a][adm_Existe] == 1)
	    {
		    if(Comparar(Admin[a][adm_Nome], Nome(playerid))) format(Admin[a][adm_Nome], MAX_PLAYER_NAME, novo_nick), eadm = 1;
			if(Comparar(Admin[a][adm_Responssavel], Nome(playerid))) format(Admin[a][adm_Nome], MAX_PLAYER_NAME, novo_nick), eadm = 1;
			if(eadm == 1)
			{
				salvar_admin(a);
				eadm = 0;
			}
		}
	}

	// atendimentos //
	for(new aa; aa<MAX_ATENDIMENTOS; aa++)
	{
	    if(Atendimento[aa][at_Existe] == 1)
	    {
	    	if(Comparar(Atendimento[aa][at_Player], Nome(playerid))) format(Atendimento[aa][at_Player], MAX_PLAYER_NAME, novo_nick), eadm = 1;
			if(Comparar(Atendimento[aa][at_Admin], Nome(playerid))) format(Atendimento[aa][at_Admin], MAX_PLAYER_NAME, novo_nick), eadm = 1;
		}
	}

	// verificar nome na base //
	new b = BasePlayer(playerid);
	if( b != -1)
	{
	    for(new e; e<MAX_MEMBROS; e++) if(Comparar(Membro[b][e], Nome(playerid))) format(Membro[b][e], MAX_PLAYER_NAME, novo_nick);
	    atualizar_base(b);
	}

	for(new v; v<MAX_VEICULOS; v++)
	{
	    if(Veiculo[v][v_Existe] == 1)
	    {
	        if(Comparar(Nome(playerid), Veiculo[v][v_Dono]))
	        {
	            format(Veiculo[v][v_Dono], MAX_PLAYER_NAME, novo_nick);
				SalvarVeiculo2(v);
	        }
	    }
	}

	// verificar cameras //
	for(new c; c<MAX_CAMERAS; c++)
	{
	    if(Camera[c][ca_Existe] == 0) continue;
	    if(Comparar(Nome(playerid), Camera[c][ca_Dono]))
	    {
	        format(Camera[c][ca_Dono], MAX_PLAYER_NAME, novo_nick);
	        salvar_camera(c);
	    }
	}

	// verificar explosivos //
	for(new x; x<MAX_EXPLOSIVOS; x++) if(Explosivo[x][explosivo_Existe] == 1) if(Comparar(Nome(playerid), Explosivo[x][explosivo_Dono])) format(Explosivo[x][explosivo_Dono], MAX_PLAYER_NAME, novo_nick);
	// verificar jbls //
	for(new j; j<MAX_JBL; j++) if(JBL[j][jbl_Existe] == 1) if(Comparar(Nome(playerid), JBL[j][jbl_Dono])) format(JBL[j][jbl_Dono], MAX_PLAYER_NAME, novo_nick);
	// verificar FOGUEIRAS //
	for(new f; f<MAX_FOGUEIRAS; f++) if(Fogueira[f][f_Existe] == 1) if(Comparar(Nome(playerid), Fogueira[f][f_Dono])) format(Fogueira[f][f_Dono], MAX_PLAYER_NAME, novo_nick);


	// verificar conta //
	format(file,  80, "Whitelist/%s.txt", Nome(playerid));
	format(file2, 80, "Whitelist/%s.txt", novo_nick);
	if(DOF2_FileExists(file)) DOF2_RenameFile(file, file2);
	if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	DOF2_SaveFile();

	// verificar contatos //
	format(file,  80, "Contatos/%s.txt", Nome(playerid));
	format(file2, 80, "Contatos/%s.txt", novo_nick);
	if(DOF2_FileExists(file)) DOF2_RenameFile(file, file2);
	if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	DOF2_SaveFile();

	// verificar inventarios //
	format(file,  80, "Inventarios/%s.txt", Nome(playerid));
	format(file2, 80, "Inventarios/%s.txt", novo_nick);
	if(DOF2_FileExists(file)) DOF2_RenameFile(file, file2);
	if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	DOF2_SaveFile();

	// verificar inventarios do Lobby //
	format(file,  80, "Inventarios_Loby/%s.txt", Nome(playerid));
	format(file2, 80, "Inventarios_Loby/%s.txt", novo_nick);
	if(DOF2_FileExists(file)) DOF2_RenameFile(file, file2);
	if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	DOF2_SaveFile();

	// verificar recicladora player //
	format(file,  80, "RecicladoraPlayer/%s.txt", Nome(playerid));
	format(file2, 80, "RecicladoraPlayer/%s.txt", novo_nick);
	if(DOF2_FileExists(file)) DOF2_RenameFile(file, file2);
	if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	DOF2_SaveFile();


	SetPlayerName(playerid, novo_nick);
	format(nome_player[playerid], MAX_PLAYER_NAME, novo_nick);
    escrever_log_nick(str);
	return 1;
}


VerificarNick(string[])
{
	new espacos;
	if(string[0] == '_') return 0;
	for(new i = 0, j = strlen(string); i < j; i++) if(string[i] == '_') espacos ++;
	if(espacos == 0 || espacos > 1) return 0;
	for(new ii = 0, jj = strlen(string); ii < jj; ii++) if(string[ii] == '[' || string[ii] == ']' || string[ii] == '(' || string[ii] == ')' || string[ii] == '$' || string[ii] == '@' || string[ii] == '.' || string[ii] == '=' || string[ii] == '-') return 0;
	return 1;
}
mudar_novo_nick(playerid)
{
    String_Gigante[0] = EOS;
    strcat(String_Gigante, "\n\n");
    strcat(String_Gigante, "{ffffff}You need to change your {00ffff}Nick {ffffff}to complete the login, don't\n");
    strcat(String_Gigante, "worry, your data will not be lost, this is only a way\n");
    strcat(String_Gigante, "to better organize the server, use a New Nick that:\n\n");
    strcat(String_Gigante, "{a1a1a1}Has First and Last Name separated by an ( _ ).\n");
    strcat(String_Gigante, "No special characters, for example: Joao_Humberto.\n");
    strcat(String_Gigante, "Has between 3 to 20 characters.\n\n");
    strcat(String_Gigante, "{ff0000}[WARNING] {ffffff}This new nick will be used from now on to\n");
    strcat(String_Gigante, "log in to the server, please pay close attention.\n\n");
    ShowPlayerDialog(playerid, DIALOG_NOVO_NICK, DIALOG_STYLE_INPUT, "Nick out of standard", String_Gigante, "Change", "Close");
    return 1;
}

item_trocar_nick(playerid)
{
    String_Gigante[0] = EOS;
    strcat(String_Gigante, "\n\n");
    strcat(String_Gigante, "Don't worry, your data will not be lost!\n\n");
    strcat(String_Gigante, "{a1a1a1}Has First and Last Name separated by an ( _ ).\n");
    strcat(String_Gigante, "No special characters, for example: Joao_Humberto.\n");
    strcat(String_Gigante, "Has between 3 to 20 characters.\n\n");
    strcat(String_Gigante, "{ff0000}[WARNING] {ffffff}This new nick will be used from now on to\n");
    strcat(String_Gigante, "log in to the server, please pay close attention.\n\n");
    ShowPlayerDialog(playerid, DIALOG_TROCAR_NICK, DIALOG_STYLE_INPUT, "Nick Change", String_Gigante, "Change", "Close");
    return 1;
}


nick_existe(nisk[])
{
	new file[80];
	format(file, 80, "Whitelist/%s.txt", nisk);
	if(DOF2_FileExists(file)) return 1;
	return 0;
}

contar_objetos_base(b)
{
	new cont;
	if(b != -1)
	{
		for(new i; i<MAX_OBJETOS; i++) if(Obj[i][obj_Existe] == 1) if(Obj[i][obj_Base] == b) cont ++;
	}
	return cont;
}

teste_crash(playerid, teste)
{
	if(teste == 1)
    {
        new cont;
        for(new ie; ie<MAX_ITENS; ie++)
        {
            if(IsPlayerInRangeOfPoint(playerid, 5.0, Item[ie][item_X], Item[ie][item_Y], Item[ie][item_Z]))
            {
				if(GetPlayerInterior(playerid) == Item[ie][item_Interior])
				{
                    if(GetPlayerVirtualWorld(playerid) == Item[ie][item_Mundo])
					{
                        cont ++;
                    }
                }
            }
        }

        new pags;
        new sobra;
        new div;
        if(cont <= 3)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/3;
            div = pags*3;
            sobra = cont - (div);
            if(sobra > 0) pags ++;
        }
        if(pagina_recolher[playerid]+1 < pags) pagina_recolher[playerid]++;
        abririnv(playerid, 1);
    }



    if(teste == 2)
	{
        new cont;
        for(new i; i<MAX_SLOTS; i++) if(Inventario[playerid][i][inv_ID] != 0) cont ++;
        new pags;
        new sobra;
        new div;
        if(cont <= 12)
        {
			pags = 1;
			sobra = 0;
        }
        else
        {
            pags = cont/12;
            div = pags*12;
            sobra = cont - div;
            if(sobra > 0) pags ++;
        }
        if(pagina_itens[playerid]+1 < pags) pagina_itens[playerid]++;
        abririnv(playerid, 2);
    }
	return 1;
}


KillTimer_(&timer)
{
	KillTimer(timer);
	timer = -1;
	return 1;
}


flood_keys(playerid, key)
{
    if(GetPVarInt(playerid, "flood_key") > gettime())
    {
        if(key == KEY_CROUCH) return 1;
        if(key == KEY_WALK) return 1;
        if(key == KEY_CTRL_BACK) return 1;
        if(key == KEY_NO) return 1;
        if(key == KEY_YES) return 1;
        if(key == KEY_SECONDARY_ATTACK) return 1;
    }
	return 0;
}

criar_zombie(Float:x, Float:y, Float:z, Float:a, tipo)
{
	for(new i; i<MAX_ZOMBIES; i++)
	{
	    if(Zombie[i][z_Existe] == 0)
	    {
		    Zombie[i][z_Spawn] = 0;
		    Zombie[i][z_Existe] = 1;
		    Zombie[i][z_Alvo] = -1;
		    Zombie[i][z_X]  = x;
			Zombie[i][z_Y]  = y;
			Zombie[i][z_Z]  = z;
			Zombie[i][z_A]  = a;
			Zombie[i][z_Tipo]  = tipo;
            KillTimer_(Zombie[i][z_Timer]);
            return i;
		}
	}
	return -1;
}

carregar_zombies()
{
	new file[60];
	new cont;
	for(new i; i<MAX_ZOMBIES; i++)
	{
	    Zombie[i][z_Zombie] = INVALID_PLAYER_ID;
	    format(file, 60, "Zombies/Zombie_%d.txt", i);
		if(DOF2_FileExists(file))
		{
		    cont++;
		    criar_zombie(DOF2_GetFloat(file, "x"), DOF2_GetFloat(file, "y"), DOF2_GetFloat(file, "z"), DOF2_GetFloat(file, "a"), DOF2_GetInt(file, "z_Tipo"));
		}
	}
	printf("** %d Loaded Zombie", cont);
	return 1;
}

/*
PlayerRT(playerid)
{
	if(!Online(playerid)) return 0;
	if(RT_Player[playerid] == 1)
	{
		if((gettime() - RT_Tempo[playerid]) > 5)
		{
		    return 1;
		}
	}
	return 0;
}
*/

salvar_zombie(i)
{
    new file[60];
    format(file, 60, "Zombies/Zombie_%d.txt", i);
	if(Zombie[i][z_Existe] == 1)
	{
	    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
		DOF2_SetFloat(file, "x", Zombie[i][z_X] );
		DOF2_SetFloat(file, "y", Zombie[i][z_Y] );
		DOF2_SetFloat(file, "z", Zombie[i][z_Z] );
		DOF2_SetFloat(file, "a", Zombie[i][z_A] );
		DOF2_SetInt(file, "z_Tipo", Zombie[i][z_Tipo] );
        DOF2_SaveFile();
	}
	else if(DOF2_FileExists(file)) DOF2_RemoveFile(file);
	return 1;
}

forward Zombie_(i, con);
public Zombie_(i, con)
{

    if(Zombie[i][z_Spawn] == -555)
    {
        KillTimer_(Zombie[i][z_Timer]);
		if(Zombie[i][z_Zombie] != INVALID_PLAYER_ID)
		{
			ID_Zombie[Zombie[i][z_Zombie]] = -1;
	     	FCNPC_Destroy(Zombie[i][z_Zombie]);
		}
	    Zombie[i][z_Zombie] = INVALID_PLAYER_ID;
	    Zombie[i][z_Spawn] = -1;
        return 1;
    }

	if(con == 0)
	{
	    if(Zombie[i][z_Existe] == 1)
	    {
	        if(Zombie[i][z_Zombie] != INVALID_PLAYER_ID)
	        {
	            Zombie[i][z_Alvo] = -1;
	            FCNPC_SetAngle(Zombie[i][z_Zombie], Zombie[i][z_A]);
	            KillTimer_(Zombie[i][z_Timer]);
				Zombie[i][z_Timer] = SetTimerEx("Zombie_", 1500, 1, "dd", i, 1);
				FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
			}
			else
			{
			    KillTimer_(Zombie[i][z_Timer]);
			    Zombie[i][z_Timer] = SetTimerEx("Zombie_", 1500, 0, "dd", i, 0);
			}
			return 1;
	    }
	}

	if(con == 1)
	{
	    if(!IsPlayerConnected(Zombie[i][z_Zombie]))
	    {
	        printf("");
			printf("||||||||||||||||||||||||||||||||||||||||||||||||||||", i);
			printf("||||||||||||    Zombie ID %d crashou   |||||||||||||", i);
			printf("||||||||||||||||||||||||||||||||||||||||||||||||||||", i);
			printf("");
			Zombie[i][z_Spawn] = -1;
			ID_Zombie[Zombie[i][z_Zombie]] = -1;
			Zombie[i][z_Zombie] = INVALID_PLAYER_ID;
		    KillTimer_(Zombie[i][z_Timer]);
            return 1;
	    }

	    if(tem_player(i) == -1)
		{
		    KillTimer_(Zombie[i][z_Timer]);
		    FCNPC_Destroy(Zombie[i][z_Zombie]);
		    ID_Zombie[Zombie[i][z_Zombie]] = -1;
	    	Zombie[i][z_Zombie] = INVALID_PLAYER_ID;
		    Zombie[i][z_Spawn] = 0;
		    FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
			return 1;
		}

	    new Float:p[8];
	    FCNPC_GetPosition(Zombie[i][z_Zombie], p[0], p[1], p[2]);
	    p[7] = p[2];
	    PegarAltura(p[0], p[1], p[7]);
	    if(p[2] < p[7]+0.9) FCNPC_SetPosition(Zombie[i][z_Zombie], p[0], p[1], p[7]+0.9);

	    p[3] = p[0];
		p[4] = p[1];
		p[5] = p[2];
	    PegarFrente(p[3], p[4], Zombie[i][z_A], -2.8);
	    new Float:agua;
	    PegarAltura(p[3], p[4], agua, 1000.0);
	    PegarAltura(p[3], p[4], p[5], 3.0);

		if(Agua(agua))
		{
		    FCNPC_Stop(Zombie[i][z_Zombie]);
		    Zombie[i][z_A] = random(360);
		    FCNPC_SetAngle(Zombie[i][z_Zombie], Zombie[i][z_A]);
			return 1;
		}

	    new Float:cast[3];
		if(CA_RayCastLine(p[0], p[1], p[2], p[3], p[4], p[2], cast[0],cast[1],cast[2]) != 0 || Agua(p[5]) || ((p[5]+0.9)-p[2]) > 1.5 )
		{
		    FCNPC_Stop(Zombie[i][z_Zombie]);
		    Zombie[i][z_A] = random(360);
		    FCNPC_SetAngle(Zombie[i][z_Zombie], Zombie[i][z_A]);
		    FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
			return 1;
		}

        new Float:pis[4];
		if(Zombie[i][z_Alvo] == -1)
	    {
			for(new pla; pla<MAX_PLAYERS; pla++)
		    {
		        if(!Online(pla)) continue;
	            if(Modo[pla] != 1 || Morto[pla] != 0 || ModoAdmin[pla] == 1) continue;
	            if(!IsPlayerInRangeOfPoint(pla, 35, p[0], p[1], p[2])) continue;
                GetPlayerPos(pla, pis[0],pis[1],pis[2]);
            	PegarAltura(pis[0],pis[1],pis[2], 3.0);
            	PegarAltura(pis[0],pis[1],pis[3], 1000.0);
            	if(CA_RayCastLine(p[0], p[1], p[2], pis[0],pis[1],pis[2], cast[0],cast[1],cast[2]) != 0 || Agua(pis[2]) || Agua(pis[3]) || ((p[5]+0.9)-p[2]) > 1.5 ) continue;
                Zombie[i][z_Alvo] = pla;
                KillTimer_(Zombie[i][z_Timer]);
        		Zombie[i][z_Timer] = SetTimerEx("Zombie_", 1500, 1, "dd", i, 2);
        		FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
                return 1;
		    }
	    }

	    FCNPC_GoTo(Zombie[i][z_Zombie], p[3], p[4], p[2], FCNPC_MOVE_TYPE_WALK, FCNPC_MOVE_SPEED_WALK, FCNPC_MOVE_MODE_COLANDREAS , FCNPC_MOVE_PATHFINDING_Z, 0.0, true, 0.0, 250);
	    return 1;
	}

	if(con == 2)
	{
	    if(Zombie[i][z_Alvo] == -1 || !Online(Zombie[i][z_Alvo]) || Morto[Zombie[i][z_Alvo]] != 0)
	    {
	        FCNPC_StopAttack(Zombie[i][z_Zombie]);
	        FCNPC_StopAim(Zombie[i][z_Zombie]);
	        FCNPC_Stop(Zombie[i][z_Zombie]);
	        KillTimer_(Zombie[i][z_Timer]);
	        SetTimerEx("Zombie_", 750, 0, "dd", i, 0);
	        FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
	        return 1;
	    }

	    new Float:p[8];
	    FCNPC_GetPosition(Zombie[i][z_Zombie], p[0], p[1], p[2]);
	    p[7] = p[2];
	    PegarAltura(p[0], p[1], p[7]);
	    if(p[2] < p[7]+0.9) FCNPC_SetPosition(Zombie[i][z_Zombie], p[0], p[1], p[7]+0.9);

	    if(IsPlayerInRangeOfPoint(Zombie[i][z_Alvo], 45, p[0], p[1], p[2]) && Morto[Zombie[i][z_Alvo]] == 0 && Modo[Zombie[i][z_Alvo]] == 1 && ModoAdmin[Zombie[i][z_Alvo]] == 0)
	    {
            if(IsPlayerInRangeOfPoint(Zombie[i][z_Alvo], 1.2, p[0], p[1], p[2]) && !IsPlayerInAnyVehicle(Zombie[i][z_Alvo]))
		    {
		        FCNPC_ClearAnimations(Zombie[i][z_Zombie]);
		        FCNPC_AimAtPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], false, -1, true, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, FCNPC_ENTITY_CHECK_ALL);
				if(Zombie[i][z_Arma] == 0) FCNPC_MeleeAttack(Zombie[i][z_Zombie], -1, true);
				else FCNPC_MeleeAttack(Zombie[i][z_Zombie], -1, false);
			}
			else if(IsPlayerInRangeOfPoint(Zombie[i][z_Alvo], 2.5, p[0], p[1], p[2]) && IsPlayerInAnyVehicle(Zombie[i][z_Alvo]))
		    {
		        FCNPC_ClearAnimations(Zombie[i][z_Zombie]);
		        FCNPC_AimAtPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], false, -1, true,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, FCNPC_ENTITY_CHECK_ALL);
				if(Zombie[i][z_Arma] == 0) FCNPC_MeleeAttack(Zombie[i][z_Zombie], -1, true);
				else FCNPC_MeleeAttack(Zombie[i][z_Zombie], -1, false);
			}
		    else if(IsPlayerInRangeOfPoint(Zombie[i][z_Alvo], 7.2, p[0], p[1], p[2]))
		    {
			    new Float:cast[4];
			    GetPlayerPos(Zombie[i][z_Alvo], p[3], p[4], p[5]);
			    cast[3] = p[5];
			    PegarAltura(p[3], p[4], cast[3]);
				if(CA_RayCastLine(p[0], p[1], p[2], p[3], p[4], p[5], cast[0],cast[1],cast[2]) != 0 || Agua(cast[3]) || (p[5]-p[2]) > 1.5 )
				{
				    FCNPC_StopAttack(Zombie[i][z_Zombie]);
			        FCNPC_StopAim(Zombie[i][z_Zombie]);
			        FCNPC_Stop(Zombie[i][z_Zombie]);
			        KillTimer_(Zombie[i][z_Timer]);
                    SetTimerEx("Zombie_", 750, 0, "dd", i, 0);
					return 1;
				}
				FCNPC_StopAttack(Zombie[i][z_Zombie]);
				if(!IsPlayerInAnyVehicle(Zombie[i][z_Alvo])) FCNPC_GoToPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], FCNPC_MOVE_TYPE_RUN, FCNPC_MOVE_SPEED_RUN, FCNPC_MOVE_MODE_COLANDREAS , FCNPC_MOVE_PATHFINDING_Z, 0.0, true, 0.0, 1.2, 250);
				else FCNPC_GoToPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], FCNPC_MOVE_TYPE_RUN, FCNPC_MOVE_SPEED_RUN, FCNPC_MOVE_MODE_COLANDREAS , FCNPC_MOVE_PATHFINDING_Z, 0.0, true, 0.0, 2.5, 250);
			}
		    else
		    {
		        new Float:cast[4];
			    GetPlayerPos(Zombie[i][z_Alvo], p[3], p[4], p[5]);
			    cast[3] = p[5];
			    PegarAltura(p[3], p[4], cast[3]);
				if(CA_RayCastLine(p[0], p[1], p[2], p[3], p[4], p[5], cast[0],cast[1],cast[2]) != 0 || Agua(cast[3]) || (p[5]-p[2]) > 1.5)
				{
				    FCNPC_StopAttack(Zombie[i][z_Zombie]);
			        FCNPC_StopAim(Zombie[i][z_Zombie]);
			        FCNPC_Stop(Zombie[i][z_Zombie]);
			        KillTimer_(Zombie[i][z_Timer]);
			        SetTimerEx("Zombie_", 750, 0, "dd", i, 0);
					return 1;
				}

		        FCNPC_StopAttack(Zombie[i][z_Zombie]);
		        FCNPC_StopAim(Zombie[i][z_Zombie]);
                if(!IsPlayerInAnyVehicle(Zombie[i][z_Alvo])) FCNPC_GoToPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], FCNPC_MOVE_TYPE_RUN, FCNPC_MOVE_SPEED_RUN, FCNPC_MOVE_MODE_COLANDREAS , FCNPC_MOVE_PATHFINDING_Z, 0.0, true, 0.0, 1.2, 250);
				else FCNPC_GoToPlayer(Zombie[i][z_Zombie], Zombie[i][z_Alvo], FCNPC_MOVE_TYPE_RUN, FCNPC_MOVE_SPEED_RUN, FCNPC_MOVE_MODE_COLANDREAS , FCNPC_MOVE_PATHFINDING_Z, 0.0, true, 0.0, 2.5, 250);
			}
	    }
	    else
	    {
	        FCNPC_StopAttack(Zombie[i][z_Zombie]);
	        FCNPC_StopAim(Zombie[i][z_Zombie]);
	        FCNPC_Stop(Zombie[i][z_Zombie]);
	        KillTimer_(Zombie[i][z_Timer]);
         	SetTimerEx("Zombie_", 750, 0, "dd", i, 0);
         	FCNPC_ApplyAnimation(Zombie[i][z_Zombie], "PED","WALK_drunk", 4.1, 1, 1, 1, 0, 0);
	    }
	    return 1;
	}
	return 1;
}


tem_player(i)
{
	for(new p; p<MAX_PLAYERS; p++)
	{
	    if(Online(p))
	    {
	        if(Modo[p] == 1)
	        {
                if(IsPlayerInRangeOfPoint(p, 70, Zombie[i][z_X], Zombie[i][z_Y], Zombie[i][z_Z]))
                {
                    return p;
                }
	        }
	    }
	}
	return -1;
}

dialog_zombie(playerid)
{
    String_Gigante[0] = EOS;
    new linha[300];
    new colee[40];
    new capace[40];
    new mask[40];
    strcat(String_Gigante, "Skin     Health     Weapon\tHelmet\tVest\tMask\n");
    for(new i=1; i < sizeof Info_Zombies; i++)
    {
        if(Info_Zombies[i][zi_Colete] == 0) format(colee, 40, "None");
        else format(colee, 40, "Level %d", Info_Zombies[i][zi_Colete]);
        if(Info_Zombies[i][zi_Capacete] == 0) format(capace, 40, "None");
        else format(capace, 40, "Level %d", Info_Zombies[i][zi_Capacete]);
        if(Info_Zombies[i][zi_Mascara] == 0) format(mask, 40, "None");
        else format(mask, 40, "With Mask");
        format(linha, 300, "%03d      %03d      %s\t%s\t%s\t%s\n", Info_Zombies[i][zi_Skin], Info_Zombies[i][zi_Vida], nome_arma(Info_Zombies[i][zi_Arma]), capace, colee, mask);
        strcat(String_Gigante, linha);
    }
    ShowPlayerDialog_(playerid, DIALOG_ZOMBIE, DIALOG_STYLE_TABLIST_HEADERS, "Create Zombie", String_Gigante, "Continue", "Close");
    return 1;
}

setar_info_zombie(z)
{
	new i = Zombie[z][z_Tipo];
    Zombie[z][z_Skin] = Info_Zombies[i][zi_Skin];
    Zombie[z][z_Vida] = Info_Zombies[i][zi_Vida];
    Zombie[z][z_Arma] = Info_Zombies[i][zi_Arma];
    Zombie[z][z_Municao] = Info_Zombies[i][zi_Municao];
    Zombie[z][z_Colete] = Info_Zombies[i][zi_Colete];
    Zombie[z][z_Capacete] = Info_Zombies[i][zi_Capacete];
	Zombie[z][z_Mascara] = Info_Zombies[i][zi_Mascara];
	return 1;
}

lista_carros(playerid, id)
{
    if(AdminPlayer(playerid) >= 6)
    {
        if(ModoAdmin[playerid] == 1)
        {
            if(Carros[id][fv_Existe] == 1) Carros[id][fv_Existe] = 2;
            else if(Carros[id][fv_Existe] == 2) Carros[id][fv_Existe] = 1;
            atualizar_carro(id);
            salvar_carro(id);
            mostrar_carros(playerid);
        }
        else
        {
            ms(playerid, 0, "You need to be in work mode, use /adminduty to do this.");
            mostrar_carros(playerid);
        }
    }
    else
    {
        ms(playerid, 0, "You need to be Admin level 6 to respawn this car!");
        mostrar_carros(playerid);
    }
    return 1;
}

ContaExiste(nickk[])
{
	new file[80];
	format(file, 80, "Whitelist/%s.txt", nickk);
	if(DOF2_FileExists(file)) return 1;
	return 0;
}


carregarpasse(playerid)
{
	new file[100];
	new linha[100];
	format(file, 100, "Passe/%s.txt", Nome(playerid));
	if(DOF2_FileExists(file))
	{
		TemporadaPlayer[playerid] = DOF2_GetInt(file, "TemporadaPlayer");
	    PlayerPasse[playerid] = DOF2_GetInt(file, "PlayerPasse");
	    PasseNivel[playerid] = DOF2_GetInt(file, "PasseNivel");
	    PasseProgresso[playerid] = DOF2_GetInt(file, "PasseProgresso");
	    for(new i; i<MAX_PASSE; i++)
	    {
	        format(linha, 100, "PremioRecolhidoFree_%d", i);
	        PremioRecolhidoFree[playerid][i] = DOF2_GetInt(file, linha);
	        format(linha, 100, "PremioRecolhidoPago_%d", i);
	        PremioRecolhidoPago[playerid][i] = DOF2_GetInt(file, linha);
	    }
	}
	else
	{
	    TemporadaPlayer[playerid] = TEMPORADA;
	    PlayerPasse[playerid] = 0;
	    PasseNivel[playerid] = 1;
	    PasseProgresso[playerid] = 0;
	    for(new i; i<MAX_PASSE; i++)
	    {
	        if(i == 0) PremioRecolhidoFree[playerid][i] = 0;
	        else PremioRecolhidoFree[playerid][i] = -1;
	        if(i == 0) PremioRecolhidoPago[playerid][i] = 0;
	        else PremioRecolhidoPago[playerid][i] = -1;
	    }
	    salvarpasse(playerid);
	}


	if(TemporadaPlayer[playerid] != TEMPORADA)
	{
	    TemporadaPlayer[playerid] = TEMPORADA;
	    PlayerPasse[playerid] = 0;
	    PasseNivel[playerid] = 1;
	    PasseProgresso[playerid] = 0;
	    for(new i; i<MAX_PASSE; i++)
	    {
	        if(i == 0) PremioRecolhidoFree[playerid][i] = 0;
	        else PremioRecolhidoFree[playerid][i] = -1;
	        if(i == 0) PremioRecolhidoPago[playerid][i] = 0;
	        else PremioRecolhidoPago[playerid][i] = -1;
	    }
	    salvarpasse(playerid);
	}
	return 1;
}


salvarpasse(playerid)
{
	new file[100];
	format(file, 100, "Passe/%s.txt", Nome(playerid));
    if(!DOF2_FileExists(file)) DOF2_CreateFile(file);
	DOF2_SetInt(file, "TemporadaPlayer", TemporadaPlayer[playerid]);
    DOF2_SetInt(file, "PlayerPasse", PlayerPasse[playerid]);
    DOF2_SetInt(file, "PasseNivel", PasseNivel[playerid]);
    DOF2_SetInt(file, "PasseProgresso", PasseProgresso[playerid]);

    new linha[100];
    for(new i; i<MAX_PASSE; i++)
    {
        format(linha, 100, "PremioRecolhidoFree_%d", i);
        DOF2_SetInt(file, linha, PremioRecolhidoFree[playerid][i]);
        format(linha, 100, "PremioRecolhidoPago_%d", i);
        DOF2_SetInt(file, linha, PremioRecolhidoPago[playerid][i]);
 	}

	DOF2_SaveFile();
	return 1;
}




forward PlayerTimer(playerid);
public PlayerTimer(playerid)
{

    new Float:p[6];
    new str[500];
	new Float:unis = (188.4-116.4)/100;

   	if(!IsPlayerConnected(playerid))
	{
	    KillTimer_(timer_player[playerid]);
		return 1;
	}


	// se nao tiver logado, mudar as cameras //
    if(Logado[playerid] == 0)
	{
	    // servidor ligando //
		if(servidor_ligado == 0)
		{
		    for(new ai; ai<25; ai++) SendClientMessage(playerid, -1, "");
	        return 1;
		}
		else
		{
		    // preparar para conectar //
		    for(new ai; ai<25; ai++) SendClientMessage(playerid, -1, "");
		    if(esperando[playerid] == 2)
		    {
		        tempo_conectar[playerid] --;
		        if(tempo_conectar[playerid] == 0)
		        {
		            SelectTextDraw_(playerid, 0x00ffffff);
		            esperando[playerid] = 0;
		            tempo_conectar[playerid] = 10;
		            for(new a=3; a<sizeof T_Ligando_Server; a++) TextDrawHideForPlayer(playerid, T_Ligando_Server[a]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[0]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[1]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[2]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[8]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[9]);
			        TextDrawShowForPlayer(playerid, T_Ligando_Server[10]);
		        }
		        return 1;
		    }
		    else
		    {
		        if(esperando[playerid] == 0)
		        {
		            if(tempo_conectar[playerid] > 0)
		            {
		                tempo_conectar[playerid] --;
		                if(tempo_conectar[playerid] == 0)
		                {
		                    for(new a=3; a<sizeof T_Ligando_Server; a++) TextDrawHideForPlayer(playerid, T_Ligando_Server[a]);
		                    kikar(playerid);
		            	}
		            }
		        }
		    }
		}

	    if(camera_player[playerid] <= 0)
	    {
	        idcameraplayer[playerid] ++;
	        if(idcameraplayer[playerid] >= sizeof camera_login) idcameraplayer[playerid] = 0;
	        SetPlayerInterior(playerid, camera_login[idcameraplayer[playerid]][cl_Interior]);
	        SetPlayerVirtualWorld(playerid, camera_login[idcameraplayer[playerid]][cl_Mundo]);
	        InterpolateCameraPos(playerid, camera_login[idcameraplayer[playerid]][cl_Pos][0],camera_login[idcameraplayer[playerid]][cl_Pos][1],camera_login[idcameraplayer[playerid]][cl_Pos][2], camera_login[idcameraplayer[playerid]][cl_Pos][3],camera_login[idcameraplayer[playerid]][cl_Pos][4],camera_login[idcameraplayer[playerid]][cl_Pos][5], 20000, CAMERA_CUT);
			InterpolateCameraLookAt(playerid, camera_login[idcameraplayer[playerid]][cl_Pos][6],camera_login[idcameraplayer[playerid]][cl_Pos][7],camera_login[idcameraplayer[playerid]][cl_Pos][8], camera_login[idcameraplayer[playerid]][cl_Pos][9],camera_login[idcameraplayer[playerid]][cl_Pos][10],camera_login[idcameraplayer[playerid]][cl_Pos][11], 20000, CAMERA_CUT);
	        camera_player[playerid] = 9;
	    }
	    else camera_player[playerid] --;
	    for(new ai; ai<25; ai++) SendClientMessage(playerid, -1, "");
	    return 1;
	}

	// objetos tv //
	for(new ot; ot<50; ot++)
    {
        if(obj_tv_existe[playerid][ot] == 2) obj_tv_existe[playerid][ot] = 1;
        else if(obj_tv_existe[playerid][ot] == 1)
        {
        	obj_tv_existe[playerid][ot] = 0;
       		DestroyDynamicObject_(obj_tv[playerid][ot]);
       	}
    }



	/*// verificar vpn //
	if(cadastro_player[playerid] != -1)
	{
	    new ca = cadastro_player[playerid];
	    if(Cadastros[ca][cadastro_VPN] == 0)
	    {
			if(flood_vpn[playerid] < 7)
			{
			    flood_vpn[playerid] ++;
			    if(flood_vpn[playerid] == 7)
			    {
			        flood_vpn[playerid] = 0;
				    new string[100];
					format(string, sizeof string, "blackbox.ipinfo.app/lookup/%s", GetIP(playerid));
					HTTP(playerid, HTTP_GET, string, "", "MyHttpResponse");
				}
			}
		}
	}*/

	// oque tiver perto //
    perto_player(playerid);

	// verificar se ta de RT //
	if(Online(playerid))
	{
	    new aaaaa[2];

	    if(RT_Up[playerid] == 0)
	    {
	        GetPlayerWeaponData(playerid, 0, aaaaa[0], aaaaa[1]);
	        if(aaaaa[1] == 0) RT_Ammo[playerid] = 1;
	        else if(aaaaa[1] != 0) RT_Ammo[playerid] = 0;
	        SetPlayerAmmo(playerid, 0, RT_Ammo[playerid]);
         	RT_Up[playerid] = 1;
		}
	    else if(RT_Up[playerid] == 1)
	    {
	        GetPlayerWeaponData(playerid, 0, aaaaa[0], aaaaa[1]);
	        if(aaaaa[1] == 0)
	        {
	            if(RT_Ammo[playerid] == 1)
	            {
	                RT_Player[playerid] = 1;
	            }
	            else
	            {
	                RT_Player[playerid] = 0;
	            	RT_Tempo[playerid] = gettime();
	            }
	        }
	        else if(aaaaa[1] == 1)
	        {
	            if(RT_Ammo[playerid] == 0)
	            {
	                RT_Player[playerid] = 1;
	            }
	            else
	            {
	                RT_Player[playerid] = 0;
	            	RT_Tempo[playerid] = gettime();
	            }
	        }
	  	 	RT_Up[playerid] = 0;
	    }
	}

	// setar informacoes do HUD //
    new cor_frio[16] = "~b~~h~~h~";
	new cor_sono[16] = "~b~~h~~h~";
	if(pInfo[playerid][pFrio] > 75) format(cor_frio, 16, "~r~~h~");
	if(pInfo[playerid][pSono] > 75) format(cor_sono, 16, "~r~~h~");
	format(str, 150, "~w~Time_Alive ~r~~h~%s~n~~w~Zombies_Killed ~y~%s~n~~w~Killed ~y~%s~n~~w~Died ~y~%s~n~~w~Cold  %s%d~n~~w~Sleep %s%d~n~", 
		ConvertTime(pInfo[playerid][pVivo]), 
		ConvertMoney(pInfo[playerid][pZombies]), 
		ConvertMoney(pInfo[playerid][pMatou]), 
		ConvertMoney(pInfo[playerid][pMorreu]), 
		cor_frio, pInfo[playerid][pFrio], 
		cor_sono, pInfo[playerid][pSono] );
	PlayerTextDrawSetString(playerid, InvInfo_p[playerid][5], str);

	new cor_sede[16] = "~w~";
	new cor_fome[16] = "~w~";
	if(pInfo[playerid][pSede] > 150) format(cor_sede, 16, "~r~~h~~h~");
	if(pInfo[playerid][pFome] > 150) format(cor_fome, 16, "~r~~h~~h~");
	format(str, 150, "%s%d~n~~n~~n~%s%d~n~", 
		cor_fome, (pInfo[playerid][pFome]/2), 
		cor_sede, (pInfo[playerid][pSede]/2) );
	PlayerTextDrawSetString(playerid, T_Info_Player_p[playerid][0], str);

	// materials //
	format(str, 50, "%d", Madeiras[playerid]);
	PlayerTextDrawSetString(playerid, TextMateriais_p[playerid][0], str);
	format(str, 50, "%d", Metais[playerid]);
	PlayerTextDrawSetString(playerid, TextMateriais_p[playerid][1], str);
	format(str, 50, "%d", Pedras[playerid]);
	PlayerTextDrawSetString(playerid, TextMateriais_p[playerid][2], str);
	format(str, 50, "%d", Polvoras[playerid]);
	PlayerTextDrawSetString(playerid, TextMateriais_p[playerid][3], str);

	// nearby players //
	format(str, 150, "_~n~~n~~n~%d~n~", players_perto[playerid]);
	PlayerTextDrawSetString(playerid, InvInfo_p[playerid][6], str);

	// vest and helmet info //
	format(str, 150, "health~n~~n~");
	if(Colete[playerid][0] == 0) strcat(str, "_~n~~n~");
	else format(str, 150, "%sVest Lvl %d~n~~n~", str, Colete[playerid][0]);
	if(Capacete[playerid][0] == 0) strcat(str, "_~n~");
	else format(str, 150, "%sHelmet Lvl %d~n~", str, Capacete[playerid][0]);
	PlayerTextDrawSetString(playerid, InvInfo_p[playerid][7], str);

	format(str, 150, "%d~n~~n~", Vida[playerid]);
	if(Colete[playerid][0] == 0) strcat(str, "_~n~~n~");
	else format(str, 150, "%s%d~n~~n~", str, Colete[playerid][1]);
	if(Capacete[playerid][0] == 0) strcat(str, "_~n~");
	else format(str, 150, "%s%d~n~", str, Capacete[playerid][1]);
	PlayerTextDrawSetString(playerid, InvInfo_p[playerid][8], str);

	// XP and LEVEL info //
	format(str, 150, "~y~XP ~w~%d / %d", pInfo[playerid][pXPH], (pInfo[playerid][pLevel]*UPAR_LEVEL));
	PlayerTextDrawSetString(playerid, T_Rodape_p[playerid][0], str);

	// set cash string //
	format(str, 150, "~y~CASH ~w~%s", ConvertMoney(pInfo[playerid][pCash]));
	PlayerTextDrawSetString(playerid, T_Cash[playerid][0], str);
	PlayerTextDrawSetString(playerid, T_Cash[playerid][1], str);


	// salvar a conta do player //
	if(tempo_salvar_conta[playerid] <= 0) salvarplayer(playerid), tempo_salvar_conta[playerid] = 60;
    else tempo_salvar_conta[playerid] --;

    // zerar chat na sala de CS //
    if(Modo[playerid] == 3) for(new fd; fd<20; fd++) SendClientMessage(playerid, -1, "");

	// mostrar lobby quando sair de uma sala CS //
    if(Modo[playerid] == 0) if(SalaPlayer[playerid] == -1) if(mostrando_Lobby[playerid] == 0) mostrarLobby(playerid);

	// diminuir tempo de espera quando morrer //
	if(pInfo[playerid][pLobby] > 0) pInfo[playerid][pLobby] --;

	// diminuir cadeia //
	if(pInfo[playerid][pCadeia] > 0)
	{
		format(str, 500, "~w~%s~n~~r~Admin: ~y~%s~n~~g~~h~Time Remaining: ~b~~h~%s~n~", pInfo[playerid][pCadeiaMotivo], pInfo[playerid][pCadeiaAdmin], ConvertTime(pInfo[playerid][pCadeia]));
		PlayerTextDrawSetString(playerid, T_Punicao_p[playerid][0], str);
		pInfo[playerid][pCadeia]--;
		if(pInfo[playerid][pCadeia] <= 0)
		{
			pInfo[playerid][pCadeia] = 0;
			salvarplayer(playerid);
			mostrarLobby(playerid);
		}
	}


	// setar nome na cabeca do player //
	new pode = 0;
	new iidd[100];
	new iidd2[100];
	format(iidd, 100, "%d", playerid);
	format(iidd2, 100, "%s [%d]", Nome(playerid), playerid);
	if(invuneravel[playerid] > gettime()) pode = 1, format(str, 150, "{00ff00}INVULNERABLE {a1a1a1}%s", ConvertTime(invuneravel[playerid]-gettime()));
	else if(Player_AFK(playerid) != 0) pode = 1, format(str, 150, "%d\n{a1a1a1}AFK - %s", playerid, ConvertTime(Player_AFK(playerid)));
	else if(Morto[playerid] > 0) pode = 1, format(str, 150, "{ff0000}%d\n{a1a1a1}DYING", playerid);
	else if(ModoAdmin[playerid] == 1) pode = 1, format(str, 150, "%s [%d]\n{FFB6C1}STAFF", Nome(playerid), playerid);
	if(Reanimando[playerid] > 0) pode = 1, format(str, 150, "{ff0000}%d\n{00ff00}REVIVING", playerid);


	// verificacao de todos os players //
	players_perto[playerid] = 0;
    for(new i; i<MAX_PLAYERS; i++)
	{
	    if(IsValidDynamicMapIcon(Makers[playerid][i])) DestroyDynamicMapIcon_(Makers[playerid][i]);
	    if(!IsPlayerConnected(i)) continue;
	    if(i == playerid) continue;
		if(!Online(i)) continue;
	    if(IsPlayerNPC(i)) continue;

		// no modo Historia //
		if(Modo[playerid] == 1)
		{
			// hacking some player //
			if(hackeando_id[i] == playerid)
			{
				if(hackeando_tempo[i] > 0)
				{
					SetPlayerChatBubbleForPlayer(i, playerid, iidd2, 0x00ffffff, 500, 3500);
					format(str, 100, "~b~~h~~h~HACKING ~b~%d", hackeando_tempo[i]);
					GameTextForPlayer(i, str, 1500, 3);
					hackeando_tempo[i]--;
				}
				else
				{
					ms(i, 3, "Time is up, location closed!");
					hackeando_id[i] = -1;
					hackeando_tempo[i] = 0;
				}
			}
			else
			{
				// name above player's head //
				if(pode == 1)
				{
					if(BasePlayer(playerid) == BasePlayer(i) && BasePlayer(playerid) != -1)
					{
						new stry[150];
						if(ModoAdmin[playerid] == 1) format(stry, 150, "{FFB6C1}%s [%d]", Nome(playerid), playerid);
						if(Player_AFK(playerid) != 0) format(stry, 150, "%s [%d]\n{ffff00}AFK - %s", Nome(playerid), playerid, ConvertTime(Player_AFK(playerid)));
						if(Morto[playerid] > 0) format(stry, 150, "%s [%d]\n{a1a1a1}DYING", Nome(playerid), playerid);
						if(Reanimando[playerid] > 0) format(stry, 150, "%s [%d]\n{00ff00}REVIVING", Nome(playerid), playerid);
						if(invuneravel[playerid] > gettime()) format(stry, 150, "%s [%d]\n{00ff00}INVULNERABLE {a1a1a1}%s", Nome(playerid), playerid, ConvertTime(invuneravel[playerid]-gettime()));
						SetPlayerChatBubbleForPlayer(i, playerid, stry, -1, 500, 3500);
					}
					else SetPlayerChatBubbleForPlayer(i, playerid, str, -1, 15, 3500);
				}
				else if(BasePlayer(playerid) == -1) SetPlayerChatBubbleForPlayer(i, playerid, iidd, GetPlayerColor(playerid), 15, 3500);
				else
				{
					if(BasePlayer(playerid) == BasePlayer(i) && BasePlayer(playerid) != -1) SetPlayerChatBubbleForPlayer(i, playerid, iidd2, -1, 500, 3500);
					else SetPlayerChatBubbleForPlayer(i, playerid, iidd, GetPlayerColor(playerid), 15, 3500);
				}
			}


			// verificar posicao //
	        if(tv_player[i] != -1) continue;
	        GetPlayerPos(i, p[3], p[4], p[5]);
	        if(olhando_camera[i] != -1 || olhando_satelite[i] != 0)
	        {
	            // se tiver olhando camera ou satelite //
	            p[3] = pInfo[i][pX];
	            p[4] = pInfo[i][pY];
	            p[5] = pInfo[i][pZ];
	        }
			if(RC[i] != INVALID_VEHICLE_ID && GetPVarInt(i, "infinito") == 0)
			{
			    // se tiver em um RC remoto //
			    p[3] = pInfo[i][pX];
	            p[4] = pInfo[i][pY];
	            p[5] = pInfo[i][pZ];
			}

			// se tiver perto, contar como player perto //
			if(IsPlayerInRangeOfPoint(playerid, 150, p[3], p[4], p[5])) if(GetPlayerInterior(playerid) == GetPlayerInterior(i)) if(GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i)) players_perto[playerid] ++;

	        // verificacao de dano causado //
		    if(dano_causado_player[i] == playerid)
		    {
		        // barra de vida //
		        if(Vida[playerid] <= 0) PlayerTextDrawHide(i, DanoAtirouText[i][4]);
		        else PlayerTextDrawTextSize(i, DanoAtirouText[i][4], 116.4 + (Vida[playerid]*unis), 0.000000), PlayerTextDrawShow(i, DanoAtirouText[i][4]);
		        // barra de colete //
		        if(Colete[playerid][1] <= 0) PlayerTextDrawHide(i, DanoAtirouText[i][5]);
		        else PlayerTextDrawTextSize(i, DanoAtirouText[i][5], 116.4 + (Colete[playerid][1]*unis), 0.000000), PlayerTextDrawShow(i, DanoAtirouText[i][5]);
				// barra de capacete //
		        if(Capacete[playerid][1] <= 0) PlayerTextDrawHide(i, DanoAtirouText[i][6]);
		        else PlayerTextDrawTextSize(i, DanoAtirouText[i][6], 116.4 + (Capacete[playerid][1]*unis), 0.000000), PlayerTextDrawShow(i, DanoAtirouText[i][6]);
		        PlayerTextDrawShow(i, DanoAtirouText[i][3]);
		    }

		    // mostrar no mapa se for da mesma base ou se atirou por perto //
		    if(IsValidDynamicMapIcon(Makers[playerid][i])) DestroyDynamicMapIcon_(Makers[playerid][i]);

			if(hackeando_id[playerid] == i)
		    {
		        Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0x00ffffff, -1, -1, playerid, 500, MAPICON_LOCAL, -1,  0);
		    }
		    else
		    {
				if(BasePlayer(playerid) != -1)
				{
				    if(BasePlayer(playerid) == BasePlayer(i)) Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0xffffffff, GetPlayerVirtualWorld(i), GetPlayerInterior(i), playerid, 500, MAPICON_LOCAL, -1,  0);
					else if(flood_atirou[i] > gettime()) Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0xff0000ff, GetPlayerVirtualWorld(i), GetPlayerInterior(i), playerid, 100, MAPICON_LOCAL, -1,  0);
				}
				else if(flood_atirou[i] > gettime()) Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0xff0000ff, GetPlayerVirtualWorld(i), GetPlayerInterior(i), playerid, 100, MAPICON_LOCAL, -1,  0);
			}
		}

		// no modo CS //
		if(Modo[playerid] == 2)
		{
		    // mostrar da mesma cor para aliados //
		    GetPlayerPos(i, p[3], p[4], p[5]);
		    if(TimePlayer[playerid] == TimePlayer[i])
		    {
	            Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0xffffffff, GetPlayerVirtualWorld(i), GetPlayerInterior(i), playerid, 300, MAPICON_LOCAL, -1,  0);
	            SetPlayerChatBubbleForPlayer(i, playerid, iidd2, 0xffffffff, 500, 3500);
		    }
		    else if(flood_atirou[i] > gettime()) Makers[playerid][i] = CreateDynamicMapIcon(p[3], p[4], p[5], 0, 0xff0000ff, GetPlayerVirtualWorld(i), GetPlayerInterior(i), playerid, 100, MAPICON_LOCAL, -1,  0);
		}
	}


	// modo historia //
	if(Modo[playerid] == 1)
	{

	    // auto reanimando //
	    if(Reanimando[playerid] != 0)
	    {
	        Reanimando[playerid] ++;
	        if(Reanimando[playerid] == 100)
	        {
	            new sss1[150];
				new slot = GetPVarInt(playerid, "idrem");
		        Morto[playerid] = -1;
		        Morreu(playerid);
	        	Inventario[playerid][slot][inv_Unidades] --;
		        if(Inventario[playerid][slot][inv_Unidades] <= 0)
				{
					Inventario[playerid][slot][inv_ID] = 0;
		        	Inventario[playerid][slot][inv_Tipo] = 0;
		        }
		        format(sss1, 150, "You self-revived using a Medical Kit from your inventory.");
		        ms(playerid, 1, sss1);
	        }
	        else
	        {
	            // atualizar //
            	new Float:unid = (426.680664 - 209.799926)/100.0;
            	new Float:bar = 209.799926 + (unid*Reanimando[playerid]);
            	PlayerTextDrawTextSize(playerid, TextMorreu_p[playerid][0], bar, 5.0);
            	PlayerTextDrawShow(playerid, TextMorreu_p[playerid][0]);
	        }
	    }

		// verificar player para upar level //
		verificar_level(playerid);

	    // pegar a posicao do player //
	    GetPlayerPos(playerid, p[0], p[1], p[2]);

	    // atualizar /tv do player //
	    if(tv_player[playerid] != -1) mostrar_tv(playerid);

	    // verificar a lanterna do player //
		if(lanterna_player[playerid] == 1) if(!tem_item(playerid, 33)) retirar_lanterna(playerid);

		// verificar jbl //
	    if(jbl_player[playerid] != -1)
		{
		    new jj = jbl_player[playerid];
			if(JBL[jj][jbl_Existe] == 0)
			{
			    jbl_player[playerid] = -1;
				StopAudioStreamForPlayer(playerid);
			}
			else if(!IsPlayerInRangeOfPoint(playerid, JBL[jj][jbl_Distancia], JBL[jj][jbl_X], JBL[jj][jbl_Y], JBL[jj][jbl_Z]) || GetPlayerInterior(playerid) != JBL[jj][jbl_Interior] || GetPlayerVirtualWorld(playerid) != JBL[jj][jbl_Mundo])
	 		{
			    jbl_player[playerid] = -1;
				StopAudioStreamForPlayer(playerid);
			}
		}
		else
		{
		    for(new ii; ii<MAX_JBL; ii++)
		    {
		        if(JBL[ii][jbl_Existe] == 0) continue;
	            if(IsPlayerInRangeOfPoint(playerid, JBL[ii][jbl_Distancia], JBL[ii][jbl_X], JBL[ii][jbl_Y], JBL[ii][jbl_Z]) && GetPlayerInterior(playerid) == JBL[ii][jbl_Interior] && GetPlayerVirtualWorld(playerid) == JBL[ii][jbl_Mundo])
	            {
	                format(str, 150, "Listening to JBL Radio turned on by '%s'.", JBL[ii][jbl_Dono]);
	                if(!Comparar(JBL[ii][jbl_Dono], Nome(playerid))) ms(playerid, 3, str);
	                jbl_player[playerid] = ii;
	                PlayAudioStreamForPlayer(playerid, JBL[ii][jbl_Link], JBL[ii][jbl_X], JBL[ii][jbl_Y], JBL[ii][jbl_Z], JBL[ii][jbl_Distancia], 1);
					break;
	            }
		    }
	    }

	    // DIMINUIR SONO EM UMA CAMA //
	   	if(pInfo[playerid][pSono] > 0) if(cama_player[playerid] != -1) pInfo[playerid][pSono] --;

		// DIMINUIR FRIO PERTO DE FOGUEIRA //
	    if(pInfo[playerid][pFrio] > 0)
	    {
		    for(new fo; fo<MAX_FOGUEIRAS; fo++)
		    {
	            if(Fogueira[fo][f_Existe] == 0) continue;
	            if(Fogueira[fo][f_Vida] == 0) continue;
	            if(!IsPlayerInRangeOfPoint(playerid, 2, Fogueira[fo][f_X], Fogueira[fo][f_Y], Fogueira[fo][f_Z])) continue;
	            DiminuirFrio(playerid);
	            break;
		    }
	    }

	    // fazendo craft de algo //
	    if(craft_tipo[playerid] != 0)
	    {
	        new is = craft_id[playerid];
	        if(is >= 0)
	        {
		        if(craft_player[playerid] >= 9)
		        {
		            terminar_craft(playerid);
		            craft_tipo[playerid] = 0;
		            craft_player[playerid] = 0;
		        }
		        else
		        {
			        if(pInfo[playerid][pClasse] == 0) craft_player[playerid] += 2;
			        else craft_player[playerid] += 1;
			        if(craft_player[playerid] > 9) craft_player[playerid] = 9;
			        if(craft_tipo[playerid] == 1 ) SetPlayerAngleToPoint(playerid, Pedra[is][ar_X], Pedra[is][ar_Y]);
			        if(craft_tipo[playerid] == 2 ) SetPlayerAngleToPoint(playerid, Arvore[is][ar_X], Arvore[is][ar_Y]);
			        SetPlayerArmedWeapon(playerid, craft_arma[playerid]);
			        if(craft_player[playerid] > 0)
			        {
				        for(new fg; fg<craft_player[playerid]; fg++)
				        {
							TextDrawShowForPlayer(playerid, T_Craft[fg+1]);
				        }
			        }
		        }
	        }
	        else
	        {
		        terminar_craft(playerid);
		        craft_tipo[playerid] = 0;
		        craft_player[playerid] = 0;
	        }
	    }

	    // mostrando velocimetro normal //
	    if(mostrando_velocimetro[playerid] == 1)
	 	{
		    new Float:vida_carro;
		    new car = GetPlayerVehicleID(playerid);
		    if(GetVehicleModel(car) != 0)
		    {
			    GetVehicleHealth(car, vida_carro);
				new veh = Info_Veiculo[car];
				if(veh != -1)
				{
					format(str, 150, "%s~n~%d Liters~n~%d%%~n~%.0f%%~n~%01d KM/H",  
						NomeVeiculos[GetVehicleModel(car)-400],
						Veiculo[veh][v_Gasolina], Veiculo[veh][v_Bateria], vida_carro/10, GetPlayerSpeed(playerid));
				}

				PlayerTextDrawSetString(playerid, T_Velocimetro_p[playerid][0], str);
			    format(str, 150, "");
			    new velo = GetPlayerSpeed(playerid)/6;
			    if(velo > 30) velo = 30;
			    for(new pq; pq<velo; pq++)
			    {
			        strcat(str, "l");
			    }
			    PlayerTextDrawSetString(playerid, T_Velocimetro_p[playerid][1], str);
		    }
		}

		// mostrando velicimetro de RC //
		if(mostrando_velocimetro2[playerid] == 1)
		{
		    new Float:vida_carro;
		    new car = GetPlayerVehicleID(playerid);
		    if(GetVehicleModel(car) != 0)
		    {
			    GetVehicleHealth(car, vida_carro);
				format(str, 150, "%.0f%%", vida_carro/10);
				PlayerTextDrawSetString(playerid, T_Sinal_p[playerid][0], str);
			    format(str, 150, "");
				new Float:dist;
				GetPlayerPos(playerid, p[0], p[1], p[2]);
				GetDistance(dist, pInfo[playerid][pX],pInfo[playerid][pY],pInfo[playerid][pZ], p[0], p[1], p[2] );
			    new distancia = floatround(dist);

				if(GetPVarInt(playerid, "infinito") == 1 )
				{
				    strcat(str, "~g~~h~");
				    for(new a; a<10; a++) strcat(str, "i");
				    PlayerTextDrawSetString(playerid, T_Sinal_p[playerid][1], str);
				}
				else
				{
					if(distancia <= 200)
					{
					    new cont  = 200/10;
					    new cont2 = distancia/cont;

					    if((10-cont2) >= 7) strcat(str, "~g~~h~");
					    else if((10-cont2) >= 4) strcat(str, "~y~");
					    else strcat(str, "~r~");

						for(new a; a<(10-cont2); a++) strcat(str, "i");
					    PlayerTextDrawSetString(playerid, T_Sinal_p[playerid][1], str);
				    }
				    else
					{
					    ACInfo[playerid][acAirbreakTime] = gettime() + 5;
	        			ACInfo[playerid][acImmunity] = gettime() + 5;
					    ms(playerid, 0, "The signal was very weak, the vehicle was destroyed!");
					    DestroyVehicle(RC[playerid]);
					    SetCameraBehindPlayer(playerid);
				        RC[playerid] = INVALID_VEHICLE_ID;
				        if(IsValidDynamicActor(actor_player[playerid])) DestroyDynamicActor(actor_player[playerid]);
				        if(IsValidDynamic3DTextLabel(player3d[playerid])) DestroyDynamic3DTextLabel(player3d[playerid]);
					}
				}
			}
		}

	    // quando tiver de jetpack //
	    if(com_jetpack[playerid] == 1)
		{
		    if(GetPlayerSpecialAction(playerid) != 2)
		    {
		        com_jetpack[playerid] = 0;
		        if(mostrando_jetpack[playerid] == 1)
			    {
			        mostrando_jetpack[playerid] = 0;
		            TextDrawHideForPlayer(playerid, TextJet[0]);
			        TextDrawHideForPlayer(playerid, TextJet[1]);
		            PlayerTextDrawHide(playerid, TextJet_p[playerid][0]);
		            ClearActorAnimations(playerid);
			        SetPlayerSpecialAction(playerid, 0);
			    }
		    }
		    else
		    {
			    if(!tem_item(playerid, 12))
				{
					ms(playerid, 0, "You do not have a personal jetpack.");
					ClearActorAnimations(playerid);
					SetPlayerSpecialAction(playerid, 0);
				}
				else if(Haid() && ModoAdmin[playerid] == 0)
				{
					ms(playerid, 0, "You cannot use this item during Haid hours.");
					ClearActorAnimations(playerid);
					SetPlayerSpecialAction(playerid, 0);
				}
				else if(EmCombate(playerid))
				{
					ms(playerid, 0, "You cannot use this item while in combat.");
					ClearActorAnimations(playerid);
					SetPlayerSpecialAction(playerid, 0);
				}

			    else
			    {
				    new Float:bar = (( 79.359863 - 4.699975)/300) * floatround(JetPack[playerid]);
				    if(mostrando_jetpack[playerid] == 0)
				    {
				        mostrando_jetpack[playerid] = 1;
				        TextDrawShowForPlayer(playerid, TextJet[0]);
				        TextDrawShowForPlayer(playerid, TextJet[1]);
				        PlayerTextDrawTextSize(playerid, TextJet_p[playerid][0], 4.699975+bar, 0.0);
				        PlayerTextDrawShow(playerid, TextJet_p[playerid][0]);
				    }
				    else
				    {
		   				PlayerTextDrawTextSize(playerid, TextJet_p[playerid][0], 4.699975+bar, 0.0);
				        PlayerTextDrawShow(playerid, TextJet_p[playerid][0]);
				    }

				    if(ModoAdmin[playerid] == 0) JetPack[playerid] -=10;
				    if(JetPack[playerid] <= 0)
				    {
				        JetPack[playerid] = 0;
						ClearAnimations(playerid, 1);
						SetPlayerSpecialAction(playerid, 0);
						com_jetpack[playerid] = 0;
						ms(playerid, 0, "Jetpack's battery has unloaded.");
				    }
				    if(GetPlayerSpecialAction(playerid) != 2)
				    {
				        com_jetpack[playerid] = 0;
				    }
			    }
		    }
		}
		else
		{
		    if(mostrando_jetpack[playerid] == 1)
		    {
		        mostrando_jetpack[playerid] = 0;
	            TextDrawHideForPlayer(playerid, TextJet[0]);
		        TextDrawHideForPlayer(playerid, TextJet[1]);
	            PlayerTextDrawHide(playerid, TextJet_p[playerid][0]);
		    }

		    if(tem_jetpack(playerid))
		    {
			    if(JetPack[playerid] < 300)
			    {
			        JetPack[playerid] ++;
					if(JetPack[playerid] >= 300)
					{
					    JetPack[playerid] = 300;
					    ms(playerid, 3, "Your jetpack is 100 %% loaded.");
					}
			    }
		    }

		    if(GetPlayerSpecialAction(playerid) == 2)
		    {
		        com_jetpack[playerid] = 1;
		    }
		}

	    // se nao tiver afk //
	    if(Player_AFK(playerid) == 0)
		{
			pInfo[playerid][pJogado] ++;
			pInfo[playerid][pUpar] ++;
			pInfo[playerid][pVivo] ++;


			//SE TIVER EM UM VEICULO //
			if(IsPlayerInAnyVehicle(playerid))
		    {
				new cer = carro_ferro_velho(GetPlayerVehicleID(playerid));
		        if(cer != -1)
			    {
			        if(dialog_player[playerid] != DIALOG_MONTAR_CARRO)
			        {
						if(GetPlayerSpecialAction(playerid) != SPECIAL_ACTION_EXIT_VEHICLE)
						{
						    if(Barra[playerid][b_Acao] == 0)
						    {
						        if(sendo_montado(cer) == -1)
						        {
									dialog_montar_carro(playerid, cer);
								}
							}
						}
					}
			    }

				// se nao for um RC //
		        if(VeiculoRC(GetPlayerVehicleID(playerid)) == -1)
				{
		        	if(pInfo[playerid][pFrio] > 0) DiminuirFrio(playerid);
					if(pInfo[playerid][pSono] > 0) if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) pInfo[playerid][pSono] -= 2;
				}
		    }
		    else
			{
			    // pegar altura do terreno //
			    PegarAltura(p[0], p[1], p[2], 2);

			    // se ta na agua //
				if(Agua(p[2])) if(pInfo[playerid][pFrio] < 100) AlmentarFrio(playerid);

			    // se tiver chovendo //
		        else if(clima_server == 3 || clima_server == 5)
			    {
			        GetPlayerPos(playerid, p[3], p[4], p[5]);
			        if(olhando_camera[playerid] != -1 || olhando_satelite[playerid] != 0)
			        {
			            // se tiver olhando camera ou satelite //
			            p[3] = pInfo[playerid][pX];
			            p[4] = pInfo[playerid][pY];
			            p[5] = pInfo[playerid][pZ];
			        }
					if(RC[playerid] != INVALID_VEHICLE_ID && GetPVarInt(playerid, "infinito") == 0)
					{
					    // se tiver em um RC remoto //
					    p[3] = pInfo[playerid][pX];
			            p[4] = pInfo[playerid][pY];
			            p[5] = pInfo[playerid][pZ];
					}
			        if(p[2] > p[5]) if(pInfo[playerid][pFrio] < 100) AlmentarFrio(playerid);
			    }
		    }

			// menssagems aleatorioas do servidor //
	        if(pInfo[playerid][pConfig][2] == 0)
			{
				if(tempo_menssagem[playerid] >= 350)
				{
				    tempo_menssagem[playerid] = 0;
				    ms(playerid, 3, Menssagems[random(sizeof Menssagems)]);
				}
				else tempo_menssagem[playerid] ++;
			}

			// o que acontece a cada 1 minuto //
	        if(pInfo[playerid][pUpar] >= 60)
			{
			    if(TEMPORADA != 0)
			    {
				    // subir passe //
					if(PasseNivel[playerid] < MAX_PASSE)
					{
						if(PasseProgresso[playerid] < 180)
						{
						    PasseProgresso[playerid] ++;
						    if(PasseProgresso[playerid] == 180)
						    {
						        PasseProgresso[playerid] = 0;
						        PasseNivel[playerid] ++;

						        for(new ff; ff<MAX_PASSE; ff++)
						        {
						            if(ff < PasseNivel[playerid])
						            {
							            if(PremioRecolhidoFree[playerid][ff] == -1) PremioRecolhidoFree[playerid][ff] = 0;
							            if(PremioRecolhidoPago[playerid][ff] == -1) PremioRecolhidoPago[playerid][ff] = 0;
						            }
						        }

								ms(playerid, 3, "You climbed a new level in the season pass!");
						    }
						}
					}
				}

				// upar base do player //
			    new b = BasePlayer(playerid);
			    if(b != -1)
			    {
			        Base[b][base_XP] ++;
			        verificar_level_base(b);
			    }

				// almentar sono do player fora da cama  //
			    if(cama_player[playerid] == -1)
				{
					if(pInfo[playerid][pSono] < 100)
					{
						pInfo[playerid][pSono] ++;
					}
				}

				// classe de medico almentar vida //
			    if(Vida[playerid] < 100)
				{
					if(pInfo[playerid][pClasse] == 1)
					{
						SetarVida(playerid, Vida[playerid]+1);
					}
				}

				// alertar se tiver com muita fome ou sede // //
			    if(pInfo[playerid][pFome] > 150)
			    {
			        Dano(playerid, -1, 1.0, -555, 1);
			        ms(playerid, 4, "You are very hungry and lost 1 health!");
			    }
			    else if(pInfo[playerid][pSede] > 150)
			    {
			        Dano(playerid, -1, 1.0, -666, 1);
			        ms(playerid, 4, "You are very thirsty and lost 1 health!");
			    }

				// almentar fome e sede //
			    if(pInfo[playerid][pFome] < 200) pInfo[playerid][pFome] ++;
			    if(pInfo[playerid][pFome] > 200) pInfo[playerid][pFome] = 200;
			    if(pInfo[playerid][pSede] < 200) pInfo[playerid][pSede] ++;
			    if(pInfo[playerid][pSede] > 200) pInfo[playerid][pSede] = 200;

			    // diminuir frio conforme temperatura do servidor //
				if(pInfo[playerid][pFrio] > 0 ) DiminuirFrio(playerid);

				// se ele tiver com muito sono, desmaiaro player //
				if(pInfo[playerid][pSono] > 90 && cama_player[playerid] == -1)
				{
					if(!IsPlayerInAnyVehicle(playerid))
					{
						ApplyAnimation(playerid, "CRACK" , "CRCKIDLE2", 4.1, 1, 1, 1, 0, 15000, 1);
						GameTextForPlayer(playerid, "~g~~h~~h~YOU FAINTED FROM SLEEPINESS~N~~W~PLEASE WAIT", 15000, 3);
						ms(playerid, 4, "You are very sleepy and have just fainted!");
						pInfo[playerid][pSono] -= 45;
						if(pInfo[playerid][pSono] < 0) pInfo[playerid][pSono] = 0;
					}
				}


			    // caso contrario, verificar o frio do mesmo //
				else if(pInfo[playerid][pFrio] > 85)
			    {
			        Dano(playerid, -1, 1.0, -777, 1);
			        ms(playerid, 4, "You are very cold and lost 1 life!");
			    }
				pInfo[playerid][pXPH]++;
				pInfo[playerid][pUpar] = 0;
			}
	    }

	    // verificar se ta em zona de Gas //
	    if(Morto[playerid] == 0)
		{
		    new ta = 0;
		    if(tv_player[playerid] == -1)
		    {
		        // verificar posicao do player atual //
		        GetPlayerPos(playerid, p[3], p[4], p[5]);
		        if(olhando_camera[playerid] != -1 || olhando_satelite[playerid] != 0)
		        {
		            // se tiver olhando camera ou satelite //
		            p[3] = pInfo[playerid][pX];
		            p[4] = pInfo[playerid][pY];
		            p[5] = pInfo[playerid][pZ];
		        }
				if(RC[playerid] != INVALID_VEHICLE_ID && GetPVarInt(playerid, "infinito") == 0)
				{
				    // se tiver em um RC remoto //
				    p[3] = pInfo[playerid][pX];
		            p[4] = pInfo[playerid][pY];
		            p[5] = pInfo[playerid][pZ];
				}


			    // verificar zonas de gas //
				for(new a; a<sizeof Area; a++)
			    {
			        new z = Area[a][area_GZ];
			        if(z != 0)
			        {
			            // se tiver dentro do gas //
			            if(p[3] >= (gz[z][gzX]-(gz[z][gzL]/2)) && p[3] <= (gz[z][gzX]+(gz[z][gzL]/2)))
			            {
	                  		if(p[4] >= (gz[z][gzY]-(gz[z][gzA]/2)) && p[4] <= (gz[z][gzY]+(gz[z][gzA]/2)))
			            	{
			            	    // diminuir mascara //
			            	    if(Mascara[playerid] > 0)
							    {
							        Mascara[playerid] -= 1;
							        if(Mascara[playerid] <= 0)
									{
										Mascara[playerid] = 0;
							        	Setar_Mascara(playerid, Mascara[playerid]);
							        }
							    }
							    else Dano(playerid, -1, 2.0, -1, 0);
							    ta = 1;
		                    }
						}
		            }
			    }
		    }

			// se tiver em uma zona de gas //
		    if(ta == 1)
		    {
				// se nao tiver uma mascara //
		        if(Mascara[playerid] == 0)
		        {
		            // mostrar text do gas //
		            if(mostrando_dano_gas[playerid] == 0)
		            {
		                mostrando_dano_gas[playerid] = 1;
			        	TextDrawShowForPlayer(playerid, TextGas[0]);
						TextDrawShowForPlayer(playerid, TextGas[1]);
						TextDrawShowForPlayer(playerid, TextGas[2]);
					}

					// esconder mascara se tiver mostrando //
					if(mostrando_mascara[playerid] == 1)
				    {
				        mostrando_mascara[playerid] = 0;
				        TextDrawHideForPlayer(playerid, TextMascara[0]);
						TextDrawHideForPlayer(playerid, TextMascara[1]);
						PlayerTextDrawHide(playerid, TextMascara_p[playerid][0]);
				    }
				}

				// se tiver de mascara //
				if(Mascara[playerid] > 0)
			    {
			        // esconder text do gas //
			        if(mostrando_dano_gas[playerid] == 1)
		            {
		                mostrando_dano_gas[playerid] = 0;
				        TextDrawHideForPlayer(playerid, TextGas[0]);
						TextDrawHideForPlayer(playerid, TextGas[1]);
						TextDrawHideForPlayer(playerid, TextGas[2]);
					}

					// atualizar a barrinha do gas //
					new Float:bar = (( 79.359863 - 4.699975)/300) * floatround(Mascara[playerid]);
				    if(mostrando_mascara[playerid] == 0)
				    {
				        mostrando_mascara[playerid] = 1;
				        TextDrawShowForPlayer(playerid, TextMascara[0]);
				        TextDrawShowForPlayer(playerid, TextMascara[1]);
				        PlayerTextDrawTextSize(playerid, TextMascara_p[playerid][0], 4.699975+bar, 0.0);
				        PlayerTextDrawShow(playerid, TextMascara_p[playerid][0]);
				    }
				    else
				    {
	       				PlayerTextDrawTextSize(playerid, TextMascara_p[playerid][0], 4.699975+bar, 0.0);
				        PlayerTextDrawShow(playerid, TextMascara_p[playerid][0]);
				    }
	   			}
		    }
		    else
		    {
		        if(mostrando_dano_gas[playerid] == 1)
		    	{
		    	    mostrando_dano_gas[playerid] = 0;
		        	TextDrawHideForPlayer(playerid, TextGas[0]);
					TextDrawHideForPlayer(playerid, TextGas[1]);
					TextDrawHideForPlayer(playerid, TextGas[2]);
				}
				if(mostrando_mascara[playerid] == 1)
			    {
			        mostrando_mascara[playerid] = 0;
			        TextDrawHideForPlayer(playerid, TextMascara[0]);
					TextDrawHideForPlayer(playerid, TextMascara[1]);
					PlayerTextDrawHide(playerid, TextMascara_p[playerid][0]);
			    }
		    }
	    }

	    // se tiver em uma cadeira //
	    if(cadeira_player[playerid] != -1)
	    {
	        new i = cadeira_player[playerid];
	        if(Obj[i][obj_Existe] == 0)
	        {
	            cadeira_player[playerid] = -1;
	            ClearAnimations(playerid);
	        }
	        else if(!IsPlayerInRangeOfPoint(playerid, 2, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z]))
	        {
		        cadeira_player[playerid] = -1;
		        ClearAnimations(playerid);
         	}
	    }

	    // SE TIVER EM UM ACAMA //
	    if(cama_player[playerid] != -1)
	    {
	        new i = cama_player[playerid];
	        if(Obj[i][obj_Existe] == 0)
	        {
	    		cama_player[playerid] = -1;
	    		ClearAnimations(playerid);
	        }
	        else if(!IsPlayerInRangeOfPoint(playerid, 4, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z]))
	        {
		        cama_player[playerid] = -1;
    			ClearAnimations(playerid);
         	}
	    }


	    // se o gps ta ligado //
	    if(gps_player[playerid] == 1)
	    {
	        if(player_gps[playerid] <= 0)
	        {
	            gps_player[playerid] = 0;
	            mostrando_gps[playerid] = 0;
		        TextDrawHideForPlayer(playerid, TextGPS[0]);
				TextDrawHideForPlayer(playerid, TextGPS[1]);
				PlayerTextDrawHide(playerid, TextGPS_p[playerid][0]);
				ms(playerid, 0, "The GPS battery has unloaded.");
				GZ_MostrarGzPlayer(playerid, GZ_PRETA);
	        }
	        else
	        {
		        if(mostrando_gps[playerid] == 0)
		        {
			        mostrando_gps[playerid] = 1;
		        	TextDrawShowForPlayer(playerid, TextGPS[0]);
					TextDrawShowForPlayer(playerid, TextGPS[1]);
					new Float:bar = (( 79.359863 - 4.699975)/100) * floatround(player_gps[playerid]);
       				PlayerTextDrawTextSize(playerid, TextGPS_p[playerid][0], 4.699975+bar, 0.0);
			        PlayerTextDrawShow(playerid, TextGPS_p[playerid][0]);
				}
				else
			    {
					new Float:bar = (( 79.359863 - 4.699975)/100) * floatround(player_gps[playerid]);
       				PlayerTextDrawTextSize(playerid, TextGPS_p[playerid][0], 4.699975+bar, 0.0);
			        PlayerTextDrawShow(playerid, TextGPS_p[playerid][0]);
			    }
			    if(ModoAdmin[playerid] == 0) player_gps[playerid] --;
		    }
	    }
	    else
	    {
	        if(tem_item(playerid, 108))
	        {
		        if(player_gps[playerid] < 100)
		        {
			        if(player_gps[playerid] == 99) ms(playerid, 3, "Your GPS is 100 %% loaded.");
					player_gps[playerid] ++;
				}
				if(mostrando_gps[playerid] == 1)
			    {
			        mostrando_gps[playerid] = 0;
			        TextDrawHideForPlayer(playerid, TextGPS[0]);
					TextDrawHideForPlayer(playerid, TextGPS[1]);
					PlayerTextDrawHide(playerid, TextGPS_p[playerid][0]);
			    }
		    }
	    }

	    // verificar zombies por perto //
	    if(ModoAdmin[playerid] == 0)
	    {
	        if(GetPlayerInterior(playerid) == 0 && GetPlayerVirtualWorld(playerid) == 0 )
	        {
			    for(new iz; iz<MAX_ZOMBIES; iz++)
				{
				    if(Zombie[iz][z_Existe] == 1)
				    {
				        if(Zombie[iz][z_Spawn] == 0)
				        {
				            if(!IsPlayerInRangeOfPoint(playerid, 65, Zombie[iz][z_X], Zombie[iz][z_Y], Zombie[iz][z_Z])) continue;
					        if(IsValidDynamicActor(Zombie[iz][z_Actor])) DestroyDynamicActor_(Zombie[iz][z_Actor]);
					        new nomedele[MAX_PLAYER_NAME];
							format(nomedele, MAX_PLAYER_NAME, "Zombie_%d", iz );
							Zombie[iz][z_Zombie] = INVALID_PLAYER_ID;
							Zombie[iz][z_Zombie] = FCNPC_Create(nomedele);
							if(Zombie[iz][z_Zombie] != INVALID_PLAYER_ID)
							{
								Zombie[iz][z_Spawn] = 1;
								ID_Zombie[Zombie[iz][z_Zombie]] = iz;
								FCNPC_Spawn(Zombie[iz][z_Zombie], Zombie[iz][z_Skin], Zombie[iz][z_X], Zombie[iz][z_Y], Zombie[iz][z_Z]);
							}
							else print("[Zombie] Number of players hit, the zombie was not created!");
							break;
						}
					}
				}
			}
		}

	}
	else
	{
	    // voltar aki //
	    if(invaberto[playerid] != 0) fecharinv(playerid);
	    if(Modo[playerid] == 0) SelectTextDraw_(playerid, 0x00ffffff);

	    // coisas por perto //
	    if(mostrando_acao[playerid] == 1)
	    {
	        mostrando_acao[playerid] = 0;
	        TextDrawHideForPlayer(playerid, T_Acao_perto[0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][1]);
	    }

	    // fechar barrinha do jetpack //
	    if(mostrando_jetpack[playerid] == 1)
	    {
	        mostrando_jetpack[playerid] = 0;
            TextDrawHideForPlayer(playerid, TextJet[0]);
	        TextDrawHideForPlayer(playerid, TextJet[1]);
            PlayerTextDrawHide(playerid, TextJet_p[playerid][0]);
	    }

	    // se tiver hackeando alguem //
	    if(hackeando_id[playerid] != -1)
        {
            hackeando_id[playerid] = -1;
		    hackeando_tempo[playerid] = 0;
		}

	    // se o gps ta ligado //
	    if(gps_player[playerid] == 1)
	    {
	        gps_player[playerid] = 0;
            mostrando_gps[playerid] = 0;
	        TextDrawHideForPlayer(playerid, TextGPS[0]);
			TextDrawHideForPlayer(playerid, TextGPS[1]);
			PlayerTextDrawHide(playerid, TextGPS_p[playerid][0]);
			GZ_MostrarGzPlayer(playerid, GZ_PRETA);
	    }

		// tirar da cadeira ou cama //
		if(cama_player[playerid] != -1) cama_player[playerid] = -1;
		if(cadeira_player[playerid] != -1) cadeira_player[playerid] = -1;

		// textdraw do gas //
		if(mostrando_dano_gas[playerid] == 1)
        {
            mostrando_dano_gas[playerid] = 0;
        	TextDrawHideForPlayer(playerid, TextGas[0]);
			TextDrawHideForPlayer(playerid, TextGas[1]);
			TextDrawHideForPlayer(playerid, TextGas[2]);
		}

		// esconder mascara se tiver mostrando //
		if(mostrando_mascara[playerid] == 1)
	    {
	        mostrando_mascara[playerid] = 0;
	        TextDrawHideForPlayer(playerid, TextMascara[0]);
			TextDrawHideForPlayer(playerid, TextMascara[1]);
			PlayerTextDrawHide(playerid, TextMascara_p[playerid][0]);
	    }
	}


	// no modo CS //
	if(Modo[playerid] == 2)
	{
	    if(mostrando_Lobby[playerid] == 1) esconderLobby(playerid);
    	if(mostrando_info[playerid] == 1) esconderinfo(playerid);
    	if(mostrando_info2[playerid] == 0) mostrarinfo2(playerid);
        new a = SalaPlayer[playerid];
        new timee = Sala[a][sala_Tempo1]-gettime();
        if(timee < 0) timee = 0;
        format(str, 150, "~w~Round: ~g~~h~~h~%d ~y~- %d~n~~w~Time: ~y~%s~n~~b~~h~Blue Team ~w~%d~n~~r~~h~Red Team ~w~%d~n~~n~~w~Killed: ~y~%d~n~~w~Died: ~y~%d~n~", 
		Sala[a][sala_Round]+1, Sala[a][sala_Rounds], ConvertTime(timee), 
		Sala[a][sala_PlacarB], Sala[a][sala_PlacarR], SalaKills[playerid], SalaMortes[playerid]);
		PlayerTextDrawSetString(playerid, InvInfo_p[playerid][5], str);
		PlayerTextDrawShow(playerid, InvInfo_p[playerid][3]);
		PlayerTextDrawShow(playerid, InvInfo_p[playerid][4]);
		PlayerTextDrawShow(playerid, InvInfo_p[playerid][5]);
	}

	Streamer_Update(playerid);
	return 1;
}

SlotsVaziosLobby(playerid)
{
	new cont;
	if(!Online(playerid)) return 0;
	for(new i; i<MAX_LOBBY; i++)
	{
	    if(Inventario_Lobby[playerid][i][inv_ID] == 0)
	    {
	        cont++;
	    }
	}
	return cont;
}

SlotsVazios(playerid)
{
	new cont;
	if(!Online(playerid)) return 0;
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 0)
	    {
	        cont++;
	    }
	}
	return cont;
}

AddInv(playerid, id_item, unidades_item, tipo_item=-1)
{
    if(!Online(playerid)) return 0;
    if(id_item == -1) return 0;
    if(tipo_item == -1) tipo_item =  Itens[id_item][item_Tipo];

	if(Itens[id_item][item_Combinavel] == 1)
	{
        for(new ii; ii<MAX_SLOTS; ii++)
		{
		    if(Inventario[playerid][ii][inv_ID] == id_item)
		    {
		        if(Inventario[playerid][ii][inv_Tipo] == tipo_item)
		    	{
			        Inventario[playerid][ii][inv_Unidades] += unidades_item;
			        return 1;
		        }
	        }
	    }
	}

    for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 0)
	    {
	        Inventario[playerid][i][inv_ID] = id_item;
	        Inventario[playerid][i][inv_Unidades] = unidades_item;
	        Inventario[playerid][i][inv_Tipo] = tipo_item;
	        return 1;
        }
    }
	return 1;
}


AddInvLobby(playerid, id_item, unidades_item, tipo_item=-1)
{
    if(!Online(playerid)) return 0;
    if(id_item == -1) return 0;
    if(tipo_item == -1) tipo_item =  Itens[id_item][item_Tipo];
    for(new i; i<MAX_LOBBY; i++)
	{
	    if(Inventario_Lobby[playerid][i][inv_ID] == 0)
	    {
	        Inventario_Lobby[playerid][i][inv_ID] = id_item;
	        Inventario_Lobby[playerid][i][inv_Unidades] = unidades_item;
	        Inventario_Lobby[playerid][i][inv_Tipo] = tipo_item;
	        Inventario_Lobby[playerid][i][inv_Visto] = 0;
	        return 1;
        }
    }
	return 1;
}

AddInv2(playerid, id_item, unidades_item, tipo_item=-1)
{
    if(!Online(playerid)) return 0;
    if(id_item == -1) return 0;
    if(tipo_item == -1) tipo_item =  Itens[id_item][item_Tipo];
    for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == 0)
	    {
	        Inventario[playerid][i][inv_ID] = id_item;
	        Inventario[playerid][i][inv_Unidades] = unidades_item;
	        Inventario[playerid][i][inv_Tipo] = tipo_item;
	        return 1;
        }
    }
	return 1;
}


UnidadesInv(playerid, id_item, tipo_item=-1)
{
	new cont;
	if(!Online(playerid)) return 0;
	if(tipo_item == -1) tipo_item =  Itens[id_item][item_Tipo];

	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == id_item)
	    {
	        if(Inventario[playerid][i][inv_Tipo] == tipo_item)
	    	{
	        	cont += Inventario[playerid][i][inv_Unidades];
	        }
	    }
	}
	return cont;
}

consumir_inv(playerid, item, unids)
{
	new quant = unids;
    for(new ii; ii<MAX_SLOTS; ii++)
	{
	    if(Inventario[playerid][ii][inv_ID] == item)
	    {
			if(Inventario[playerid][ii][inv_Unidades] >= quant)
			{
			    Inventario[playerid][ii][inv_Unidades] -= quant;
			    if(Inventario[playerid][ii][inv_Unidades] <= 0)
			    {
			        Inventario[playerid][ii][inv_ID] = 0;
			        Inventario[playerid][ii][inv_Unidades] = 0;
			        Inventario[playerid][ii][inv_Tipo] = 0;
			        salvarplayer(playerid);
			        return 1;
			    }
			}
			else
			{
			    quant -= Inventario[playerid][ii][inv_Unidades];
			    Inventario[playerid][ii][inv_ID] = 0;
		        Inventario[playerid][ii][inv_Unidades] = 0;
		        Inventario[playerid][ii][inv_Tipo] = 0;
				if(quant <=0 )
				{
					salvarplayer(playerid);
					return 1;
				}
			}
		}
	}
	return 1;
}

tem_item_id(playerid, id)
{
	for(new i; i<MAX_SLOTS; i++)
	{
	    if(Inventario[playerid][i][inv_ID] == id)
	    {
			return i;
	    }
	}
	return -1;
}

municao_id(slot)
{
	new teste;
	if(slot == 2) teste = 62;
	if(slot == 3) teste = 63;
	if(slot == 4) teste = 64;
	if(slot == 5) teste = 65;
	if(slot == 6) teste = 66;
	return teste;
}



mostrar_objetos_proximos(playerid)
{
	new cont;
	new Float:posp[3];
	GetPlayerPos(playerid, posp[0], posp[1], posp[2]);
	new Float:dis;
	new portaa[100];
	new linha[200];
	String_Gigante[0] = EOS;

	ObjetosPerto[playerid][0][0] = -1;
	strcat(String_Gigante, "Objeto\tDistancia\n");

	// portoes perto //
	for(new p; p<MAX_PORTOES; p++)
	{
	    if(cont >= 50) break;
	    if(Portao[p][portao_Existe] == 1)
	    {
	       if(IsPlayerInRangeOfPoint(playerid, 4, Portao[p][portao_X1], Portao[p][portao_Y1], Portao[p][portao_Z1]))
			{
				if(Portao[p][portao_Modelo] == 2930) format(portaa, 100, "Small Gate");
				if(Portao[p][portao_Modelo] == 980) format(portaa, 100, "Large Gate");
				GetDistance(dis, posp[0], posp[1], posp[2], Portao[p][portao_X1], Portao[p][portao_Y1], Portao[p][portao_Z1]);
				format(linha, 200, "{ffffff}%s\t{a1a1a1}%.0f Meters\n", portaa, dis);
				strcat(String_Gigante, linha);
				ObjetosPerto[playerid][0][cont] = p;
				ObjetosPerto[playerid][1][cont] = 0;
				cont++;
			}

	    }
	}

	// caixas perto //
	for(new c; c<MAX_CAIXAS; c++)
	{
	    if(cont >= 50) break;
	    if(Caixa[c][caixa_Existe] == 1)
		{
			if(IsPlayerInRangeOfPoint(playerid, 3, Caixa[c][caixa_X], Caixa[c][caixa_Y], Caixa[c][caixa_Z]))
			{
				GetDistance(dis, posp[0], posp[1], posp[2], Caixa[c][caixa_X], Caixa[c][caixa_Y], Caixa[c][caixa_Z]);
				format(linha, 200, "{ffffff}%s\t{a1a1a1}%.0f Meters\n", "Item Box", dis);
				strcat(String_Gigante, linha);
				ObjetosPerto[playerid][0][cont] = c;
				ObjetosPerto[playerid][1][cont] = 1;
				cont++;
			}
		}

	}

	/*
	//  objetos perto  //
	for(new i; i<MAX_OBJETOS; i++)
	{
	    if(cont >= 50) break;
	    if(Obj[i][obj_Existe] == 1)
	    {
	        if(IsPlayerInRangeOfPoint(playerid, 6, Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z]))
	        {
	            GetDistance(dis, posp[0], posp[1], posp[2], Obj[i][obj_X], Obj[i][obj_Y], Obj[i][obj_Z]);
	            format(linha, 200, "{ffffff}%s\t{a1a1a1}%.0f Metros\n", Objetos[Obj[i][obj_ID]][obj_Nome], dis);
                strcat(String_Gigante, linha);
	        	ObjetosPerto[playerid][0][cont] = i;
	        	ObjetosPerto[playerid][1][cont] = 2;
	            cont++;
	        }
	    }
	}
	*/

	ShowPlayerDialog_(playerid, DIALOG_COLOCAR_EXPLOSIVO, DIALOG_STYLE_TABLIST_HEADERS, "Nearby Things", String_Gigante, "Install", "Cancel");

	return 1;
}


perto_player(playerid)
{
	if(!Online(playerid)) return 0;
 	if(Modo[playerid] != 1 || Morto[playerid] != 0 || invaberto[playerid] != 0 || mostrando_arma[playerid] != 0 ||
 	dialog_player[playerid] != -1 || mostrando_portamalas[playerid] != -1 || Barra[playerid][b_Acao] != 0)
 	{
 	    if(mostrando_acao[playerid] == 1)
	    {
	        mostrando_acao[playerid] = 0;
	        TextDrawHideForPlayer(playerid, T_Acao_perto[0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][1]);
	    }
 	    return 0;
 	}

	new id = -1;
	new tipo = -1;
	new Float:pos[4];

	// perto de bau de loot //
	if(id == -1)
	{
	    if(GetPlayerInterior(playerid) == 0)
		{
			for(new i; i<MAX_LOOT; i++)
			{
				if(Loot[i][loot_Existe] == 1)
				{
				    if(IsPlayerInRangeOfPoint(playerid, 2.5, Loot[i][loot_X], Loot[i][loot_Y], Loot[i][loot_Z]))
				    {
						id = i;
						tipo = 0;
						break;
				    }
				}
			}
		}
	}

	// perto de porta malas //
	if(id == -1)
	{
	    if(GetPlayerInterior(playerid) == 0)
		{
	        for(new i; i<MAX_VEHICLES; i++)
	        {
	            if(GetVehicleModel(i) != 0)
	            {
	                if(Info_Veiculo[i] != -1)
	                {
	                	GetVehiclePos(i, pos[0], pos[1], pos[2]);
						GetVehicleZAngle(i, pos[3]);
					    if(IsPlayerInRangeOfPoint(playerid, 5.0, pos[0], pos[1], pos[2]))
				        {
					        PegarFrente(pos[0], pos[1], pos[3], 2.5);
					        if(IsPlayerInRangeOfPoint(playerid, 2.0, pos[0], pos[1], pos[2]))
							{
							    id = Info_Veiculo[i];
							    tipo = 1;
								break;
							}
					    }
					}
	            }
	        }
	    }
	}


	// perto de player ferido //
	if(id == -1)
	{
	    for(new i; i<MAX_PLAYERS; i++)
	    {
	        if(playerid == i) continue;
	        if(Online(i))
	        {
	            if(Morto[i] != 0)
	            {
		            if(GetPlayerInterior(playerid) == GetPlayerInterior(i))
		            {
			            if(GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i))
			            {
			                GetPlayerPos(i, pos[0], pos[1], pos[2]);
				            if(IsPlayerInRangeOfPoint(playerid, 2, pos[0], pos[1], pos[2]))
				            {

				                if(aliados(playerid, i))
								{
								    if(Reanimando[i] == 0)
								    {
										tipo = 2;
										id = i;
										break;
									}
								}
				                else
								{
								    id = i;
									tipo = 4;
									break;
								}
				            }
			            }
		            }
	            }
	        }
	    }
	}

	// perto de loot //
	if(id == -1)
	{
		for(new i; i<MAX_ITENS; i++)
		{
	        if(Item[i][item_Existe] == 1)
	        {
	            if(GetPlayerInterior(playerid) == Item[i][item_Interior])
	            {
                    if(GetPlayerVirtualWorld(playerid) == Item[i][item_Mundo])
	            	{
	            	    if(IsPlayerInRangeOfPoint(playerid, 4, Item[i][item_X], Item[i][item_Y], Item[i][item_Z]))
	            	    {
	            	        id = i;
						    tipo = 3;
							break;
	            	    }
	                }
	            }
	        }
	    }
	}


	if(id != -1)
	{
	    new sss1[150];
	    new sss2[150];

	    // se tiver perto de bau de loot //
	    if(tipo == 0)
	    {
			format(sss1, 150, "LOOT BOX");
            format(sss2, 150, "~w~Press ~h~F ~w~or ~h~ENTER ~w~to~n~see what's inside");
	    }

	    // tiver perto de porta malas //
	    if(tipo == 1)
	    {
            format(sss1, 150, "TRUNK");
            format(sss2, 150, "~w~Press ~h~H ~w~to~n~access");
	    }

	    // tiver perto de player ferido aliado //
	    if(tipo == 2)
	    {
            format(sss1, 150, "WOUNDED PLAYER");
            format(sss2, 150, "~w~Press ~h~H ~w~to~n~save %s", Nome(id));
	    }

	    // tiver perto de loot no chao //
	    if(tipo == 3)
	    {
            format(sss1, 150, "ITEM ON GROUND");
            format(sss2, 150, "~w~Press ~h~F ~w~or ~h~ENTER ~w~to~n~take");
	    }

	    // tiver perto de player ferido inimigo //
	    if(tipo == 4)
	    {
            format(sss1, 150, "WOUNDED ENEMY");
            format(sss2, 150, "~w~Press ~h~H ~w~to~n~finish this player");
	    }

	    PlayerTextDrawSetString(playerid, T_Acao_perto_p[playerid][0], sss1);
		PlayerTextDrawSetString(playerid, T_Acao_perto_p[playerid][1], sss2);
	    if(mostrando_acao[playerid] == 0)
	    {
	        mostrando_acao[playerid] = 1;
	        // mostrar textdraws //
	        TextDrawShowForPlayer(playerid, T_Acao_perto[0]);
	        PlayerTextDrawShow(playerid, T_Acao_perto_p[playerid][0]);
	        PlayerTextDrawShow(playerid, T_Acao_perto_p[playerid][1]);
	    }
	}
	else
	{
	    if(mostrando_acao[playerid] == 1)
	    {
	        mostrando_acao[playerid] = 0;
	        // esconder textdraws //
	        TextDrawHideForPlayer(playerid, T_Acao_perto[0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][0]);
	        PlayerTextDrawHide(playerid, T_Acao_perto_p[playerid][1]);
	    }
	}

	return 1;
}

mostrar_menu(playerid, id)
{
	new sss[300];
	menu_id[playerid] = id;
	if(mostrando_menu[playerid] == 0)
	{
	    mostrando_menu[playerid] = 1;
	    escolhendo_menu[playerid] = 0;
	    pagina_menu[playerid] = 0;
	    for(new i; i<sizeof T_Menu; i++) TextDrawShowForPlayer(playerid, T_Menu[i]);
	    SelectTextDraw(playerid, 0x00ffffff);
	}

	// pagina //
	new pags = paginas(7, max_menu[playerid]);
	format(sss, 300, "%d / %d", pagina_menu[playerid]+1, pags);
	PlayerTextDrawSetString(playerid, T_Menu_p[playerid][11], sss);
	PlayerTextDrawShow(playerid, T_Menu_p[playerid][11]);

	// nome menu //
	PlayerTextDrawSetString(playerid, T_Menu_p[playerid][0], nome_menu[playerid]);
	PlayerTextDrawShow(playerid, T_Menu_p[playerid][0]);

	// botao menu //
	PlayerTextDrawSetString(playerid, T_Menu_p[playerid][1], botao_menu[playerid]);
	PlayerTextDrawShow(playerid, T_Menu_p[playerid][1]);

	for(new m; m<7; m++)
	{
	    new i = m+(pagina_menu[playerid]*7);
	    if(i < max_menu[playerid])
	    {
	        if(i == escolhendo_menu[playerid])
	        {
                PlayerTextDrawSetString(playerid, T_Menu_p[playerid][3], Menu[playerid][i][menu_Info]);
				PlayerTextDrawShow(playerid, T_Menu_p[playerid][3]);
				PlayerTextDrawSetPreviewModel(playerid, T_Menu_p[playerid][2], Menu[playerid][i][menu_Modelo]);
				PlayerTextDrawShow(playerid, T_Menu_p[playerid][2]);
	            PlayerTextDrawBoxColor(playerid, T_Menu_p[playerid][m+4], 0x00ffff50);
	        }
	        else PlayerTextDrawBoxColor(playerid, T_Menu_p[playerid][m+4], -245);
	        PlayerTextDrawSetString(playerid, T_Menu_p[playerid][m+4], Menu[playerid][i][menu_Nome]);
	        PlayerTextDrawShow(playerid, T_Menu_p[playerid][m+4]);
	    }
	    else PlayerTextDrawHide(playerid, T_Menu_p[playerid][m+4]);
	}

	return 1;
}

fechar_menu(playerid, con=0)
{
	if(con == 0) CancelSelectTextDraw(playerid);
    mostrando_menu[playerid] = 0;
	for(new i; i<sizeof T_Menu; i++) TextDrawHideForPlayer(playerid, T_Menu[i]);
	for(new ii; ii<12; ii++) PlayerTextDrawHide(playerid, T_Menu_p[playerid][ii]);
	return 1;
}


MinasPlayer(playerid)
{
	new cont;
	for(new i; i<MAX_MINAS; i++)
	{
	    if(Mina[i][mina_Existe] == 1)
	    {
	        if(Comparar(Nome(playerid), Mina[i][mina_Dono]))
	        {
	            cont ++;
	        }
	    }
	}
	return cont;
}

colocar_mina(playerid)
{
	new sss[300];
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	pos[2] -= 0.85;
	for(new i; i<MAX_MINAS; i++)
	{
	    if(Mina[i][mina_Existe] == 0)
	    {
	        Mina[i][mina_Existe] = 1;
	        Mina[i][mina_X] = pos[0];
	        Mina[i][mina_Y] = pos[1];
	        Mina[i][mina_Z] = pos[2];
	        Mina[i][mina_Base] = BasePlayer(playerid);
			format(Mina[i][mina_Dono], 40, Nome(playerid));
			format(sss, 300, "{00ff00}Mina Terrestre\n{ffffff}Dono:{a1a1a1} %s", Nome(playerid));
			Mina[i][mina_Obj] = CreateDynamicObject(MINA, pos[0], pos[1], pos[2], 0,0,0, 0, 0, -1, STREAMER_OBJECT_SD, STREAMER_OBJECT_DD, -1, 0);
			Mina[i][mina_3D] = CreateDynamic3DTextLabel( sss, 0xffff0090, pos[0], pos[1], pos[2], 4, INVALID_PLAYER_ID, INVALID_VEHICLE_ID, 0, 0, 0, -1, STREAMER_3D_TEXT_LABEL_SD, -1, 0);
			return 1;
	    }
	}
	return 0;
}

destruir_mina(i)
{
	if(Mina[i][mina_Existe] == 1)
	{
        Mina[i][mina_Existe] = 0;
	    DestroyDynamicObject_(Mina[i][mina_Obj]);
	    DestroyDynamic3DTextLabel(Mina[i][mina_3D]);
	    format(Mina[i][mina_Dono], 40, Nome(-1));
	}
	return 1;
}

forward Minas();
public Minas()
{
	for(new i; i<MAX_MINAS; i++)
	{
	    if(Mina[i][mina_Existe] == 1)
	    {
	        for(new p; p<MAX_PLAYERS; p++)
	        {
	            if(Online(p))
	            {
	                if(Modo[p] == 1)
	                {
	                    if(IsPlayerInRangeOfPoint(p, 3, Mina[i][mina_X], Mina[i][mina_Y], Mina[i][mina_Z]))
	                    {
	                        if(!Comparar(Nome(p), Mina[i][mina_Dono]))
	                        {
	                            if(Mina[i][mina_Base] == -1)
	                            {
	                                explodir_mina(i, p);
	                            }
	                            else if(BasePlayer(p) != Mina[i][mina_Base])
	                            {
	                                explodir_mina(i, p);
	                            }
	                        }
	                    }
	                }
	        	}
			}
	    }
	}
}

explodir_mina(i, playerid)
{
    new sss[300];
    format(sss, 300, "O player '%s' explodiu a sua mina terrestre.", Nome(playerid));
    new idp = -1;
    if(IsPlayerOnline(Mina[i][mina_Dono]))
	{
		idp = GetPlayerID(Mina[i][mina_Dono]);
		if(playerid != idp) ms(idp, 1, sss);
	}
	for(new p; p<MAX_PLAYERS; p++)
	{
	    if(Online(p))
	    {
	        if(Modo[p] == 1)
	        {
	            CreateExplosionForPlayer(p, Mina[i][mina_X], Mina[i][mina_Y], Mina[i][mina_Z], 0, 0.0);
	            if(IsPlayerInRangeOfPoint(p, 7, Mina[i][mina_X], Mina[i][mina_Y], Mina[i][mina_Z]))
	            {
	                Dano(p, idp, 50.0, -6666, 100);
	            }
			}
	    }
	}
	new Float:pos[4];
	pos[0] = Mina[i][mina_X];
	pos[1] = Mina[i][mina_Y];
	pos[2] = Mina[i][mina_Z];
	destruir_mina(i);

	for(new m; m<MAX_MINAS; m++)
	{
	    if(Mina[m][mina_Existe] == 1)
	    {
	        GetDistance(pos[3], pos[0], pos[1], pos[2], Mina[m][mina_X], Mina[m][mina_Y], Mina[m][mina_Z]);
	        if(pos[3] <= 7.0)
	        {
	            explodir_mina(m, playerid);
	        }
	    }
	}

	return 1;
}


forward ligando_servidor();
public ligando_servidor()
{
    KillTimer(timer_ligando);
    // iniciar carregamento da gm //
	if(etapa == 0)
	{
	    format(etapas[0], 300, "_");
	    format(etapas[1], 300, "_");
	    format(etapas[2], 300, "_");
	    etapa = 1;
	    timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 1)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOOTS");
	    etapa = 2;
	    if(carregar_loots()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 2)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO BASES");
	    etapa = 3;
	    if(carregar_bases()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 3)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO BAUS");
	    etapa = 4;
	    if(carregar_baus()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 4)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO MESAS");
	    etapa = 5;
	    if(carregar_mesas()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 5)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO OFICINAS");
	    etapa = 6;
	    if(carregar_oficinas()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 6)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LISTA ADMIN");
	    etapa = 7;
	    if(carregar_admins()) timer_ligando = SetTimer("ligando_servidor", 1000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 7)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO EQUIPAMENTOS NAS SKINS");
	    etapa = 8;
	    if(carregar_equipamentos()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 8)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO ARVORES");
	    etapa = 9;
	    if(carregar_arvores()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 9)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO PEDRAS");
	    etapa = 10;
	    if(carregar_pedras()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 10)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO CAMERAS");
	    etapa = 11;
	    if(carregar_cameras()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 11)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO OBJETOS");
	    etapa = 12;
	    if(carregar_objetos()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 12)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO ZOMBIES");
	    etapa = 13;
	    if(carregar_zombies()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 13)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO CAIXAS DE ITENS");
	    etapa = 14;
	    if(carregar_caixas()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 14)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO RECICLADORAS");
	    etapa = 15;
	    if(carregar_recicladoras()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 15)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO PORTOES");
	    etapa = 16;
	    if(carregar_portoes()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 16)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO ACTORS");
	    etapa = 17;
	    if(carregar_actors()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 17)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO MERCADOS NEGROS");
	    etapa = 18;
	    if(carregar_mercadosnegros()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 18)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO VEICULOS");
	    etapa = 19;
	    if(carregar_veiculos()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 19)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO CARROS QUEBRADOS");
	    etapa = 20;
	    if(carregar_carros()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 20)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO POSTOS");
	    etapa = 21;
	    if(carregar_postos()) timer_ligando = SetTimer("ligando_servidor", 2000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 21)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS CHATKILL");
	    etapa = 22;
	    if(carregar_log_kills()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 22)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS COMBATES");
	    etapa = 23;
	    if(carregar_log_combates()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 23)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS BAN");
	    etapa = 24;
	    if(carregar_log_ban()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 24)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS KICK");
	    etapa = 25;
	    if(carregar_log_kick()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 25)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS GMX");
	    etapa = 26;
	    if(carregar_log_gmx()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 26)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS ADMINS");
	    etapa = 27;
	    if(carregar_log_admin()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 27)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS PUNICOES");
	    etapa = 28;
	    if(carregar_log_punicao()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 28)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS CASH");
	    etapa = 29;
	    if(carregar_log_cash()) timer_ligando = SetTimer("ligando_servidor", 800, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 29)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO CADASTROS");
	    etapa = 30;
	    if(carregar_cadastros()) timer_ligando = SetTimer("ligando_servidor", 3000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 30)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOG CONECOES");
	    etapa = 31;
	    if(carregar_log_conecoes()) timer_ligando = SetTimer("ligando_servidor", 3000, 0);
	}

	// proxima etapa do carregamento //
	else if(etapa == 31)
	{
	    format(etapas[2], 300, etapas[1]);
	    format(etapas[1], 300, etapas[0]);
	    format(etapas[0], 300, "CARREGANDO LOGS");
	    if(carregar_log_nick())
	    {
	        // timers do servidor //
			SetTimer("Reloginho2", 1000, 1);
			SetTimer("Reloginho", 1000, 1);
			SetTimer("Minas", 400, 1);
		    SetTimer("deletar_items", 10000, 1);

		    print("   ");
	    	print("[ SERVIDOR LIGADO COM SUCESSO ]");
	    	print("Modo de carregamento lento.");
	    	print("   ");
	    	servidor_ligado = 1;

	    	for(new i; i<MAX_PLAYERS; i++)
	    	{
	    	    if(IsPlayerConnected(i))
	    	    {
	    	        if(esperando[i] == 1)
	    	        {
	    	            esperando[i] = 2;
                  		SpawnPlayer(i);
	    	        }
	    	    }
			}
	    }
	}

	TextDrawSetString(T_Ligando_Server[4], etapas[0]);
	TextDrawSetString(T_Ligando_Server[5], etapas[1]);
	TextDrawSetString(T_Ligando_Server[6], etapas[2]);
}



weapon_fire(weapon)
{
	new fire = 0;
	if(slot_arma(weapon) == 2) fire = 1;
	if(slot_arma(weapon) == 3) fire = 1;
	if(slot_arma(weapon) == 4) fire = 1;
	if(slot_arma(weapon) == 5) fire = 1;
	if(slot_arma(weapon) == 6) fire = 1;
	if(weapon == 38) fire = 1;
	return fire;
}

aliados(playerid, player)
{
	if(BasePlayer(playerid) != BasePlayer(player)) return 0;
	else return 1;
}



mostrar_morte(playerid)
{
    escondermorte(playerid);
    TextDrawShowForPlayer(playerid, TextMorreu[0]);
    SelectTextDraw_(playerid, 0x00ffffff);

    // reanimando //
    if(Reanimando[playerid] != 0)
    {
    	TextDrawShowForPlayer(playerid, TextMorreu[3]);
    	TextDrawShowForPlayer(playerid, TextMorreu[4]);
    	TextDrawShowForPlayer(playerid, TextMorreu[5]);
        PlayerTextDrawTextSize(playerid, TextMorreu_p[playerid][0],  210.0, 5.0);
        PlayerTextDrawShow(playerid, TextMorreu_p[playerid][0]);
        return 1;
    }

	// sendo salvo //
    new p = GetPVarInt(playerid, "salvando");
    if(Online(p))
    {
    	TextDrawShowForPlayer(playerid, TextMorreu[2]);
    	TextDrawShowForPlayer(playerid, TextMorreu[4]);
    	TextDrawShowForPlayer(playerid, TextMorreu[5]);
        PlayerTextDrawTextSize(playerid, TextMorreu_p[playerid][0],  210.0, 5.0);
		PlayerTextDrawShow(playerid, TextMorreu_p[playerid][0]);
		return 1;
	}


    // outras opcoes //
    TextDrawShowForPlayer(playerid, TextMorreu[1]);
    TextDrawShowForPlayer(playerid, TextMorreu[6]);
    TextDrawShowForPlayer(playerid, TextMorreu[7]);
    TextDrawShowForPlayer(playerid, TextMorreu[8]);
    TextDrawShowForPlayer(playerid, TextMorreu[9]);
    TextDrawShowForPlayer(playerid, TextMorreu[10]);
    TextDrawShowForPlayer(playerid, TextMorreu[11]);
    TextDrawShowForPlayer(playerid, TextMorreu[12]);
	return 1;
}

escondermorte(playerid)
{
	for(new i; i<sizeof TextMorreu; i++) TextDrawHideForPlayer(playerid, TextMorreu[i]);
	PlayerTextDrawHide(playerid, TextMorreu_p[playerid][0]);
	return 1;
}

mostrar_busola(playerid)
{
    for(new i; i<5; i++) PlayerTextDrawShow(playerid, T_Busola_p[playerid][i]);
    TextDrawShowForPlayer(playerid, T_Busola[0]);
	return 1;
}

esconder_busola(playerid)
{
    for(new i; i<5; i++) PlayerTextDrawHide(playerid, T_Busola_p[playerid][i]);
    TextDrawHideForPlayer(playerid, T_Busola[0]);
	return 1;
}

GetIP(playerid)
{
	new ip[16];
	GetPlayerIp(playerid, ip, sizeof(ip));
	return ip;
}


CountIP(ip[])
{
    if(Comparar("127.0.0.1", ip)) return 0;
	new b = 0;
	for(new i = 0; i < MAX_PLAYERS; i++)
	{
		if(IsPlayerConnected(i))
		{
		   if(Comparar(GetIP(i),ip)) b++;
		}
	}
	return b;
}

cadastro_conta(conta[])
{
    for(new i; i<MAX_CADASTROS; i++)
    {
        if(Cadastros[i][cadastro_Existe] == 1)
        {
            if(Comparar(conta, Cadastros[i][cadastro_Nick]))
            {
                return i;
            }
        }
    }
	return -1;
}

stock LimparChat(playerid, linhas)
{
	for(new b = 0; b <= linhas; b++) SendClientMessage(playerid, -1, "");
}

stock setVehicleSpeed( vehicleid, speed_mph )
{
	if(speed_mph < 1) speed_mph = 1;
	new Float: v[3], cur_speed_mph;
	GetVehicleVelocity( vehicleid, v[0], v[1], v[2] );
	cur_speed_mph = floatround( 200.0 * floatsqroot( v[0]*v[0] + v[1]*v[1] + v[2]*v[2] ), floatround_floor );
	if( cur_speed_mph <= 0 )
	{
		new Float: zAngle;
		GetVehicleZAngle( vehicleid, zAngle );
		new Float: newVelX = floatcos( (zAngle -= 270.0), degrees ) * speed_mph / 200.0;
		SetVehicleVelocity( vehicleid, newVelX, floattan(zAngle,degrees) * newVelX, 0.0 );
		return;
	}
    new Float: vMultiplier = float(speed_mph) / float(cur_speed_mph);
	SetVehicleVelocity( vehicleid, v[0] * vMultiplier, v[1] * vMultiplier, v[2] * vMultiplier );

}

nomebase(b)
{
	new nomess[100];
	if(b != -1) format(nomess, 100, Base[b][base_Nome]);
	else format(nomess, 100, "Nenhuma");
	return nomess;
}


remover_objetos_player(playerid)
{
	// mapa do rd //
	RemoveBuildingForPlayer(playerid, 5087, 1880.7109, -2112.6328, 21.2578, 0.25);
	RemoveBuildingForPlayer(playerid, 714, 2356.5313, -1192.7188, 26.1641, 0.25);
	RemoveBuildingForPlayer(playerid, 714, 2487.5781, -1206.8359, 38.0781, 0.25);
	RemoveBuildingForPlayer(playerid, 714, 2588.2500, -1090.0156, 66.0469, 0.25);
	RemoveBuildingForPlayer(playerid, 3647, 2513.4688, -1111.8281, 57.8359, 0.25);
	RemoveBuildingForPlayer(playerid, 3647, 2406.5469, -1112.5000, 41.5391, 0.25);
	RemoveBuildingForPlayer(playerid, 3654, 2372.6875, -1132.3359, 29.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3706, 2577.8984, -1095.5547, 68.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 3562, 2515.1094, -1132.4531, 42.6875, 0.25);
	RemoveBuildingForPlayer(playerid, 3562, 2470.8359, -1109.8594, 45.5547, 0.25);
	RemoveBuildingForPlayer(playerid, 3563, 2438.7891, -1109.7109, 44.1484, 0.25);
	RemoveBuildingForPlayer(playerid, 3561, 2488.2422, -1130.8516, 40.5547, 0.25);
	RemoveBuildingForPlayer(playerid, 3560, 2457.0625, -1105.6016, 44.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 3559, 2394.4297, -1130.6484, 31.9844, 0.25);
	RemoveBuildingForPlayer(playerid, 3581, 2427.0781, -1131.2656, 36.2813, 0.25);
	RemoveBuildingForPlayer(playerid, 714, 2356.3516, -1283.4063, 26.1641, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2356.8281, -1252.7109, 26.9688, 0.25);
	RemoveBuildingForPlayer(playerid, 1315, 2310.4844, -1158.8203, 29.1953, 0.25);
	RemoveBuildingForPlayer(playerid, 1315, 2316.3672, -1147.4297, 29.1797, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2368.3203, -1143.9141, 27.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2361.1563, -1136.1797, 28.3672, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2360.6953, -1141.3906, 28.0313, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2363.1094, -1143.9141, 27.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2359.6328, -1132.0391, 27.6797, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2394.8203, -1143.3047, 29.3125, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2389.6094, -1143.5703, 28.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2384.3594, -1143.8047, 28.2109, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2379.0938, -1143.9141, 27.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 3649, 2372.6875, -1132.3359, 29.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3558, 2394.4297, -1130.6484, 31.9844, 0.25);
	RemoveBuildingForPlayer(playerid, 3594, 2382.4141, -1131.0703, 28.4375, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2384.5625, -1120.0313, 27.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 673, 2396.7891, -1118.1406, 39.1875, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2386.7656, -1115.2344, 26.6094, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2396.0703, -1107.1875, 38.4766, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2403.4688, -1140.4453, 30.3047, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2417.3906, -1137.4531, 32.9063, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2413.2734, -1129.2109, 30.3359, 0.25);
	RemoveBuildingForPlayer(playerid, 3648, 2406.5469, -1112.5000, 41.5391, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2419.2109, -1139.1406, 32.8672, 0.25);
	RemoveBuildingForPlayer(playerid, 17907, 2426.1641, -1110.0938, 43.4844, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2427.0234, -1139.4688, 33.7031, 0.25);
	RemoveBuildingForPlayer(playerid, 3583, 2427.0781, -1131.2656, 36.2813, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2430.5000, -1139.4375, 33.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2434.0000, -1139.3984, 33.9219, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2435.6719, -1137.5625, 34.0313, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2435.6563, -1134.0781, 34.1563, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2435.6250, -1130.5547, 34.2734, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2449.9766, -1128.4063, 34.2109, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2456.7734, -1117.9844, 40.8906, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2481.5156, -1137.1328, 38.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2480.2734, -1134.0625, 38.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2474.3594, -1130.7344, 38.5078, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2468.8359, -1120.1016, 43.0391, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2484.4531, -1138.3906, 38.1953, 0.25);
	RemoveBuildingForPlayer(playerid, 3556, 2488.2422, -1130.8516, 40.5547, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2491.3516, -1138.4609, 38.7266, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2494.4219, -1137.3438, 38.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2495.7656, -1134.3906, 38.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2451.3516, -1115.9922, 41.6484, 0.25);
	RemoveBuildingForPlayer(playerid, 3555, 2438.7891, -1109.7109, 44.1484, 0.25);
	RemoveBuildingForPlayer(playerid, 621, 2447.9219, -1102.4141, 40.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2450.2422, -1103.8281, 42.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 3557, 2457.0625, -1105.6016, 44.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2448.3203, -1096.7109, 42.4219, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2450.4219, -1099.1406, 42.5625, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2473.0391, -1099.1953, 44.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2464.8203, -1100.7734, 43.5625, 0.25);
	RemoveBuildingForPlayer(playerid, 3582, 2470.8359, -1109.8594, 45.5547, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2477.6094, -1099.7813, 45.3672, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2460.9297, -1097.8750, 42.9922, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2465.4688, -1098.3594, 43.6328, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2516.4609, -1139.6563, 40.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2511.2031, -1139.6563, 40.3516, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2505.9453, -1139.6563, 39.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3582, 2515.1094, -1132.4531, 42.6875, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2500.7031, -1129.2266, 38.3516, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2521.6953, -1139.6563, 41.2656, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2524.3047, -1136.9609, 41.4297, 0.25);
	RemoveBuildingForPlayer(playerid, 3648, 2513.4688, -1111.8281, 57.8359, 0.25);
	RemoveBuildingForPlayer(playerid, 700, 2538.7891, -1105.0156, 59.2109, 0.25);
	RemoveBuildingForPlayer(playerid, 669, 2531.7109, -1112.0000, 56.6172, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2561.8359, -1097.7266, 65.9844, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2557.9375, -1094.0703, 65.8750, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2567.0313, -1080.2344, 68.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2565.8203, -1101.4297, 66.1563, 0.25);
	RemoveBuildingForPlayer(playerid, 17905, 2568.0234, -1098.3203, 59.5391, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2569.0859, -1076.3516, 69.0078, 0.25);
	RemoveBuildingForPlayer(playerid, 1468, 2569.7109, -1105.1719, 66.2500, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2571.7500, -1063.1250, 69.2344, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2569.7344, -1072.9141, 69.1016, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2571.0469, -1066.5938, 69.1250, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2570.6328, -1078.2266, 68.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 3646, 2577.8984, -1095.5547, 68.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2574.1719, -1078.6953, 68.8828, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2572.4375, -1059.6641, 69.2969, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2574.5234, -1057.9063, 69.3203, 0.25);
	RemoveBuildingForPlayer(playerid, 1418, 2578.0156, -1057.8516, 69.3203, 0.25);
	RemoveBuildingForPlayer(playerid, 700, 2581.2031, -1109.5781, 65.7266, 0.25);
	RemoveBuildingForPlayer(playerid, 710, 2412.9922, -1055.0078, 65.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 710, 2422.8516, -1022.1953, 66.4453, 0.25);
	RemoveBuildingForPlayer(playerid, 709, 2653.4219, -909.7031, 71.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 706, 2691.1953, -849.9297, 63.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 709, 2626.3828, -847.2813, 71.7656, 0.25);
	RemoveBuildingForPlayer(playerid, 706, 2559.3047, -915.7422, 81.7266, 0.25);
	RemoveBuildingForPlayer(playerid, 3340, 2460.0000, -1057.6172, 58.7344, 0.25);
	RemoveBuildingForPlayer(playerid, 3340, 2481.1719, -1067.4063, 65.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 3340, 2549.2188, -955.9063, 81.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 3341, 2440.4063, -1059.4375, 53.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 3341, 2462.6328, -1009.0313, 58.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 3298, 2458.7109, -944.4922, 79.5391, 0.25);
	RemoveBuildingForPlayer(playerid, 3298, 2530.0313, -960.0391, 81.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 3298, 2512.1797, -1023.9219, 69.5313, 0.25);
	RemoveBuildingForPlayer(playerid, 3298, 2578.9531, -1029.9844, 69.0859, 0.25);
	RemoveBuildingForPlayer(playerid, 3298, 2581.5000, -949.9453, 80.7969, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2434.6094, -1009.0781, 55.2422, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2449.5234, -961.8984, 81.0078, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2494.1797, -1017.1484, 66.2500, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2529.9531, -1028.8672, 70.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2544.5469, -1029.1250, 70.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2513.2109, -962.3281, 82.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2539.2656, -1066.3125, 70.5000, 0.25);
	RemoveBuildingForPlayer(playerid, 3300, 2586.6094, -971.5938, 82.2344, 0.25);
	RemoveBuildingForPlayer(playerid, 3299, 2494.9531, -959.6328, 81.6875, 0.25);
	RemoveBuildingForPlayer(playerid, 3299, 2493.3906, -944.1484, 81.6094, 0.25);
	RemoveBuildingForPlayer(playerid, 3299, 2523.5078, -1066.9063, 69.1094, 0.25);
	RemoveBuildingForPlayer(playerid, 3299, 2564.9609, -1028.2422, 69.0078, 0.25);
	RemoveBuildingForPlayer(playerid, 3301, 2502.3281, -1068.2969, 71.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 3299, 2466.2891, -959.1953, 79.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2417.4922, -1015.3516, 50.3359, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2421.7734, -1061.7578, 44.0703, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 2423.2891, -1051.1250, 49.1719, 0.25);
	RemoveBuildingForPlayer(playerid, 1368, 2430.9531, -1012.7656, 54.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 1409, 2436.7109, -1052.2500, 53.4297, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2434.6094, -1009.0781, 55.2422, 0.25);
	RemoveBuildingForPlayer(playerid, 3170, 2440.4063, -1059.4375, 53.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2441.9297, -1046.2656, 53.3359, 0.25);
	RemoveBuildingForPlayer(playerid, 700, 2443.3594, -1015.9219, 54.2266, 0.25);
	RemoveBuildingForPlayer(playerid, 3167, 2460.0000, -1057.6172, 58.7344, 0.25);
	RemoveBuildingForPlayer(playerid, 1409, 2459.4531, -1051.6094, 58.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 656, 2463.1172, -1049.2891, 58.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 3170, 2462.6328, -1009.0313, 58.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 1368, 2475.0313, -1065.2031, 66.5078, 0.25);
	RemoveBuildingForPlayer(playerid, 3167, 2481.1719, -1067.4063, 65.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 671, 2492.5156, -1059.1875, 66.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2494.1797, -1017.1484, 66.2500, 0.25);
	RemoveBuildingForPlayer(playerid, 1368, 2488.6641, -1018.6328, 65.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 3284, 2502.3281, -1068.2969, 71.0156, 0.25);
	RemoveBuildingForPlayer(playerid, 3283, 2523.5078, -1066.9063, 69.1094, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2520.8984, -1031.3750, 67.9531, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2529.9531, -1028.8672, 70.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 1409, 2528.6719, -1034.9219, 68.6719, 0.25);
	RemoveBuildingForPlayer(playerid, 3241, 2512.1797, -1023.9219, 69.5313, 0.25);
	RemoveBuildingForPlayer(playerid, 656, 2511.2734, -1014.6641, 68.0391, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2422.7422, -975.8047, 77.4766, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2427.3906, -975.2031, 78.0234, 0.25);
	RemoveBuildingForPlayer(playerid, 700, 2443.0000, -1006.6641, 55.9688, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2449.6875, -967.1094, 79.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2446.7188, -975.0703, 79.6016, 0.25);
	RemoveBuildingForPlayer(playerid, 759, 2455.3750, -975.6172, 78.6172, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2458.7969, -975.4375, 79.6953, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2463.5156, -975.4844, 79.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 671, 2471.6250, -976.6953, 78.6953, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2468.1172, -975.4297, 79.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2484.9297, -966.9922, 80.1641, 0.25);
	RemoveBuildingForPlayer(playerid, 759, 2489.1719, -975.4453, 79.9844, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2488.8672, -968.4609, 81.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2504.4531, -976.4844, 81.4844, 0.25);
	RemoveBuildingForPlayer(playerid, 673, 2516.9688, -979.1406, 80.9766, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2508.9844, -977.7891, 81.3359, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2513.4375, -978.9688, 81.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2527.3672, -979.6406, 81.6953, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2522.7656, -979.6953, 81.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2518.0469, -979.6484, 81.7891, 0.25);
	RemoveBuildingForPlayer(playerid, 759, 2521.3594, -966.9297, 81.0703, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2449.5234, -961.8984, 81.0078, 0.25);
	RemoveBuildingForPlayer(playerid, 3283, 2466.2891, -959.1953, 79.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 3283, 2494.9531, -959.6328, 81.6875, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2513.2109, -962.3281, 82.8984, 0.25);
	RemoveBuildingForPlayer(playerid, 3241, 2530.0313, -960.0391, 81.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2440.4688, -953.6328, 78.6406, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2442.7031, -955.3984, 79.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2522.1484, -952.4531, 80.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 3241, 2458.7109, -944.4922, 79.5391, 0.25);
	RemoveBuildingForPlayer(playerid, 3283, 2493.3906, -944.1484, 81.6094, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2539.2656, -1066.3125, 70.5000, 0.25);
	RemoveBuildingForPlayer(playerid, 1409, 2538.6484, -1058.6016, 68.6719, 0.25);
	RemoveBuildingForPlayer(playerid, 1409, 2545.1563, -1034.8984, 68.6641, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2544.5469, -1029.1250, 70.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 671, 2556.2422, -1033.2422, 68.5000, 0.25);
	RemoveBuildingForPlayer(playerid, 3241, 2578.9531, -1029.9844, 69.0859, 0.25);
	RemoveBuildingForPlayer(playerid, 1368, 2575.4141, -1033.3516, 69.2422, 0.25);
	RemoveBuildingForPlayer(playerid, 3283, 2564.9609, -1028.2422, 69.0078, 0.25);
	RemoveBuildingForPlayer(playerid, 671, 2533.4297, -977.9375, 80.7891, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2534.1172, -980.5938, 81.6719, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2540.5859, -975.1641, 80.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2541.3828, -962.5391, 81.6953, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2538.7422, -981.5391, 81.5781, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2549.6563, -983.8672, 81.4609, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2545.0391, -982.8750, 81.4453, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2543.8984, -964.5078, 81.8281, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2548.4922, -963.7813, 82.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2555.5547, -985.1719, 81.3516, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2582.1563, -978.2656, 81.0313, 0.25);
	RemoveBuildingForPlayer(playerid, 3285, 2586.6094, -971.5938, 82.2344, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2586.7500, -977.5391, 81.0625, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2591.4063, -976.8125, 81.0313, 0.25);
	RemoveBuildingForPlayer(playerid, 3167, 2549.2188, -955.9063, 81.2891, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2540.8516, -957.9141, 81.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2557.4766, -951.4141, 82.4453, 0.25);
	RemoveBuildingForPlayer(playerid, 1407, 2558.2422, -956.0000, 82.5078, 0.25);
	RemoveBuildingForPlayer(playerid, 3241, 2581.5000, -949.9453, 80.7969, 0.25);
	RemoveBuildingForPlayer(playerid, 617, 2605.3438, -946.5391, 79.1328, 0.25);
	RemoveBuildingForPlayer(playerid, 1410, 2584.0313, -941.8047, 81.0313, 0.25);

	// mapa aberto novo //
	RemoveBuildingForPlayer(playerid, 4191, 1353.2578, -1764.5313, 15.5938, 0.25);
	RemoveBuildingForPlayer(playerid, 4022, 1353.2578, -1764.5313, 15.5938, 0.25);
	RemoveBuildingForPlayer(playerid, 1532, 1353.1328, -1759.6563, 12.5000, 0.25);
	RemoveBuildingForPlayer(playerid, 4606, 1825.0000, -1413.9297, 12.5547, 0.25);
	RemoveBuildingForPlayer(playerid, 4594, 1825.0000, -1413.9297, 12.5547, 0.25);

	// remover objetos mercado negro //
	RemoveBuildingForPlayer(playerid, 2068, 292.2188, -34.8438, 1003.9609, 0.25);

	// remover objeto shoping //
	RemoveBuildingForPlayer(playerid, 6130, 1117.5859, -1490.0078, 32.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 6255, 1117.5859, -1490.0078, 32.7188, 0.25);

	// mapa da boate removida //
	RemoveBuildingForPlayer(playerid, 5544, 1873.7422, -1682.4766, 34.7969, 0.25);
	RemoveBuildingForPlayer(playerid, 1524, 1837.6641, -1640.3828, 13.7578, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1855.7188, -1741.5391, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1879.5078, -1741.4844, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1908.2188, -1741.4844, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 712, 1929.5781, -1736.9063, 21.3906, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1931.0391, -1726.3281, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1832.3828, -1694.3125, 9.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 1537, 1837.4375, -1683.9688, 12.3047, 0.25);
	RemoveBuildingForPlayer(playerid, 1533, 1837.4375, -1683.9531, 12.3047, 0.25);
	RemoveBuildingForPlayer(playerid, 1537, 1837.4375, -1686.9844, 12.3125, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1832.8984, -1670.7656, 9.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 1533, 1837.4375, -1677.9219, 12.2969, 0.25);
	RemoveBuildingForPlayer(playerid, 1537, 1837.4375, -1680.9531, 12.2969, 0.25);
	RemoveBuildingForPlayer(playerid, 1533, 1837.4375, -1680.9375, 12.2969, 0.25);
	RemoveBuildingForPlayer(playerid, 5408, 1873.7422, -1682.4766, 34.7969, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1931.0391, -1702.2891, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 712, 1929.5781, -1694.4609, 21.3906, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1931.0391, -1667.0313, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1931.0391, -1637.8984, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1855.7188, -1623.2813, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1879.5078, -1623.1016, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 620, 1908.2188, -1622.9844, 10.8047, 0.25);
	RemoveBuildingForPlayer(playerid, 712, 1929.5781, -1627.6250, 21.3906, 0.25);
	return 1;
}


forward respawn_player(playerid);
public respawn_player(playerid)
{
	SpawnPlayer(playerid);
	return 1;
}












